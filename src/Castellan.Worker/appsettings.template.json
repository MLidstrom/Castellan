{
  "Ingest": {
    "Evtx": {
      "Channels": [ "Security", "System" ],
      "XPath": "*[System[TimeCreated[timediff(@SystemTime) <= 30000]]]",
      "PollSeconds": 5
    }
  },
  "Alerts": {
    "MinRiskLevel": "high",
    "EnableConsoleAlerts": true,
    "EnableFileLogging": true
  },
  "Notifications": {
    "EnableDesktopNotifications": true,
    "NotificationLevel": "high",
    "NotificationTimeout": 5000,
    "ShowEventDetails": true,
    "ShowIPEnrichment": true
  },
  "Qdrant": {
    "UseCloud": false,
    "Host": "localhost",
    "Port": 6333,
    "Https": false,
    "ApiKey": "", // leave empty; prefer environment variable QDRANT__APIKEY
    "Collection": "log_events",
    "VectorSize": 768,
    "Distance": "Cosine"
  },
  "Embeddings": {
    "Provider": "Ollama",             
    "Model": "nomic-embed-text",
    "Endpoint": "http://localhost:11434",
    "OpenAIKey": "" // leave empty; prefer environment variable OPENAI_API_KEY
  },
  "LLM": {
    "Provider": "Ollama",
    "Model": "llama3.1:8b-instruct-q8_0",
    "Endpoint": "http://localhost:11434",
    "OpenAIModel": "gpt-4o-mini",
    "OpenAIKey": "" // leave empty; prefer environment variable OPENAI_API_KEY
  },
  "IPEnrichment": {
    "Enabled": true,
    "Provider": "MaxMind",
    "MaxMindCityDbPath": "data/GeoLite2-City.mmdb",
    "MaxMindASNDbPath": "data/GeoLite2-ASN.mmdb",
    "MaxMindCountryDbPath": "data/GeoLite2-Country.mmdb",
    "CacheMinutes": 60,
    "MaxCacheEntries": 10000,
    "TimeoutMs": 5000,
    "EnrichPrivateIPs": false,
    "HighRiskCountries": [ "CN", "RU", "KP", "IR", "SY", "BY" ],
    "HighRiskASNs": [],
    "EnableDebugLogging": false
  },
  "Pipeline": {
    "EnableParallelProcessing": true,
    "MaxConcurrency": 4,
    "ParallelOperationTimeoutMs": 30000,
    "EnableParallelVectorOperations": true,
    "BatchSize": 100,
    "ProcessingIntervalMs": 1000,
    "RetryAttempts": 3,
    "RetryDelayMs": 1000,
    
    // New Phase 3 Performance Optimization Settings
    "EnableSemaphoreThrottling": true,
    "MaxConcurrentTasks": 8,
    "SemaphoreTimeoutMs": 15000,
    "SkipOnThrottleTimeout": false,
    "EnableAdaptiveThrottling": false,
    "CpuThrottleThreshold": 80,
    
    // Memory Management & Retention
    "EventHistoryRetentionMinutes": 60,
    "MaxEventsPerCorrelationKey": 1000,
    "MemoryHighWaterMarkMB": 1024,
    "MemoryCleanupIntervalMinutes": 10,
    "EnableAggressiveGarbageCollection": false,
    "EnableMemoryPressureMonitoring": true,
    
    // Queue Management
    "MaxQueueDepth": 1000,
    "EnableQueueBackPressure": true,
    "DropOldestOnQueueFull": false,
    
    // Performance Monitoring
    "EnableDetailedMetrics": true,
    "MetricsIntervalMs": 30000,
    "EnablePerformanceAlerts": true
  },
  "Authentication": {
    "Jwt": {
      "SecretKey": "", // REQUIRED: Set via environment variable AUTHENTICATION__JWT__SECRETKEY or appsettings config
      "Issuer": "castellan-security",
      "Audience": "castellan-admin",
      "ExpirationHours": 24
    },
    "AdminUser": {
      "Username": "", // REQUIRED: Set via environment variable AUTHENTICATION__ADMINUSER__USERNAME or appsettings config
      "Password": "", // REQUIRED: Set via environment variable AUTHENTICATION__ADMINUSER__PASSWORD or appsettings config
      "Email": "admin@castellan.security",
      "FirstName": "Castellan",
      "LastName": "Administrator"
    }
  },
  "Startup": {
    "AutoStart": {
      "Enabled": true,
      "Qdrant": true,
      "ReactAdmin": true,
      "SystemTray": true
    }
  }
}

