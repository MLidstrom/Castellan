var Py=Object.defineProperty;var Lh=e=>{throw TypeError(e)};var Iy=(e,t,r)=>t in e?Py(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Oh=(e,t,r)=>Iy(e,typeof t!="symbol"?t+"":t,r),Ao=(e,t,r)=>t.has(e)||Lh("Cannot "+r);var N=(e,t,r)=>(Ao(e,t,"read from private field"),r?r.call(e):t.get(e)),Y=(e,t,r)=>t.has(e)?Lh("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),B=(e,t,r,n)=>(Ao(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),ee=(e,t,r)=>(Ao(e,t,"access private method"),r);var Di=(e,t,r,n)=>({set _(a){B(e,t,a,r)},get _(){return N(e,t,n)}});function My(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var kl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function td(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Im={exports:{}},lo={},Mm={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ki=Symbol.for("react.element"),Ry=Symbol.for("react.portal"),Dy=Symbol.for("react.fragment"),Ly=Symbol.for("react.strict_mode"),Oy=Symbol.for("react.profiler"),Ay=Symbol.for("react.provider"),Fy=Symbol.for("react.context"),zy=Symbol.for("react.forward_ref"),Uy=Symbol.for("react.suspense"),$y=Symbol.for("react.memo"),By=Symbol.for("react.lazy"),Ah=Symbol.iterator;function Hy(e){return e===null||typeof e!="object"?null:(e=Ah&&e[Ah]||e["@@iterator"],typeof e=="function"?e:null)}var Rm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Dm=Object.assign,Lm={};function ss(e,t,r){this.props=e,this.context=t,this.refs=Lm,this.updater=r||Rm}ss.prototype.isReactComponent={};ss.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ss.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Om(){}Om.prototype=ss.prototype;function rd(e,t,r){this.props=e,this.context=t,this.refs=Lm,this.updater=r||Rm}var nd=rd.prototype=new Om;nd.constructor=rd;Dm(nd,ss.prototype);nd.isPureReactComponent=!0;var Fh=Array.isArray,Am=Object.prototype.hasOwnProperty,ad={current:null},Fm={key:!0,ref:!0,__self:!0,__source:!0};function zm(e,t,r){var n,a={},i=null,l=null;if(t!=null)for(n in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)Am.call(t,n)&&!Fm.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:ki,type:e,key:i,ref:l,props:a,_owner:ad.current}}function qy(e,t){return{$$typeof:ki,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function sd(e){return typeof e=="object"&&e!==null&&e.$$typeof===ki}function Wy(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var zh=/\/+/g;function Fo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Wy(""+e.key):t.toString(36)}function al(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case ki:case Ry:l=!0}}if(l)return l=e,a=a(l),e=n===""?"."+Fo(l,0):n,Fh(a)?(r="",e!=null&&(r=e.replace(zh,"$&/")+"/"),al(a,t,r,"",function(u){return u})):a!=null&&(sd(a)&&(a=qy(a,r+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(zh,"$&/")+"/")+e)),t.push(a)),1;if(l=0,n=n===""?".":n+":",Fh(e))for(var o=0;o<e.length;o++){i=e[o];var c=n+Fo(i,o);l+=al(i,t,r,c,a)}else if(c=Hy(e),typeof c=="function")for(e=c.call(e),o=0;!(i=e.next()).done;)i=i.value,c=n+Fo(i,o++),l+=al(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Li(e,t,r){if(e==null)return e;var n=[],a=0;return al(e,n,"","",function(i){return t.call(r,i,a++)}),n}function Qy(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var lt={current:null},sl={transition:null},Vy={ReactCurrentDispatcher:lt,ReactCurrentBatchConfig:sl,ReactCurrentOwner:ad};function Um(){throw Error("act(...) is not supported in production builds of React.")}ne.Children={map:Li,forEach:function(e,t,r){Li(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Li(e,function(){t++}),t},toArray:function(e){return Li(e,function(t){return t})||[]},only:function(e){if(!sd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ne.Component=ss;ne.Fragment=Dy;ne.Profiler=Oy;ne.PureComponent=rd;ne.StrictMode=Ly;ne.Suspense=Uy;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vy;ne.act=Um;ne.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Dm({},e.props),a=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=ad.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)Am.call(t,c)&&!Fm.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:ki,type:e.type,key:a,ref:i,props:n,_owner:l}};ne.createContext=function(e){return e={$$typeof:Fy,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Ay,_context:e},e.Consumer=e};ne.createElement=zm;ne.createFactory=function(e){var t=zm.bind(null,e);return t.type=e,t};ne.createRef=function(){return{current:null}};ne.forwardRef=function(e){return{$$typeof:zy,render:e}};ne.isValidElement=sd;ne.lazy=function(e){return{$$typeof:By,_payload:{_status:-1,_result:e},_init:Qy}};ne.memo=function(e,t){return{$$typeof:$y,type:e,compare:t===void 0?null:t}};ne.startTransition=function(e){var t=sl.transition;sl.transition={};try{e()}finally{sl.transition=t}};ne.unstable_act=Um;ne.useCallback=function(e,t){return lt.current.useCallback(e,t)};ne.useContext=function(e){return lt.current.useContext(e)};ne.useDebugValue=function(){};ne.useDeferredValue=function(e){return lt.current.useDeferredValue(e)};ne.useEffect=function(e,t){return lt.current.useEffect(e,t)};ne.useId=function(){return lt.current.useId()};ne.useImperativeHandle=function(e,t,r){return lt.current.useImperativeHandle(e,t,r)};ne.useInsertionEffect=function(e,t){return lt.current.useInsertionEffect(e,t)};ne.useLayoutEffect=function(e,t){return lt.current.useLayoutEffect(e,t)};ne.useMemo=function(e,t){return lt.current.useMemo(e,t)};ne.useReducer=function(e,t,r){return lt.current.useReducer(e,t,r)};ne.useRef=function(e){return lt.current.useRef(e)};ne.useState=function(e){return lt.current.useState(e)};ne.useSyncExternalStore=function(e,t,r){return lt.current.useSyncExternalStore(e,t,r)};ne.useTransition=function(){return lt.current.useTransition()};ne.version="18.3.1";Mm.exports=ne;var w=Mm.exports;const id=td(w),Ky=My({__proto__:null,default:id},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yy=w,Gy=Symbol.for("react.element"),Xy=Symbol.for("react.fragment"),Jy=Object.prototype.hasOwnProperty,Zy=Yy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ev={key:!0,ref:!0,__self:!0,__source:!0};function $m(e,t,r){var n,a={},i=null,l=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(n in t)Jy.call(t,n)&&!ev.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:Gy,type:e,key:i,ref:l,props:a,_owner:Zy.current}}lo.Fragment=Xy;lo.jsx=$m;lo.jsxs=$m;Im.exports=lo;var s=Im.exports,Cc={},Bm={exports:{}},Mt={},Hm={exports:{}},qm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(_,K){var k=_.length;_.push(K);e:for(;0<k;){var ae=k-1>>>1,oe=_[ae];if(0<a(oe,K))_[ae]=K,_[k]=oe,k=ae;else break e}}function r(_){return _.length===0?null:_[0]}function n(_){if(_.length===0)return null;var K=_[0],k=_.pop();if(k!==K){_[0]=k;e:for(var ae=0,oe=_.length,E=oe>>>1;ae<E;){var H=2*(ae+1)-1,re=_[H],ce=H+1,jt=_[ce];if(0>a(re,k))ce<oe&&0>a(jt,re)?(_[ae]=jt,_[ce]=k,ae=ce):(_[ae]=re,_[H]=k,ae=H);else if(ce<oe&&0>a(jt,k))_[ae]=jt,_[ce]=k,ae=ce;else break e}}return K}function a(_,K){var k=_.sortIndex-K.sortIndex;return k!==0?k:_.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var c=[],u=[],h=1,d=null,g=3,f=!1,y=!1,v=!1,S=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(_){for(var K=r(u);K!==null;){if(K.callback===null)n(u);else if(K.startTime<=_)n(u),K.sortIndex=K.expirationTime,t(c,K);else break;K=r(u)}}function b(_){if(v=!1,x(_),!y)if(r(c)!==null)y=!0,q(j);else{var K=r(u);K!==null&&te(b,K.startTime-_)}}function j(_,K){y=!1,v&&(v=!1,m(D),D=-1),f=!0;var k=g;try{for(x(K),d=r(c);d!==null&&(!(d.expirationTime>K)||_&&!P());){var ae=d.callback;if(typeof ae=="function"){d.callback=null,g=d.priorityLevel;var oe=ae(d.expirationTime<=K);K=e.unstable_now(),typeof oe=="function"?d.callback=oe:d===r(c)&&n(c),x(K)}else n(c);d=r(c)}if(d!==null)var E=!0;else{var H=r(u);H!==null&&te(b,H.startTime-K),E=!1}return E}finally{d=null,g=k,f=!1}}var C=!1,T=null,D=-1,U=5,R=-1;function P(){return!(e.unstable_now()-R<U)}function A(){if(T!==null){var _=e.unstable_now();R=_;var K=!0;try{K=T(!0,_)}finally{K?Q():(C=!1,T=null)}}else C=!1}var Q;if(typeof p=="function")Q=function(){p(A)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,O=L.port2;L.port1.onmessage=A,Q=function(){O.postMessage(null)}}else Q=function(){S(A,0)};function q(_){T=_,C||(C=!0,Q())}function te(_,K){D=S(function(){_(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(_){_.callback=null},e.unstable_continueExecution=function(){y||f||(y=!0,q(j))},e.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<_?Math.floor(1e3/_):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(_){switch(g){case 1:case 2:case 3:var K=3;break;default:K=g}var k=g;g=K;try{return _()}finally{g=k}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(_,K){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var k=g;g=_;try{return K()}finally{g=k}},e.unstable_scheduleCallback=function(_,K,k){var ae=e.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?ae+k:ae):k=ae,_){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=k+oe,_={id:h++,callback:K,priorityLevel:_,startTime:k,expirationTime:oe,sortIndex:-1},k>ae?(_.sortIndex=k,t(u,_),r(c)===null&&_===r(u)&&(v?(m(D),D=-1):v=!0,te(b,k-ae))):(_.sortIndex=oe,t(c,_),y||f||(y=!0,q(j))),_},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(_){var K=g;return function(){var k=g;g=K;try{return _.apply(this,arguments)}finally{g=k}}}})(qm);Hm.exports=qm;var tv=Hm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rv=w,It=tv;function F(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Wm=new Set,Vs={};function oa(e,t){Xa(e,t),Xa(e+"Capture",t)}function Xa(e,t){for(Vs[e]=t,e=0;e<t.length;e++)Wm.add(t[e])}var Rr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ec=Object.prototype.hasOwnProperty,nv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Uh={},$h={};function av(e){return Ec.call($h,e)?!0:Ec.call(Uh,e)?!1:nv.test(e)?$h[e]=!0:(Uh[e]=!0,!1)}function sv(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function iv(e,t,r,n){if(t===null||typeof t>"u"||sv(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ot(e,t,r,n,a,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var Ye={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ye[e]=new ot(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ye[t]=new ot(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ye[e]=new ot(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ye[e]=new ot(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ye[e]=new ot(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ye[e]=new ot(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ye[e]=new ot(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ye[e]=new ot(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ye[e]=new ot(e,5,!1,e.toLowerCase(),null,!1,!1)});var ld=/[\-:]([a-z])/g;function od(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ld,od);Ye[t]=new ot(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ld,od);Ye[t]=new ot(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ld,od);Ye[t]=new ot(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ye[e]=new ot(e,1,!1,e.toLowerCase(),null,!1,!1)});Ye.xlinkHref=new ot("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ye[e]=new ot(e,1,!1,e.toLowerCase(),null,!0,!0)});function cd(e,t,r,n){var a=Ye.hasOwnProperty(t)?Ye[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(iv(t,r,a,n)&&(r=null),n||a===null?av(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Fr=rv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Oi=Symbol.for("react.element"),va=Symbol.for("react.portal"),ba=Symbol.for("react.fragment"),ud=Symbol.for("react.strict_mode"),_c=Symbol.for("react.profiler"),Qm=Symbol.for("react.provider"),Vm=Symbol.for("react.context"),dd=Symbol.for("react.forward_ref"),Tc=Symbol.for("react.suspense"),Pc=Symbol.for("react.suspense_list"),hd=Symbol.for("react.memo"),Wr=Symbol.for("react.lazy"),Km=Symbol.for("react.offscreen"),Bh=Symbol.iterator;function ys(e){return e===null||typeof e!="object"?null:(e=Bh&&e[Bh]||e["@@iterator"],typeof e=="function"?e:null)}var Ee=Object.assign,zo;function Ps(e){if(zo===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);zo=t&&t[1]||""}return`
`+zo+e}var Uo=!1;function $o(e,t){if(!e||Uo)return"";Uo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),l=a.length-1,o=i.length-1;1<=l&&0<=o&&a[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(a[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||a[l]!==i[o]){var c=`
`+a[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=o);break}}}finally{Uo=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ps(e):""}function lv(e){switch(e.tag){case 5:return Ps(e.type);case 16:return Ps("Lazy");case 13:return Ps("Suspense");case 19:return Ps("SuspenseList");case 0:case 2:case 15:return e=$o(e.type,!1),e;case 11:return e=$o(e.type.render,!1),e;case 1:return e=$o(e.type,!0),e;default:return""}}function Ic(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ba:return"Fragment";case va:return"Portal";case _c:return"Profiler";case ud:return"StrictMode";case Tc:return"Suspense";case Pc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Vm:return(e.displayName||"Context")+".Consumer";case Qm:return(e._context.displayName||"Context")+".Provider";case dd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case hd:return t=e.displayName||null,t!==null?t:Ic(e.type)||"Memo";case Wr:t=e._payload,e=e._init;try{return Ic(e(t))}catch{}}return null}function ov(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ic(t);case 8:return t===ud?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function kn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ym(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function cv(e){var t=Ym(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(l){n=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ai(e){e._valueTracker||(e._valueTracker=cv(e))}function Gm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Ym(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function wl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Mc(e,t){var r=t.checked;return Ee({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Hh(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=kn(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Xm(e,t){t=t.checked,t!=null&&cd(e,"checked",t,!1)}function Rc(e,t){Xm(e,t);var r=kn(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Dc(e,t.type,r):t.hasOwnProperty("defaultValue")&&Dc(e,t.type,kn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function qh(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Dc(e,t,r){(t!=="number"||wl(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Is=Array.isArray;function Ia(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+kn(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Lc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(F(91));return Ee({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Wh(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(F(92));if(Is(r)){if(1<r.length)throw Error(F(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:kn(r)}}function Jm(e,t){var r=kn(t.value),n=kn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Qh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Zm(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Oc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Zm(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Fi,e0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Fi=Fi||document.createElement("div"),Fi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ks(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ls={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uv=["Webkit","ms","Moz","O"];Object.keys(Ls).forEach(function(e){uv.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ls[t]=Ls[e]})});function t0(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ls.hasOwnProperty(e)&&Ls[e]?(""+t).trim():t+"px"}function r0(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=t0(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var dv=Ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ac(e,t){if(t){if(dv[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(F(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(F(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(F(61))}if(t.style!=null&&typeof t.style!="object")throw Error(F(62))}}function Fc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zc=null;function fd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Uc=null,Ma=null,Ra=null;function Vh(e){if(e=Si(e)){if(typeof Uc!="function")throw Error(F(280));var t=e.stateNode;t&&(t=fo(t),Uc(e.stateNode,e.type,t))}}function n0(e){Ma?Ra?Ra.push(e):Ra=[e]:Ma=e}function a0(){if(Ma){var e=Ma,t=Ra;if(Ra=Ma=null,Vh(e),t)for(e=0;e<t.length;e++)Vh(t[e])}}function s0(e,t){return e(t)}function i0(){}var Bo=!1;function l0(e,t,r){if(Bo)return e(t,r);Bo=!0;try{return s0(e,t,r)}finally{Bo=!1,(Ma!==null||Ra!==null)&&(i0(),a0())}}function Ys(e,t){var r=e.stateNode;if(r===null)return null;var n=fo(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(F(231,t,typeof r));return r}var $c=!1;if(Rr)try{var vs={};Object.defineProperty(vs,"passive",{get:function(){$c=!0}}),window.addEventListener("test",vs,vs),window.removeEventListener("test",vs,vs)}catch{$c=!1}function hv(e,t,r,n,a,i,l,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(h){this.onError(h)}}var Os=!1,jl=null,Sl=!1,Bc=null,fv={onError:function(e){Os=!0,jl=e}};function gv(e,t,r,n,a,i,l,o,c){Os=!1,jl=null,hv.apply(fv,arguments)}function mv(e,t,r,n,a,i,l,o,c){if(gv.apply(this,arguments),Os){if(Os){var u=jl;Os=!1,jl=null}else throw Error(F(198));Sl||(Sl=!0,Bc=u)}}function ca(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function o0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Kh(e){if(ca(e)!==e)throw Error(F(188))}function pv(e){var t=e.alternate;if(!t){if(t=ca(e),t===null)throw Error(F(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return Kh(a),e;if(i===n)return Kh(a),t;i=i.sibling}throw Error(F(188))}if(r.return!==n.return)r=a,n=i;else{for(var l=!1,o=a.child;o;){if(o===r){l=!0,r=a,n=i;break}if(o===n){l=!0,n=a,r=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===r){l=!0,r=i,n=a;break}if(o===n){l=!0,n=i,r=a;break}o=o.sibling}if(!l)throw Error(F(189))}}if(r.alternate!==n)throw Error(F(190))}if(r.tag!==3)throw Error(F(188));return r.stateNode.current===r?e:t}function c0(e){return e=pv(e),e!==null?u0(e):null}function u0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=u0(e);if(t!==null)return t;e=e.sibling}return null}var d0=It.unstable_scheduleCallback,Yh=It.unstable_cancelCallback,xv=It.unstable_shouldYield,yv=It.unstable_requestPaint,Pe=It.unstable_now,vv=It.unstable_getCurrentPriorityLevel,gd=It.unstable_ImmediatePriority,h0=It.unstable_UserBlockingPriority,Nl=It.unstable_NormalPriority,bv=It.unstable_LowPriority,f0=It.unstable_IdlePriority,oo=null,fr=null;function kv(e){if(fr&&typeof fr.onCommitFiberRoot=="function")try{fr.onCommitFiberRoot(oo,e,void 0,(e.current.flags&128)===128)}catch{}}var Zt=Math.clz32?Math.clz32:Sv,wv=Math.log,jv=Math.LN2;function Sv(e){return e>>>=0,e===0?32:31-(wv(e)/jv|0)|0}var zi=64,Ui=4194304;function Ms(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Cl(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,l=r&268435455;if(l!==0){var o=l&~a;o!==0?n=Ms(o):(i&=l,i!==0&&(n=Ms(i)))}else l=r&~a,l!==0?n=Ms(l):i!==0&&(n=Ms(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Zt(t),a=1<<r,n|=e[r],t&=~a;return n}function Nv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cv(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-Zt(i),o=1<<l,c=a[l];c===-1?(!(o&r)||o&n)&&(a[l]=Nv(o,t)):c<=t&&(e.expiredLanes|=o),i&=~o}}function Hc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function g0(){var e=zi;return zi<<=1,!(zi&4194240)&&(zi=64),e}function Ho(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function wi(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Zt(t),e[t]=r}function Ev(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Zt(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function md(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Zt(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var fe=0;function m0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var p0,pd,x0,y0,v0,qc=!1,$i=[],un=null,dn=null,hn=null,Gs=new Map,Xs=new Map,Vr=[],_v="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gh(e,t){switch(e){case"focusin":case"focusout":un=null;break;case"dragenter":case"dragleave":dn=null;break;case"mouseover":case"mouseout":hn=null;break;case"pointerover":case"pointerout":Gs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xs.delete(t.pointerId)}}function bs(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Si(t),t!==null&&pd(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Tv(e,t,r,n,a){switch(t){case"focusin":return un=bs(un,e,t,r,n,a),!0;case"dragenter":return dn=bs(dn,e,t,r,n,a),!0;case"mouseover":return hn=bs(hn,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Gs.set(i,bs(Gs.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Xs.set(i,bs(Xs.get(i)||null,e,t,r,n,a)),!0}return!1}function b0(e){var t=Ln(e.target);if(t!==null){var r=ca(t);if(r!==null){if(t=r.tag,t===13){if(t=o0(r),t!==null){e.blockedOn=t,v0(e.priority,function(){x0(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function il(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Wc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);zc=n,r.target.dispatchEvent(n),zc=null}else return t=Si(r),t!==null&&pd(t),e.blockedOn=r,!1;t.shift()}return!0}function Xh(e,t,r){il(e)&&r.delete(t)}function Pv(){qc=!1,un!==null&&il(un)&&(un=null),dn!==null&&il(dn)&&(dn=null),hn!==null&&il(hn)&&(hn=null),Gs.forEach(Xh),Xs.forEach(Xh)}function ks(e,t){e.blockedOn===t&&(e.blockedOn=null,qc||(qc=!0,It.unstable_scheduleCallback(It.unstable_NormalPriority,Pv)))}function Js(e){function t(a){return ks(a,e)}if(0<$i.length){ks($i[0],e);for(var r=1;r<$i.length;r++){var n=$i[r];n.blockedOn===e&&(n.blockedOn=null)}}for(un!==null&&ks(un,e),dn!==null&&ks(dn,e),hn!==null&&ks(hn,e),Gs.forEach(t),Xs.forEach(t),r=0;r<Vr.length;r++)n=Vr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Vr.length&&(r=Vr[0],r.blockedOn===null);)b0(r),r.blockedOn===null&&Vr.shift()}var Da=Fr.ReactCurrentBatchConfig,El=!0;function Iv(e,t,r,n){var a=fe,i=Da.transition;Da.transition=null;try{fe=1,xd(e,t,r,n)}finally{fe=a,Da.transition=i}}function Mv(e,t,r,n){var a=fe,i=Da.transition;Da.transition=null;try{fe=4,xd(e,t,r,n)}finally{fe=a,Da.transition=i}}function xd(e,t,r,n){if(El){var a=Wc(e,t,r,n);if(a===null)Zo(e,t,n,_l,r),Gh(e,n);else if(Tv(a,e,t,r,n))n.stopPropagation();else if(Gh(e,n),t&4&&-1<_v.indexOf(e)){for(;a!==null;){var i=Si(a);if(i!==null&&p0(i),i=Wc(e,t,r,n),i===null&&Zo(e,t,n,_l,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else Zo(e,t,n,null,r)}}var _l=null;function Wc(e,t,r,n){if(_l=null,e=fd(n),e=Ln(e),e!==null)if(t=ca(e),t===null)e=null;else if(r=t.tag,r===13){if(e=o0(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return _l=e,null}function k0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vv()){case gd:return 1;case h0:return 4;case Nl:case bv:return 16;case f0:return 536870912;default:return 16}default:return 16}}var sn=null,yd=null,ll=null;function w0(){if(ll)return ll;var e,t=yd,r=t.length,n,a="value"in sn?sn.value:sn.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var l=r-e;for(n=1;n<=l&&t[r-n]===a[i-n];n++);return ll=a.slice(e,1<n?1-n:void 0)}function ol(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Bi(){return!0}function Jh(){return!1}function Rt(e){function t(r,n,a,i,l){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Bi:Jh,this.isPropagationStopped=Jh,this}return Ee(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Bi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Bi)},persist:function(){},isPersistent:Bi}),t}var is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vd=Rt(is),ji=Ee({},is,{view:0,detail:0}),Rv=Rt(ji),qo,Wo,ws,co=Ee({},ji,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ws&&(ws&&e.type==="mousemove"?(qo=e.screenX-ws.screenX,Wo=e.screenY-ws.screenY):Wo=qo=0,ws=e),qo)},movementY:function(e){return"movementY"in e?e.movementY:Wo}}),Zh=Rt(co),Dv=Ee({},co,{dataTransfer:0}),Lv=Rt(Dv),Ov=Ee({},ji,{relatedTarget:0}),Qo=Rt(Ov),Av=Ee({},is,{animationName:0,elapsedTime:0,pseudoElement:0}),Fv=Rt(Av),zv=Ee({},is,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Uv=Rt(zv),$v=Ee({},is,{data:0}),ef=Rt($v),Bv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=qv[e])?!!t[e]:!1}function bd(){return Wv}var Qv=Ee({},ji,{key:function(e){if(e.key){var t=Bv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ol(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Hv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bd,charCode:function(e){return e.type==="keypress"?ol(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ol(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Vv=Rt(Qv),Kv=Ee({},co,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tf=Rt(Kv),Yv=Ee({},ji,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bd}),Gv=Rt(Yv),Xv=Ee({},is,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jv=Rt(Xv),Zv=Ee({},co,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),eb=Rt(Zv),tb=[9,13,27,32],kd=Rr&&"CompositionEvent"in window,As=null;Rr&&"documentMode"in document&&(As=document.documentMode);var rb=Rr&&"TextEvent"in window&&!As,j0=Rr&&(!kd||As&&8<As&&11>=As),rf=" ",nf=!1;function S0(e,t){switch(e){case"keyup":return tb.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function N0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ka=!1;function nb(e,t){switch(e){case"compositionend":return N0(t);case"keypress":return t.which!==32?null:(nf=!0,rf);case"textInput":return e=t.data,e===rf&&nf?null:e;default:return null}}function ab(e,t){if(ka)return e==="compositionend"||!kd&&S0(e,t)?(e=w0(),ll=yd=sn=null,ka=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return j0&&t.locale!=="ko"?null:t.data;default:return null}}var sb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function af(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!sb[e.type]:t==="textarea"}function C0(e,t,r,n){n0(n),t=Tl(t,"onChange"),0<t.length&&(r=new vd("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Fs=null,Zs=null;function ib(e){A0(e,0)}function uo(e){var t=Sa(e);if(Gm(t))return e}function lb(e,t){if(e==="change")return t}var E0=!1;if(Rr){var Vo;if(Rr){var Ko="oninput"in document;if(!Ko){var sf=document.createElement("div");sf.setAttribute("oninput","return;"),Ko=typeof sf.oninput=="function"}Vo=Ko}else Vo=!1;E0=Vo&&(!document.documentMode||9<document.documentMode)}function lf(){Fs&&(Fs.detachEvent("onpropertychange",_0),Zs=Fs=null)}function _0(e){if(e.propertyName==="value"&&uo(Zs)){var t=[];C0(t,Zs,e,fd(e)),l0(ib,t)}}function ob(e,t,r){e==="focusin"?(lf(),Fs=t,Zs=r,Fs.attachEvent("onpropertychange",_0)):e==="focusout"&&lf()}function cb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return uo(Zs)}function ub(e,t){if(e==="click")return uo(t)}function db(e,t){if(e==="input"||e==="change")return uo(t)}function hb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tr=typeof Object.is=="function"?Object.is:hb;function ei(e,t){if(tr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Ec.call(t,a)||!tr(e[a],t[a]))return!1}return!0}function of(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cf(e,t){var r=of(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=of(r)}}function T0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?T0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function P0(){for(var e=window,t=wl();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=wl(e.document)}return t}function wd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function fb(e){var t=P0(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&T0(r.ownerDocument.documentElement,r)){if(n!==null&&wd(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=cf(r,i);var l=cf(r,n);a&&l&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gb=Rr&&"documentMode"in document&&11>=document.documentMode,wa=null,Qc=null,zs=null,Vc=!1;function uf(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Vc||wa==null||wa!==wl(n)||(n=wa,"selectionStart"in n&&wd(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),zs&&ei(zs,n)||(zs=n,n=Tl(Qc,"onSelect"),0<n.length&&(t=new vd("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=wa)))}function Hi(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ja={animationend:Hi("Animation","AnimationEnd"),animationiteration:Hi("Animation","AnimationIteration"),animationstart:Hi("Animation","AnimationStart"),transitionend:Hi("Transition","TransitionEnd")},Yo={},I0={};Rr&&(I0=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);function ho(e){if(Yo[e])return Yo[e];if(!ja[e])return e;var t=ja[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in I0)return Yo[e]=t[r];return e}var M0=ho("animationend"),R0=ho("animationiteration"),D0=ho("animationstart"),L0=ho("transitionend"),O0=new Map,df="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sn(e,t){O0.set(e,t),oa(t,[e])}for(var Go=0;Go<df.length;Go++){var Xo=df[Go],mb=Xo.toLowerCase(),pb=Xo[0].toUpperCase()+Xo.slice(1);Sn(mb,"on"+pb)}Sn(M0,"onAnimationEnd");Sn(R0,"onAnimationIteration");Sn(D0,"onAnimationStart");Sn("dblclick","onDoubleClick");Sn("focusin","onFocus");Sn("focusout","onBlur");Sn(L0,"onTransitionEnd");Xa("onMouseEnter",["mouseout","mouseover"]);Xa("onMouseLeave",["mouseout","mouseover"]);Xa("onPointerEnter",["pointerout","pointerover"]);Xa("onPointerLeave",["pointerout","pointerover"]);oa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));oa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));oa("onBeforeInput",["compositionend","keypress","textInput","paste"]);oa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));oa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));oa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xb=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rs));function hf(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,mv(n,t,void 0,e),e.currentTarget=null}function A0(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var l=n.length-1;0<=l;l--){var o=n[l],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==i&&a.isPropagationStopped())break e;hf(a,o,u),i=c}else for(l=0;l<n.length;l++){if(o=n[l],c=o.instance,u=o.currentTarget,o=o.listener,c!==i&&a.isPropagationStopped())break e;hf(a,o,u),i=c}}}if(Sl)throw e=Bc,Sl=!1,Bc=null,e}function ve(e,t){var r=t[Jc];r===void 0&&(r=t[Jc]=new Set);var n=e+"__bubble";r.has(n)||(F0(t,e,2,!1),r.add(n))}function Jo(e,t,r){var n=0;t&&(n|=4),F0(r,e,n,t)}var qi="_reactListening"+Math.random().toString(36).slice(2);function ti(e){if(!e[qi]){e[qi]=!0,Wm.forEach(function(r){r!=="selectionchange"&&(xb.has(r)||Jo(r,!1,e),Jo(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[qi]||(t[qi]=!0,Jo("selectionchange",!1,t))}}function F0(e,t,r,n){switch(k0(t)){case 1:var a=Iv;break;case 4:a=Mv;break;default:a=xd}r=a.bind(null,t,r,e),a=void 0,!$c||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Zo(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(l===4)for(l=n.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;l=l.return}for(;o!==null;){if(l=Ln(o),l===null)return;if(c=l.tag,c===5||c===6){n=i=l;continue e}o=o.parentNode}}n=n.return}l0(function(){var u=i,h=fd(r),d=[];e:{var g=O0.get(e);if(g!==void 0){var f=vd,y=e;switch(e){case"keypress":if(ol(r)===0)break e;case"keydown":case"keyup":f=Vv;break;case"focusin":y="focus",f=Qo;break;case"focusout":y="blur",f=Qo;break;case"beforeblur":case"afterblur":f=Qo;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Zh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=Lv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=Gv;break;case M0:case R0:case D0:f=Fv;break;case L0:f=Jv;break;case"scroll":f=Rv;break;case"wheel":f=eb;break;case"copy":case"cut":case"paste":f=Uv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=tf}var v=(t&4)!==0,S=!v&&e==="scroll",m=v?g!==null?g+"Capture":null:g;v=[];for(var p=u,x;p!==null;){x=p;var b=x.stateNode;if(x.tag===5&&b!==null&&(x=b,m!==null&&(b=Ys(p,m),b!=null&&v.push(ri(p,b,x)))),S)break;p=p.return}0<v.length&&(g=new f(g,y,null,r,h),d.push({event:g,listeners:v}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",g&&r!==zc&&(y=r.relatedTarget||r.fromElement)&&(Ln(y)||y[Dr]))break e;if((f||g)&&(g=h.window===h?h:(g=h.ownerDocument)?g.defaultView||g.parentWindow:window,f?(y=r.relatedTarget||r.toElement,f=u,y=y?Ln(y):null,y!==null&&(S=ca(y),y!==S||y.tag!==5&&y.tag!==6)&&(y=null)):(f=null,y=u),f!==y)){if(v=Zh,b="onMouseLeave",m="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(v=tf,b="onPointerLeave",m="onPointerEnter",p="pointer"),S=f==null?g:Sa(f),x=y==null?g:Sa(y),g=new v(b,p+"leave",f,r,h),g.target=S,g.relatedTarget=x,b=null,Ln(h)===u&&(v=new v(m,p+"enter",y,r,h),v.target=x,v.relatedTarget=S,b=v),S=b,f&&y)t:{for(v=f,m=y,p=0,x=v;x;x=ma(x))p++;for(x=0,b=m;b;b=ma(b))x++;for(;0<p-x;)v=ma(v),p--;for(;0<x-p;)m=ma(m),x--;for(;p--;){if(v===m||m!==null&&v===m.alternate)break t;v=ma(v),m=ma(m)}v=null}else v=null;f!==null&&ff(d,g,f,v,!1),y!==null&&S!==null&&ff(d,S,y,v,!0)}}e:{if(g=u?Sa(u):window,f=g.nodeName&&g.nodeName.toLowerCase(),f==="select"||f==="input"&&g.type==="file")var j=lb;else if(af(g))if(E0)j=db;else{j=cb;var C=ob}else(f=g.nodeName)&&f.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(j=ub);if(j&&(j=j(e,u))){C0(d,j,r,h);break e}C&&C(e,g,u),e==="focusout"&&(C=g._wrapperState)&&C.controlled&&g.type==="number"&&Dc(g,"number",g.value)}switch(C=u?Sa(u):window,e){case"focusin":(af(C)||C.contentEditable==="true")&&(wa=C,Qc=u,zs=null);break;case"focusout":zs=Qc=wa=null;break;case"mousedown":Vc=!0;break;case"contextmenu":case"mouseup":case"dragend":Vc=!1,uf(d,r,h);break;case"selectionchange":if(gb)break;case"keydown":case"keyup":uf(d,r,h)}var T;if(kd)e:{switch(e){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else ka?S0(e,r)&&(D="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(D="onCompositionStart");D&&(j0&&r.locale!=="ko"&&(ka||D!=="onCompositionStart"?D==="onCompositionEnd"&&ka&&(T=w0()):(sn=h,yd="value"in sn?sn.value:sn.textContent,ka=!0)),C=Tl(u,D),0<C.length&&(D=new ef(D,e,null,r,h),d.push({event:D,listeners:C}),T?D.data=T:(T=N0(r),T!==null&&(D.data=T)))),(T=rb?nb(e,r):ab(e,r))&&(u=Tl(u,"onBeforeInput"),0<u.length&&(h=new ef("onBeforeInput","beforeinput",null,r,h),d.push({event:h,listeners:u}),h.data=T))}A0(d,t)})}function ri(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Tl(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Ys(e,r),i!=null&&n.unshift(ri(e,i,a)),i=Ys(e,t),i!=null&&n.push(ri(e,i,a))),e=e.return}return n}function ma(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ff(e,t,r,n,a){for(var i=t._reactName,l=[];r!==null&&r!==n;){var o=r,c=o.alternate,u=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&u!==null&&(o=u,a?(c=Ys(r,i),c!=null&&l.unshift(ri(r,c,o))):a||(c=Ys(r,i),c!=null&&l.push(ri(r,c,o)))),r=r.return}l.length!==0&&e.push({event:t,listeners:l})}var yb=/\r\n?/g,vb=/\u0000|\uFFFD/g;function gf(e){return(typeof e=="string"?e:""+e).replace(yb,`
`).replace(vb,"")}function Wi(e,t,r){if(t=gf(t),gf(e)!==t&&r)throw Error(F(425))}function Pl(){}var Kc=null,Yc=null;function Gc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Xc=typeof setTimeout=="function"?setTimeout:void 0,bb=typeof clearTimeout=="function"?clearTimeout:void 0,mf=typeof Promise=="function"?Promise:void 0,kb=typeof queueMicrotask=="function"?queueMicrotask:typeof mf<"u"?function(e){return mf.resolve(null).then(e).catch(wb)}:Xc;function wb(e){setTimeout(function(){throw e})}function ec(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Js(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Js(t)}function fn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function pf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ls=Math.random().toString(36).slice(2),ur="__reactFiber$"+ls,ni="__reactProps$"+ls,Dr="__reactContainer$"+ls,Jc="__reactEvents$"+ls,jb="__reactListeners$"+ls,Sb="__reactHandles$"+ls;function Ln(e){var t=e[ur];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Dr]||r[ur]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=pf(e);e!==null;){if(r=e[ur])return r;e=pf(e)}return t}e=r,r=e.parentNode}return null}function Si(e){return e=e[ur]||e[Dr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Sa(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(F(33))}function fo(e){return e[ni]||null}var Zc=[],Na=-1;function Nn(e){return{current:e}}function be(e){0>Na||(e.current=Zc[Na],Zc[Na]=null,Na--)}function pe(e,t){Na++,Zc[Na]=e.current,e.current=t}var wn={},et=Nn(wn),pt=Nn(!1),Jn=wn;function Ja(e,t){var r=e.type.contextTypes;if(!r)return wn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function xt(e){return e=e.childContextTypes,e!=null}function Il(){be(pt),be(et)}function xf(e,t,r){if(et.current!==wn)throw Error(F(168));pe(et,t),pe(pt,r)}function z0(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(F(108,ov(e)||"Unknown",a));return Ee({},r,n)}function Ml(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||wn,Jn=et.current,pe(et,e),pe(pt,pt.current),!0}function yf(e,t,r){var n=e.stateNode;if(!n)throw Error(F(169));r?(e=z0(e,t,Jn),n.__reactInternalMemoizedMergedChildContext=e,be(pt),be(et),pe(et,e)):be(pt),pe(pt,r)}var jr=null,go=!1,tc=!1;function U0(e){jr===null?jr=[e]:jr.push(e)}function Nb(e){go=!0,U0(e)}function Cn(){if(!tc&&jr!==null){tc=!0;var e=0,t=fe;try{var r=jr;for(fe=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}jr=null,go=!1}catch(a){throw jr!==null&&(jr=jr.slice(e+1)),d0(gd,Cn),a}finally{fe=t,tc=!1}}return null}var Ca=[],Ea=0,Rl=null,Dl=0,Ot=[],At=0,Zn=null,_r=1,Tr="";function In(e,t){Ca[Ea++]=Dl,Ca[Ea++]=Rl,Rl=e,Dl=t}function $0(e,t,r){Ot[At++]=_r,Ot[At++]=Tr,Ot[At++]=Zn,Zn=e;var n=_r;e=Tr;var a=32-Zt(n)-1;n&=~(1<<a),r+=1;var i=32-Zt(t)+a;if(30<i){var l=a-a%5;i=(n&(1<<l)-1).toString(32),n>>=l,a-=l,_r=1<<32-Zt(t)+a|r<<a|n,Tr=i+e}else _r=1<<i|r<<a|n,Tr=e}function jd(e){e.return!==null&&(In(e,1),$0(e,1,0))}function Sd(e){for(;e===Rl;)Rl=Ca[--Ea],Ca[Ea]=null,Dl=Ca[--Ea],Ca[Ea]=null;for(;e===Zn;)Zn=Ot[--At],Ot[At]=null,Tr=Ot[--At],Ot[At]=null,_r=Ot[--At],Ot[At]=null}var Pt=null,Et=null,je=!1,Xt=null;function B0(e,t){var r=zt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function vf(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Pt=e,Et=fn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Pt=e,Et=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Zn!==null?{id:_r,overflow:Tr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=zt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Pt=e,Et=null,!0):!1;default:return!1}}function eu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function tu(e){if(je){var t=Et;if(t){var r=t;if(!vf(e,t)){if(eu(e))throw Error(F(418));t=fn(r.nextSibling);var n=Pt;t&&vf(e,t)?B0(n,r):(e.flags=e.flags&-4097|2,je=!1,Pt=e)}}else{if(eu(e))throw Error(F(418));e.flags=e.flags&-4097|2,je=!1,Pt=e}}}function bf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Pt=e}function Qi(e){if(e!==Pt)return!1;if(!je)return bf(e),je=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Gc(e.type,e.memoizedProps)),t&&(t=Et)){if(eu(e))throw H0(),Error(F(418));for(;t;)B0(e,t),t=fn(t.nextSibling)}if(bf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(F(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Et=fn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Et=null}}else Et=Pt?fn(e.stateNode.nextSibling):null;return!0}function H0(){for(var e=Et;e;)e=fn(e.nextSibling)}function Za(){Et=Pt=null,je=!1}function Nd(e){Xt===null?Xt=[e]:Xt.push(e)}var Cb=Fr.ReactCurrentBatchConfig;function js(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(F(309));var n=r.stateNode}if(!n)throw Error(F(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var o=a.refs;l===null?delete o[i]:o[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error(F(284));if(!r._owner)throw Error(F(290,e))}return e}function Vi(e,t){throw e=Object.prototype.toString.call(t),Error(F(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function kf(e){var t=e._init;return t(e._payload)}function q0(e){function t(m,p){if(e){var x=m.deletions;x===null?(m.deletions=[p],m.flags|=16):x.push(p)}}function r(m,p){if(!e)return null;for(;p!==null;)t(m,p),p=p.sibling;return null}function n(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function a(m,p){return m=xn(m,p),m.index=0,m.sibling=null,m}function i(m,p,x){return m.index=x,e?(x=m.alternate,x!==null?(x=x.index,x<p?(m.flags|=2,p):x):(m.flags|=2,p)):(m.flags|=1048576,p)}function l(m){return e&&m.alternate===null&&(m.flags|=2),m}function o(m,p,x,b){return p===null||p.tag!==6?(p=oc(x,m.mode,b),p.return=m,p):(p=a(p,x),p.return=m,p)}function c(m,p,x,b){var j=x.type;return j===ba?h(m,p,x.props.children,b,x.key):p!==null&&(p.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Wr&&kf(j)===p.type)?(b=a(p,x.props),b.ref=js(m,p,x),b.return=m,b):(b=ml(x.type,x.key,x.props,null,m.mode,b),b.ref=js(m,p,x),b.return=m,b)}function u(m,p,x,b){return p===null||p.tag!==4||p.stateNode.containerInfo!==x.containerInfo||p.stateNode.implementation!==x.implementation?(p=cc(x,m.mode,b),p.return=m,p):(p=a(p,x.children||[]),p.return=m,p)}function h(m,p,x,b,j){return p===null||p.tag!==7?(p=Yn(x,m.mode,b,j),p.return=m,p):(p=a(p,x),p.return=m,p)}function d(m,p,x){if(typeof p=="string"&&p!==""||typeof p=="number")return p=oc(""+p,m.mode,x),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Oi:return x=ml(p.type,p.key,p.props,null,m.mode,x),x.ref=js(m,null,p),x.return=m,x;case va:return p=cc(p,m.mode,x),p.return=m,p;case Wr:var b=p._init;return d(m,b(p._payload),x)}if(Is(p)||ys(p))return p=Yn(p,m.mode,x,null),p.return=m,p;Vi(m,p)}return null}function g(m,p,x,b){var j=p!==null?p.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return j!==null?null:o(m,p,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Oi:return x.key===j?c(m,p,x,b):null;case va:return x.key===j?u(m,p,x,b):null;case Wr:return j=x._init,g(m,p,j(x._payload),b)}if(Is(x)||ys(x))return j!==null?null:h(m,p,x,b,null);Vi(m,x)}return null}function f(m,p,x,b,j){if(typeof b=="string"&&b!==""||typeof b=="number")return m=m.get(x)||null,o(p,m,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Oi:return m=m.get(b.key===null?x:b.key)||null,c(p,m,b,j);case va:return m=m.get(b.key===null?x:b.key)||null,u(p,m,b,j);case Wr:var C=b._init;return f(m,p,x,C(b._payload),j)}if(Is(b)||ys(b))return m=m.get(x)||null,h(p,m,b,j,null);Vi(p,b)}return null}function y(m,p,x,b){for(var j=null,C=null,T=p,D=p=0,U=null;T!==null&&D<x.length;D++){T.index>D?(U=T,T=null):U=T.sibling;var R=g(m,T,x[D],b);if(R===null){T===null&&(T=U);break}e&&T&&R.alternate===null&&t(m,T),p=i(R,p,D),C===null?j=R:C.sibling=R,C=R,T=U}if(D===x.length)return r(m,T),je&&In(m,D),j;if(T===null){for(;D<x.length;D++)T=d(m,x[D],b),T!==null&&(p=i(T,p,D),C===null?j=T:C.sibling=T,C=T);return je&&In(m,D),j}for(T=n(m,T);D<x.length;D++)U=f(T,m,D,x[D],b),U!==null&&(e&&U.alternate!==null&&T.delete(U.key===null?D:U.key),p=i(U,p,D),C===null?j=U:C.sibling=U,C=U);return e&&T.forEach(function(P){return t(m,P)}),je&&In(m,D),j}function v(m,p,x,b){var j=ys(x);if(typeof j!="function")throw Error(F(150));if(x=j.call(x),x==null)throw Error(F(151));for(var C=j=null,T=p,D=p=0,U=null,R=x.next();T!==null&&!R.done;D++,R=x.next()){T.index>D?(U=T,T=null):U=T.sibling;var P=g(m,T,R.value,b);if(P===null){T===null&&(T=U);break}e&&T&&P.alternate===null&&t(m,T),p=i(P,p,D),C===null?j=P:C.sibling=P,C=P,T=U}if(R.done)return r(m,T),je&&In(m,D),j;if(T===null){for(;!R.done;D++,R=x.next())R=d(m,R.value,b),R!==null&&(p=i(R,p,D),C===null?j=R:C.sibling=R,C=R);return je&&In(m,D),j}for(T=n(m,T);!R.done;D++,R=x.next())R=f(T,m,D,R.value,b),R!==null&&(e&&R.alternate!==null&&T.delete(R.key===null?D:R.key),p=i(R,p,D),C===null?j=R:C.sibling=R,C=R);return e&&T.forEach(function(A){return t(m,A)}),je&&In(m,D),j}function S(m,p,x,b){if(typeof x=="object"&&x!==null&&x.type===ba&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Oi:e:{for(var j=x.key,C=p;C!==null;){if(C.key===j){if(j=x.type,j===ba){if(C.tag===7){r(m,C.sibling),p=a(C,x.props.children),p.return=m,m=p;break e}}else if(C.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Wr&&kf(j)===C.type){r(m,C.sibling),p=a(C,x.props),p.ref=js(m,C,x),p.return=m,m=p;break e}r(m,C);break}else t(m,C);C=C.sibling}x.type===ba?(p=Yn(x.props.children,m.mode,b,x.key),p.return=m,m=p):(b=ml(x.type,x.key,x.props,null,m.mode,b),b.ref=js(m,p,x),b.return=m,m=b)}return l(m);case va:e:{for(C=x.key;p!==null;){if(p.key===C)if(p.tag===4&&p.stateNode.containerInfo===x.containerInfo&&p.stateNode.implementation===x.implementation){r(m,p.sibling),p=a(p,x.children||[]),p.return=m,m=p;break e}else{r(m,p);break}else t(m,p);p=p.sibling}p=cc(x,m.mode,b),p.return=m,m=p}return l(m);case Wr:return C=x._init,S(m,p,C(x._payload),b)}if(Is(x))return y(m,p,x,b);if(ys(x))return v(m,p,x,b);Vi(m,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,p!==null&&p.tag===6?(r(m,p.sibling),p=a(p,x),p.return=m,m=p):(r(m,p),p=oc(x,m.mode,b),p.return=m,m=p),l(m)):r(m,p)}return S}var es=q0(!0),W0=q0(!1),Ll=Nn(null),Ol=null,_a=null,Cd=null;function Ed(){Cd=_a=Ol=null}function _d(e){var t=Ll.current;be(Ll),e._currentValue=t}function ru(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function La(e,t){Ol=e,Cd=_a=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(mt=!0),e.firstContext=null)}function $t(e){var t=e._currentValue;if(Cd!==e)if(e={context:e,memoizedValue:t,next:null},_a===null){if(Ol===null)throw Error(F(308));_a=e,Ol.dependencies={lanes:0,firstContext:e}}else _a=_a.next=e;return t}var On=null;function Td(e){On===null?On=[e]:On.push(e)}function Q0(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,Td(t)):(r.next=a.next,a.next=r),t.interleaved=r,Lr(e,n)}function Lr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Qr=!1;function Pd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function V0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function gn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,le&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Lr(e,r)}return a=n.interleaved,a===null?(t.next=t,Td(n)):(t.next=a.next,a.next=t),n.interleaved=t,Lr(e,r)}function cl(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,md(e,r)}}function wf(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=l:i=i.next=l,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Al(e,t,r,n){var a=e.updateQueue;Qr=!1;var i=a.firstBaseUpdate,l=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var c=o,u=c.next;c.next=null,l===null?i=u:l.next=u,l=c;var h=e.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==l&&(o===null?h.firstBaseUpdate=u:o.next=u,h.lastBaseUpdate=c))}if(i!==null){var d=a.baseState;l=0,h=u=c=null,o=i;do{var g=o.lane,f=o.eventTime;if((n&g)===g){h!==null&&(h=h.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=e,v=o;switch(g=t,f=r,v.tag){case 1:if(y=v.payload,typeof y=="function"){d=y.call(f,d,g);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,g=typeof y=="function"?y.call(f,d,g):y,g==null)break e;d=Ee({},d,g);break e;case 2:Qr=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,g=a.effects,g===null?a.effects=[o]:g.push(o))}else f={eventTime:f,lane:g,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(u=h=f,c=d):h=h.next=f,l|=g;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;g=o,o=g.next,g.next=null,a.lastBaseUpdate=g,a.shared.pending=null}}while(!0);if(h===null&&(c=d),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=h,t=a.shared.interleaved,t!==null){a=t;do l|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);ta|=l,e.lanes=l,e.memoizedState=d}}function jf(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(F(191,a));a.call(n)}}}var Ni={},gr=Nn(Ni),ai=Nn(Ni),si=Nn(Ni);function An(e){if(e===Ni)throw Error(F(174));return e}function Id(e,t){switch(pe(si,t),pe(ai,e),pe(gr,Ni),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Oc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Oc(t,e)}be(gr),pe(gr,t)}function ts(){be(gr),be(ai),be(si)}function K0(e){An(si.current);var t=An(gr.current),r=Oc(t,e.type);t!==r&&(pe(ai,e),pe(gr,r))}function Md(e){ai.current===e&&(be(gr),be(ai))}var Se=Nn(0);function Fl(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var rc=[];function Rd(){for(var e=0;e<rc.length;e++)rc[e]._workInProgressVersionPrimary=null;rc.length=0}var ul=Fr.ReactCurrentDispatcher,nc=Fr.ReactCurrentBatchConfig,ea=0,Ce=null,Ue=null,He=null,zl=!1,Us=!1,ii=0,Eb=0;function Ge(){throw Error(F(321))}function Dd(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!tr(e[r],t[r]))return!1;return!0}function Ld(e,t,r,n,a,i){if(ea=i,Ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ul.current=e===null||e.memoizedState===null?Ib:Mb,e=r(n,a),Us){i=0;do{if(Us=!1,ii=0,25<=i)throw Error(F(301));i+=1,He=Ue=null,t.updateQueue=null,ul.current=Rb,e=r(n,a)}while(Us)}if(ul.current=Ul,t=Ue!==null&&Ue.next!==null,ea=0,He=Ue=Ce=null,zl=!1,t)throw Error(F(300));return e}function Od(){var e=ii!==0;return ii=0,e}function ar(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?Ce.memoizedState=He=e:He=He.next=e,He}function Bt(){if(Ue===null){var e=Ce.alternate;e=e!==null?e.memoizedState:null}else e=Ue.next;var t=He===null?Ce.memoizedState:He.next;if(t!==null)He=t,Ue=e;else{if(e===null)throw Error(F(310));Ue=e,e={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},He===null?Ce.memoizedState=He=e:He=He.next=e}return He}function li(e,t){return typeof t=="function"?t(e):t}function ac(e){var t=Bt(),r=t.queue;if(r===null)throw Error(F(311));r.lastRenderedReducer=e;var n=Ue,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var l=a.next;a.next=i.next,i.next=l}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var o=l=null,c=null,u=i;do{var h=u.lane;if((ea&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=d,l=n):c=c.next=d,Ce.lanes|=h,ta|=h}u=u.next}while(u!==null&&u!==i);c===null?l=n:c.next=o,tr(n,t.memoizedState)||(mt=!0),t.memoizedState=n,t.baseState=l,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Ce.lanes|=i,ta|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function sc(e){var t=Bt(),r=t.queue;if(r===null)throw Error(F(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var l=a=a.next;do i=e(i,l.action),l=l.next;while(l!==a);tr(i,t.memoizedState)||(mt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Y0(){}function G0(e,t){var r=Ce,n=Bt(),a=t(),i=!tr(n.memoizedState,a);if(i&&(n.memoizedState=a,mt=!0),n=n.queue,Ad(Z0.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||He!==null&&He.memoizedState.tag&1){if(r.flags|=2048,oi(9,J0.bind(null,r,n,a,t),void 0,null),We===null)throw Error(F(349));ea&30||X0(r,t,a)}return a}function X0(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ce.updateQueue,t===null?(t={lastEffect:null,stores:null},Ce.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function J0(e,t,r,n){t.value=r,t.getSnapshot=n,ep(t)&&tp(e)}function Z0(e,t,r){return r(function(){ep(t)&&tp(e)})}function ep(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!tr(e,r)}catch{return!0}}function tp(e){var t=Lr(e,1);t!==null&&er(t,e,1,-1)}function Sf(e){var t=ar();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:e},t.queue=e,e=e.dispatch=Pb.bind(null,Ce,e),[t.memoizedState,e]}function oi(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ce.updateQueue,t===null?(t={lastEffect:null,stores:null},Ce.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function rp(){return Bt().memoizedState}function dl(e,t,r,n){var a=ar();Ce.flags|=e,a.memoizedState=oi(1|t,r,void 0,n===void 0?null:n)}function mo(e,t,r,n){var a=Bt();n=n===void 0?null:n;var i=void 0;if(Ue!==null){var l=Ue.memoizedState;if(i=l.destroy,n!==null&&Dd(n,l.deps)){a.memoizedState=oi(t,r,i,n);return}}Ce.flags|=e,a.memoizedState=oi(1|t,r,i,n)}function Nf(e,t){return dl(8390656,8,e,t)}function Ad(e,t){return mo(2048,8,e,t)}function np(e,t){return mo(4,2,e,t)}function ap(e,t){return mo(4,4,e,t)}function sp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ip(e,t,r){return r=r!=null?r.concat([e]):null,mo(4,4,sp.bind(null,t,e),r)}function Fd(){}function lp(e,t){var r=Bt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Dd(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function op(e,t){var r=Bt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Dd(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function cp(e,t,r){return ea&21?(tr(r,t)||(r=g0(),Ce.lanes|=r,ta|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,mt=!0),e.memoizedState=r)}function _b(e,t){var r=fe;fe=r!==0&&4>r?r:4,e(!0);var n=nc.transition;nc.transition={};try{e(!1),t()}finally{fe=r,nc.transition=n}}function up(){return Bt().memoizedState}function Tb(e,t,r){var n=pn(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},dp(e))hp(t,r);else if(r=Q0(e,t,r,n),r!==null){var a=it();er(r,e,n,a),fp(r,t,n)}}function Pb(e,t,r){var n=pn(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(dp(e))hp(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,o=i(l,r);if(a.hasEagerState=!0,a.eagerState=o,tr(o,l)){var c=t.interleaved;c===null?(a.next=a,Td(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=Q0(e,t,a,n),r!==null&&(a=it(),er(r,e,n,a),fp(r,t,n))}}function dp(e){var t=e.alternate;return e===Ce||t!==null&&t===Ce}function hp(e,t){Us=zl=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function fp(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,md(e,r)}}var Ul={readContext:$t,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useInsertionEffect:Ge,useLayoutEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useMutableSource:Ge,useSyncExternalStore:Ge,useId:Ge,unstable_isNewReconciler:!1},Ib={readContext:$t,useCallback:function(e,t){return ar().memoizedState=[e,t===void 0?null:t],e},useContext:$t,useEffect:Nf,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,dl(4194308,4,sp.bind(null,t,e),r)},useLayoutEffect:function(e,t){return dl(4194308,4,e,t)},useInsertionEffect:function(e,t){return dl(4,2,e,t)},useMemo:function(e,t){var r=ar();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ar();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Tb.bind(null,Ce,e),[n.memoizedState,e]},useRef:function(e){var t=ar();return e={current:e},t.memoizedState=e},useState:Sf,useDebugValue:Fd,useDeferredValue:function(e){return ar().memoizedState=e},useTransition:function(){var e=Sf(!1),t=e[0];return e=_b.bind(null,e[1]),ar().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ce,a=ar();if(je){if(r===void 0)throw Error(F(407));r=r()}else{if(r=t(),We===null)throw Error(F(349));ea&30||X0(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,Nf(Z0.bind(null,n,i,e),[e]),n.flags|=2048,oi(9,J0.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=ar(),t=We.identifierPrefix;if(je){var r=Tr,n=_r;r=(n&~(1<<32-Zt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=ii++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Eb++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Mb={readContext:$t,useCallback:lp,useContext:$t,useEffect:Ad,useImperativeHandle:ip,useInsertionEffect:np,useLayoutEffect:ap,useMemo:op,useReducer:ac,useRef:rp,useState:function(){return ac(li)},useDebugValue:Fd,useDeferredValue:function(e){var t=Bt();return cp(t,Ue.memoizedState,e)},useTransition:function(){var e=ac(li)[0],t=Bt().memoizedState;return[e,t]},useMutableSource:Y0,useSyncExternalStore:G0,useId:up,unstable_isNewReconciler:!1},Rb={readContext:$t,useCallback:lp,useContext:$t,useEffect:Ad,useImperativeHandle:ip,useInsertionEffect:np,useLayoutEffect:ap,useMemo:op,useReducer:sc,useRef:rp,useState:function(){return sc(li)},useDebugValue:Fd,useDeferredValue:function(e){var t=Bt();return Ue===null?t.memoizedState=e:cp(t,Ue.memoizedState,e)},useTransition:function(){var e=sc(li)[0],t=Bt().memoizedState;return[e,t]},useMutableSource:Y0,useSyncExternalStore:G0,useId:up,unstable_isNewReconciler:!1};function Qt(e,t){if(e&&e.defaultProps){t=Ee({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function nu(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ee({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var po={isMounted:function(e){return(e=e._reactInternals)?ca(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=it(),a=pn(e),i=Pr(n,a);i.payload=t,r!=null&&(i.callback=r),t=gn(e,i,a),t!==null&&(er(t,e,a,n),cl(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=it(),a=pn(e),i=Pr(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=gn(e,i,a),t!==null&&(er(t,e,a,n),cl(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=it(),n=pn(e),a=Pr(r,n);a.tag=2,t!=null&&(a.callback=t),t=gn(e,a,n),t!==null&&(er(t,e,n,r),cl(t,e,n))}};function Cf(e,t,r,n,a,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,l):t.prototype&&t.prototype.isPureReactComponent?!ei(r,n)||!ei(a,i):!0}function gp(e,t,r){var n=!1,a=wn,i=t.contextType;return typeof i=="object"&&i!==null?i=$t(i):(a=xt(t)?Jn:et.current,n=t.contextTypes,i=(n=n!=null)?Ja(e,a):wn),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=po,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function Ef(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&po.enqueueReplaceState(t,t.state,null)}function au(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Pd(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=$t(i):(i=xt(t)?Jn:et.current,a.context=Ja(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(nu(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&po.enqueueReplaceState(a,a.state,null),Al(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function rs(e,t){try{var r="",n=t;do r+=lv(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function ic(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function su(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Db=typeof WeakMap=="function"?WeakMap:Map;function mp(e,t,r){r=Pr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Bl||(Bl=!0,mu=n),su(e,t)},r}function pp(e,t,r){r=Pr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){su(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){su(e,t),typeof n!="function"&&(mn===null?mn=new Set([this]):mn.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),r}function _f(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Db;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=Kb.bind(null,e,t,r),t.then(e,e))}function Tf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Pf(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Pr(-1,1),t.tag=2,gn(r,t,1))),r.lanes|=1),e)}var Lb=Fr.ReactCurrentOwner,mt=!1;function at(e,t,r,n){t.child=e===null?W0(t,null,r,n):es(t,e.child,r,n)}function If(e,t,r,n,a){r=r.render;var i=t.ref;return La(t,a),n=Ld(e,t,r,n,i,a),r=Od(),e!==null&&!mt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Or(e,t,a)):(je&&r&&jd(t),t.flags|=1,at(e,t,n,a),t.child)}function Mf(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!Qd(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,xp(e,t,i,n,a)):(e=ml(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var l=i.memoizedProps;if(r=r.compare,r=r!==null?r:ei,r(l,n)&&e.ref===t.ref)return Or(e,t,a)}return t.flags|=1,e=xn(i,n),e.ref=t.ref,e.return=t,t.child=e}function xp(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(ei(i,n)&&e.ref===t.ref)if(mt=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(mt=!0);else return t.lanes=e.lanes,Or(e,t,a)}return iu(e,t,r,n,a)}function yp(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},pe(Pa,Ct),Ct|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,pe(Pa,Ct),Ct|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,pe(Pa,Ct),Ct|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,pe(Pa,Ct),Ct|=n;return at(e,t,a,r),t.child}function vp(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function iu(e,t,r,n,a){var i=xt(r)?Jn:et.current;return i=Ja(t,i),La(t,a),r=Ld(e,t,r,n,i,a),n=Od(),e!==null&&!mt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Or(e,t,a)):(je&&n&&jd(t),t.flags|=1,at(e,t,r,a),t.child)}function Rf(e,t,r,n,a){if(xt(r)){var i=!0;Ml(t)}else i=!1;if(La(t,a),t.stateNode===null)hl(e,t),gp(t,r,n),au(t,r,n,a),n=!0;else if(e===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var c=l.context,u=r.contextType;typeof u=="object"&&u!==null?u=$t(u):(u=xt(r)?Jn:et.current,u=Ja(t,u));var h=r.getDerivedStateFromProps,d=typeof h=="function"||typeof l.getSnapshotBeforeUpdate=="function";d||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==n||c!==u)&&Ef(t,l,n,u),Qr=!1;var g=t.memoizedState;l.state=g,Al(t,n,l,a),c=t.memoizedState,o!==n||g!==c||pt.current||Qr?(typeof h=="function"&&(nu(t,r,h,n),c=t.memoizedState),(o=Qr||Cf(t,r,o,n,g,c,u))?(d||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),l.props=n,l.state=c,l.context=u,n=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,V0(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Qt(t.type,o),l.props=u,d=t.pendingProps,g=l.context,c=r.contextType,typeof c=="object"&&c!==null?c=$t(c):(c=xt(r)?Jn:et.current,c=Ja(t,c));var f=r.getDerivedStateFromProps;(h=typeof f=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==d||g!==c)&&Ef(t,l,n,c),Qr=!1,g=t.memoizedState,l.state=g,Al(t,n,l,a);var y=t.memoizedState;o!==d||g!==y||pt.current||Qr?(typeof f=="function"&&(nu(t,r,f,n),y=t.memoizedState),(u=Qr||Cf(t,r,u,n,g,y,c)||!1)?(h||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,y,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,y,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),l.props=n,l.state=y,l.context=c,n=u):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),n=!1)}return lu(e,t,r,n,i,a)}function lu(e,t,r,n,a,i){vp(e,t);var l=(t.flags&128)!==0;if(!n&&!l)return a&&yf(t,r,!1),Or(e,t,i);n=t.stateNode,Lb.current=t;var o=l&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&l?(t.child=es(t,e.child,null,i),t.child=es(t,null,o,i)):at(e,t,o,i),t.memoizedState=n.state,a&&yf(t,r,!0),t.child}function bp(e){var t=e.stateNode;t.pendingContext?xf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&xf(e,t.context,!1),Id(e,t.containerInfo)}function Df(e,t,r,n,a){return Za(),Nd(a),t.flags|=256,at(e,t,r,n),t.child}var ou={dehydrated:null,treeContext:null,retryLane:0};function cu(e){return{baseLanes:e,cachePool:null,transitions:null}}function kp(e,t,r){var n=t.pendingProps,a=Se.current,i=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),pe(Se,a&1),e===null)return tu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=n.children,e=n.fallback,i?(n=t.mode,i=t.child,l={mode:"hidden",children:l},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=vo(l,n,0,null),e=Yn(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=cu(r),t.memoizedState=ou,e):zd(t,l));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return Ob(e,t,l,n,o,a,r);if(i){i=n.fallback,l=t.mode,a=e.child,o=a.sibling;var c={mode:"hidden",children:n.children};return!(l&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=xn(a,c),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=xn(o,i):(i=Yn(i,l,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,l=e.child.memoizedState,l=l===null?cu(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~r,t.memoizedState=ou,n}return i=e.child,e=i.sibling,n=xn(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function zd(e,t){return t=vo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ki(e,t,r,n){return n!==null&&Nd(n),es(t,e.child,null,r),e=zd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ob(e,t,r,n,a,i,l){if(r)return t.flags&256?(t.flags&=-257,n=ic(Error(F(422))),Ki(e,t,l,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=vo({mode:"visible",children:n.children},a,0,null),i=Yn(i,a,l,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&es(t,e.child,null,l),t.child.memoizedState=cu(l),t.memoizedState=ou,i);if(!(t.mode&1))return Ki(e,t,l,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(F(419)),n=ic(i,n,void 0),Ki(e,t,l,n)}if(o=(l&e.childLanes)!==0,mt||o){if(n=We,n!==null){switch(l&-l){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|l)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Lr(e,a),er(n,e,a,-1))}return Wd(),n=ic(Error(F(421))),Ki(e,t,l,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=Yb.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Et=fn(a.nextSibling),Pt=t,je=!0,Xt=null,e!==null&&(Ot[At++]=_r,Ot[At++]=Tr,Ot[At++]=Zn,_r=e.id,Tr=e.overflow,Zn=t),t=zd(t,n.children),t.flags|=4096,t)}function Lf(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),ru(e.return,t,r)}function lc(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function wp(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(at(e,t,n.children,r),n=Se.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Lf(e,r,t);else if(e.tag===19)Lf(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(pe(Se,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Fl(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),lc(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Fl(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}lc(t,!0,r,null,i);break;case"together":lc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function hl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Or(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ta|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(F(153));if(t.child!==null){for(e=t.child,r=xn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=xn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Ab(e,t,r){switch(t.tag){case 3:bp(t),Za();break;case 5:K0(t);break;case 1:xt(t.type)&&Ml(t);break;case 4:Id(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;pe(Ll,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(pe(Se,Se.current&1),t.flags|=128,null):r&t.child.childLanes?kp(e,t,r):(pe(Se,Se.current&1),e=Or(e,t,r),e!==null?e.sibling:null);pe(Se,Se.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return wp(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),pe(Se,Se.current),n)break;return null;case 22:case 23:return t.lanes=0,yp(e,t,r)}return Or(e,t,r)}var jp,uu,Sp,Np;jp=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};uu=function(){};Sp=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,An(gr.current);var i=null;switch(r){case"input":a=Mc(e,a),n=Mc(e,n),i=[];break;case"select":a=Ee({},a,{value:void 0}),n=Ee({},n,{value:void 0}),i=[];break;case"textarea":a=Lc(e,a),n=Lc(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Pl)}Ac(r,n);var l;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var o=a[u];for(l in o)o.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Vs.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(o=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(r||(r={}),r[l]=c[l])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Vs.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ve("scroll",e),i||o===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Np=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ss(e,t){if(!je)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Xe(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Fb(e,t,r){var n=t.pendingProps;switch(Sd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(t),null;case 1:return xt(t.type)&&Il(),Xe(t),null;case 3:return n=t.stateNode,ts(),be(pt),be(et),Rd(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Qi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Xt!==null&&(yu(Xt),Xt=null))),uu(e,t),Xe(t),null;case 5:Md(t);var a=An(si.current);if(r=t.type,e!==null&&t.stateNode!=null)Sp(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(F(166));return Xe(t),null}if(e=An(gr.current),Qi(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[ur]=t,n[ni]=i,e=(t.mode&1)!==0,r){case"dialog":ve("cancel",n),ve("close",n);break;case"iframe":case"object":case"embed":ve("load",n);break;case"video":case"audio":for(a=0;a<Rs.length;a++)ve(Rs[a],n);break;case"source":ve("error",n);break;case"img":case"image":case"link":ve("error",n),ve("load",n);break;case"details":ve("toggle",n);break;case"input":Hh(n,i),ve("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},ve("invalid",n);break;case"textarea":Wh(n,i),ve("invalid",n)}Ac(r,i),a=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&Wi(n.textContent,o,e),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Wi(n.textContent,o,e),a=["children",""+o]):Vs.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&ve("scroll",n)}switch(r){case"input":Ai(n),qh(n,i,!0);break;case"textarea":Ai(n),Qh(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Pl)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{l=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Zm(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),r==="select"&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[ur]=t,e[ni]=n,jp(e,t,!1,!1),t.stateNode=e;e:{switch(l=Fc(r,n),r){case"dialog":ve("cancel",e),ve("close",e),a=n;break;case"iframe":case"object":case"embed":ve("load",e),a=n;break;case"video":case"audio":for(a=0;a<Rs.length;a++)ve(Rs[a],e);a=n;break;case"source":ve("error",e),a=n;break;case"img":case"image":case"link":ve("error",e),ve("load",e),a=n;break;case"details":ve("toggle",e),a=n;break;case"input":Hh(e,n),a=Mc(e,n),ve("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Ee({},n,{value:void 0}),ve("invalid",e);break;case"textarea":Wh(e,n),a=Lc(e,n),ve("invalid",e);break;default:a=n}Ac(r,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?r0(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&e0(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Ks(e,c):typeof c=="number"&&Ks(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Vs.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ve("scroll",e):c!=null&&cd(e,i,c,l))}switch(r){case"input":Ai(e),qh(e,n,!1);break;case"textarea":Ai(e),Qh(e);break;case"option":n.value!=null&&e.setAttribute("value",""+kn(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Ia(e,!!n.multiple,i,!1):n.defaultValue!=null&&Ia(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Pl)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Xe(t),null;case 6:if(e&&t.stateNode!=null)Np(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(F(166));if(r=An(si.current),An(gr.current),Qi(t)){if(n=t.stateNode,r=t.memoizedProps,n[ur]=t,(i=n.nodeValue!==r)&&(e=Pt,e!==null))switch(e.tag){case 3:Wi(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Wi(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ur]=t,t.stateNode=n}return Xe(t),null;case 13:if(be(Se),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(je&&Et!==null&&t.mode&1&&!(t.flags&128))H0(),Za(),t.flags|=98560,i=!1;else if(i=Qi(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(F(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(F(317));i[ur]=t}else Za(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Xe(t),i=!1}else Xt!==null&&(yu(Xt),Xt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Se.current&1?$e===0&&($e=3):Wd())),t.updateQueue!==null&&(t.flags|=4),Xe(t),null);case 4:return ts(),uu(e,t),e===null&&ti(t.stateNode.containerInfo),Xe(t),null;case 10:return _d(t.type._context),Xe(t),null;case 17:return xt(t.type)&&Il(),Xe(t),null;case 19:if(be(Se),i=t.memoizedState,i===null)return Xe(t),null;if(n=(t.flags&128)!==0,l=i.rendering,l===null)if(n)Ss(i,!1);else{if($e!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Fl(e),l!==null){for(t.flags|=128,Ss(i,!1),n=l.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return pe(Se,Se.current&1|2),t.child}e=e.sibling}i.tail!==null&&Pe()>ns&&(t.flags|=128,n=!0,Ss(i,!1),t.lanes=4194304)}else{if(!n)if(e=Fl(l),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ss(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!je)return Xe(t),null}else 2*Pe()-i.renderingStartTime>ns&&r!==1073741824&&(t.flags|=128,n=!0,Ss(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(r=i.last,r!==null?r.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Pe(),t.sibling=null,r=Se.current,pe(Se,n?r&1|2:r&1),t):(Xe(t),null);case 22:case 23:return qd(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ct&1073741824&&(Xe(t),t.subtreeFlags&6&&(t.flags|=8192)):Xe(t),null;case 24:return null;case 25:return null}throw Error(F(156,t.tag))}function zb(e,t){switch(Sd(t),t.tag){case 1:return xt(t.type)&&Il(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ts(),be(pt),be(et),Rd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Md(t),null;case 13:if(be(Se),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(F(340));Za()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return be(Se),null;case 4:return ts(),null;case 10:return _d(t.type._context),null;case 22:case 23:return qd(),null;case 24:return null;default:return null}}var Yi=!1,Je=!1,Ub=typeof WeakSet=="function"?WeakSet:Set,W=null;function Ta(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Te(e,t,n)}else r.current=null}function du(e,t,r){try{r()}catch(n){Te(e,t,n)}}var Of=!1;function $b(e,t){if(Kc=El,e=P0(),wd(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var l=0,o=-1,c=-1,u=0,h=0,d=e,g=null;t:for(;;){for(var f;d!==r||a!==0&&d.nodeType!==3||(o=l+a),d!==i||n!==0&&d.nodeType!==3||(c=l+n),d.nodeType===3&&(l+=d.nodeValue.length),(f=d.firstChild)!==null;)g=d,d=f;for(;;){if(d===e)break t;if(g===r&&++u===a&&(o=l),g===i&&++h===n&&(c=l),(f=d.nextSibling)!==null)break;d=g,g=d.parentNode}d=f}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Yc={focusedElem:e,selectionRange:r},El=!1,W=t;W!==null;)if(t=W,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,W=e;else for(;W!==null;){t=W;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,S=y.memoizedState,m=t.stateNode,p=m.getSnapshotBeforeUpdate(t.elementType===t.type?v:Qt(t.type,v),S);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(b){Te(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,W=e;break}W=t.return}return y=Of,Of=!1,y}function $s(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&du(t,r,i)}a=a.next}while(a!==n)}}function xo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function hu(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Cp(e){var t=e.alternate;t!==null&&(e.alternate=null,Cp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ur],delete t[ni],delete t[Jc],delete t[jb],delete t[Sb])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ep(e){return e.tag===5||e.tag===3||e.tag===4}function Af(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ep(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function fu(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Pl));else if(n!==4&&(e=e.child,e!==null))for(fu(e,t,r),e=e.sibling;e!==null;)fu(e,t,r),e=e.sibling}function gu(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(gu(e,t,r),e=e.sibling;e!==null;)gu(e,t,r),e=e.sibling}var Qe=null,Yt=!1;function $r(e,t,r){for(r=r.child;r!==null;)_p(e,t,r),r=r.sibling}function _p(e,t,r){if(fr&&typeof fr.onCommitFiberUnmount=="function")try{fr.onCommitFiberUnmount(oo,r)}catch{}switch(r.tag){case 5:Je||Ta(r,t);case 6:var n=Qe,a=Yt;Qe=null,$r(e,t,r),Qe=n,Yt=a,Qe!==null&&(Yt?(e=Qe,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Qe.removeChild(r.stateNode));break;case 18:Qe!==null&&(Yt?(e=Qe,r=r.stateNode,e.nodeType===8?ec(e.parentNode,r):e.nodeType===1&&ec(e,r),Js(e)):ec(Qe,r.stateNode));break;case 4:n=Qe,a=Yt,Qe=r.stateNode.containerInfo,Yt=!0,$r(e,t,r),Qe=n,Yt=a;break;case 0:case 11:case 14:case 15:if(!Je&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&du(r,t,l),a=a.next}while(a!==n)}$r(e,t,r);break;case 1:if(!Je&&(Ta(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Te(r,t,o)}$r(e,t,r);break;case 21:$r(e,t,r);break;case 22:r.mode&1?(Je=(n=Je)||r.memoizedState!==null,$r(e,t,r),Je=n):$r(e,t,r);break;default:$r(e,t,r)}}function Ff(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Ub),t.forEach(function(n){var a=Gb.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Wt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 5:Qe=o.stateNode,Yt=!1;break e;case 3:Qe=o.stateNode.containerInfo,Yt=!0;break e;case 4:Qe=o.stateNode.containerInfo,Yt=!0;break e}o=o.return}if(Qe===null)throw Error(F(160));_p(i,l,a),Qe=null,Yt=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){Te(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Tp(t,e),t=t.sibling}function Tp(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Wt(t,e),nr(e),n&4){try{$s(3,e,e.return),xo(3,e)}catch(v){Te(e,e.return,v)}try{$s(5,e,e.return)}catch(v){Te(e,e.return,v)}}break;case 1:Wt(t,e),nr(e),n&512&&r!==null&&Ta(r,r.return);break;case 5:if(Wt(t,e),nr(e),n&512&&r!==null&&Ta(r,r.return),e.flags&32){var a=e.stateNode;try{Ks(a,"")}catch(v){Te(e,e.return,v)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,l=r!==null?r.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Xm(a,i),Fc(o,l);var u=Fc(o,i);for(l=0;l<c.length;l+=2){var h=c[l],d=c[l+1];h==="style"?r0(a,d):h==="dangerouslySetInnerHTML"?e0(a,d):h==="children"?Ks(a,d):cd(a,h,d,u)}switch(o){case"input":Rc(a,i);break;case"textarea":Jm(a,i);break;case"select":var g=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?Ia(a,!!i.multiple,f,!1):g!==!!i.multiple&&(i.defaultValue!=null?Ia(a,!!i.multiple,i.defaultValue,!0):Ia(a,!!i.multiple,i.multiple?[]:"",!1))}a[ni]=i}catch(v){Te(e,e.return,v)}}break;case 6:if(Wt(t,e),nr(e),n&4){if(e.stateNode===null)throw Error(F(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(v){Te(e,e.return,v)}}break;case 3:if(Wt(t,e),nr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Js(t.containerInfo)}catch(v){Te(e,e.return,v)}break;case 4:Wt(t,e),nr(e);break;case 13:Wt(t,e),nr(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Bd=Pe())),n&4&&Ff(e);break;case 22:if(h=r!==null&&r.memoizedState!==null,e.mode&1?(Je=(u=Je)||h,Wt(t,e),Je=u):Wt(t,e),nr(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(W=e,h=e.child;h!==null;){for(d=W=h;W!==null;){switch(g=W,f=g.child,g.tag){case 0:case 11:case 14:case 15:$s(4,g,g.return);break;case 1:Ta(g,g.return);var y=g.stateNode;if(typeof y.componentWillUnmount=="function"){n=g,r=g.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(v){Te(n,r,v)}}break;case 5:Ta(g,g.return);break;case 22:if(g.memoizedState!==null){Uf(d);continue}}f!==null?(f.return=g,W=f):Uf(d)}h=h.sibling}e:for(h=null,d=e;;){if(d.tag===5){if(h===null){h=d;try{a=d.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=d.stateNode,c=d.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=t0("display",l))}catch(v){Te(e,e.return,v)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){Te(e,e.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Wt(t,e),nr(e),n&4&&Ff(e);break;case 21:break;default:Wt(t,e),nr(e)}}function nr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Ep(r)){var n=r;break e}r=r.return}throw Error(F(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Ks(a,""),n.flags&=-33);var i=Af(e);gu(e,i,a);break;case 3:case 4:var l=n.stateNode.containerInfo,o=Af(e);fu(e,o,l);break;default:throw Error(F(161))}}catch(c){Te(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Bb(e,t,r){W=e,Pp(e)}function Pp(e,t,r){for(var n=(e.mode&1)!==0;W!==null;){var a=W,i=a.child;if(a.tag===22&&n){var l=a.memoizedState!==null||Yi;if(!l){var o=a.alternate,c=o!==null&&o.memoizedState!==null||Je;o=Yi;var u=Je;if(Yi=l,(Je=c)&&!u)for(W=a;W!==null;)l=W,c=l.child,l.tag===22&&l.memoizedState!==null?$f(a):c!==null?(c.return=l,W=c):$f(a);for(;i!==null;)W=i,Pp(i),i=i.sibling;W=a,Yi=o,Je=u}zf(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,W=i):zf(e)}}function zf(e){for(;W!==null;){var t=W;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Je||xo(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Je)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Qt(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&jf(t,i,n);break;case 3:var l=t.updateQueue;if(l!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}jf(t,l,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&Js(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}Je||t.flags&512&&hu(t)}catch(g){Te(t,t.return,g)}}if(t===e){W=null;break}if(r=t.sibling,r!==null){r.return=t.return,W=r;break}W=t.return}}function Uf(e){for(;W!==null;){var t=W;if(t===e){W=null;break}var r=t.sibling;if(r!==null){r.return=t.return,W=r;break}W=t.return}}function $f(e){for(;W!==null;){var t=W;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{xo(4,t)}catch(c){Te(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){Te(t,a,c)}}var i=t.return;try{hu(t)}catch(c){Te(t,i,c)}break;case 5:var l=t.return;try{hu(t)}catch(c){Te(t,l,c)}}}catch(c){Te(t,t.return,c)}if(t===e){W=null;break}var o=t.sibling;if(o!==null){o.return=t.return,W=o;break}W=t.return}}var Hb=Math.ceil,$l=Fr.ReactCurrentDispatcher,Ud=Fr.ReactCurrentOwner,Ut=Fr.ReactCurrentBatchConfig,le=0,We=null,Ae=null,Ke=0,Ct=0,Pa=Nn(0),$e=0,ci=null,ta=0,yo=0,$d=0,Bs=null,gt=null,Bd=0,ns=1/0,wr=null,Bl=!1,mu=null,mn=null,Gi=!1,ln=null,Hl=0,Hs=0,pu=null,fl=-1,gl=0;function it(){return le&6?Pe():fl!==-1?fl:fl=Pe()}function pn(e){return e.mode&1?le&2&&Ke!==0?Ke&-Ke:Cb.transition!==null?(gl===0&&(gl=g0()),gl):(e=fe,e!==0||(e=window.event,e=e===void 0?16:k0(e.type)),e):1}function er(e,t,r,n){if(50<Hs)throw Hs=0,pu=null,Error(F(185));wi(e,r,n),(!(le&2)||e!==We)&&(e===We&&(!(le&2)&&(yo|=r),$e===4&&Kr(e,Ke)),yt(e,n),r===1&&le===0&&!(t.mode&1)&&(ns=Pe()+500,go&&Cn()))}function yt(e,t){var r=e.callbackNode;Cv(e,t);var n=Cl(e,e===We?Ke:0);if(n===0)r!==null&&Yh(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Yh(r),t===1)e.tag===0?Nb(Bf.bind(null,e)):U0(Bf.bind(null,e)),kb(function(){!(le&6)&&Cn()}),r=null;else{switch(m0(n)){case 1:r=gd;break;case 4:r=h0;break;case 16:r=Nl;break;case 536870912:r=f0;break;default:r=Nl}r=Fp(r,Ip.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Ip(e,t){if(fl=-1,gl=0,le&6)throw Error(F(327));var r=e.callbackNode;if(Oa()&&e.callbackNode!==r)return null;var n=Cl(e,e===We?Ke:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=ql(e,n);else{t=n;var a=le;le|=2;var i=Rp();(We!==e||Ke!==t)&&(wr=null,ns=Pe()+500,Kn(e,t));do try{Qb();break}catch(o){Mp(e,o)}while(!0);Ed(),$l.current=i,le=a,Ae!==null?t=0:(We=null,Ke=0,t=$e)}if(t!==0){if(t===2&&(a=Hc(e),a!==0&&(n=a,t=xu(e,a))),t===1)throw r=ci,Kn(e,0),Kr(e,n),yt(e,Pe()),r;if(t===6)Kr(e,n);else{if(a=e.current.alternate,!(n&30)&&!qb(a)&&(t=ql(e,n),t===2&&(i=Hc(e),i!==0&&(n=i,t=xu(e,i))),t===1))throw r=ci,Kn(e,0),Kr(e,n),yt(e,Pe()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(F(345));case 2:Mn(e,gt,wr);break;case 3:if(Kr(e,n),(n&130023424)===n&&(t=Bd+500-Pe(),10<t)){if(Cl(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){it(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Xc(Mn.bind(null,e,gt,wr),t);break}Mn(e,gt,wr);break;case 4:if(Kr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var l=31-Zt(n);i=1<<l,l=t[l],l>a&&(a=l),n&=~i}if(n=a,n=Pe()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Hb(n/1960))-n,10<n){e.timeoutHandle=Xc(Mn.bind(null,e,gt,wr),n);break}Mn(e,gt,wr);break;case 5:Mn(e,gt,wr);break;default:throw Error(F(329))}}}return yt(e,Pe()),e.callbackNode===r?Ip.bind(null,e):null}function xu(e,t){var r=Bs;return e.current.memoizedState.isDehydrated&&(Kn(e,t).flags|=256),e=ql(e,t),e!==2&&(t=gt,gt=r,t!==null&&yu(t)),e}function yu(e){gt===null?gt=e:gt.push.apply(gt,e)}function qb(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!tr(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Kr(e,t){for(t&=~$d,t&=~yo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Zt(t),n=1<<r;e[r]=-1,t&=~n}}function Bf(e){if(le&6)throw Error(F(327));Oa();var t=Cl(e,0);if(!(t&1))return yt(e,Pe()),null;var r=ql(e,t);if(e.tag!==0&&r===2){var n=Hc(e);n!==0&&(t=n,r=xu(e,n))}if(r===1)throw r=ci,Kn(e,0),Kr(e,t),yt(e,Pe()),r;if(r===6)throw Error(F(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Mn(e,gt,wr),yt(e,Pe()),null}function Hd(e,t){var r=le;le|=1;try{return e(t)}finally{le=r,le===0&&(ns=Pe()+500,go&&Cn())}}function ra(e){ln!==null&&ln.tag===0&&!(le&6)&&Oa();var t=le;le|=1;var r=Ut.transition,n=fe;try{if(Ut.transition=null,fe=1,e)return e()}finally{fe=n,Ut.transition=r,le=t,!(le&6)&&Cn()}}function qd(){Ct=Pa.current,be(Pa)}function Kn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,bb(r)),Ae!==null)for(r=Ae.return;r!==null;){var n=r;switch(Sd(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Il();break;case 3:ts(),be(pt),be(et),Rd();break;case 5:Md(n);break;case 4:ts();break;case 13:be(Se);break;case 19:be(Se);break;case 10:_d(n.type._context);break;case 22:case 23:qd()}r=r.return}if(We=e,Ae=e=xn(e.current,null),Ke=Ct=t,$e=0,ci=null,$d=yo=ta=0,gt=Bs=null,On!==null){for(t=0;t<On.length;t++)if(r=On[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var l=i.next;i.next=a,n.next=l}r.pending=n}On=null}return e}function Mp(e,t){do{var r=Ae;try{if(Ed(),ul.current=Ul,zl){for(var n=Ce.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}zl=!1}if(ea=0,He=Ue=Ce=null,Us=!1,ii=0,Ud.current=null,r===null||r.return===null){$e=1,ci=t,Ae=null;break}e:{var i=e,l=r.return,o=r,c=t;if(t=Ke,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=o,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var g=h.alternate;g?(h.updateQueue=g.updateQueue,h.memoizedState=g.memoizedState,h.lanes=g.lanes):(h.updateQueue=null,h.memoizedState=null)}var f=Tf(l);if(f!==null){f.flags&=-257,Pf(f,l,o,i,t),f.mode&1&&_f(i,u,t),t=f,c=u;var y=t.updateQueue;if(y===null){var v=new Set;v.add(c),t.updateQueue=v}else y.add(c);break e}else{if(!(t&1)){_f(i,u,t),Wd();break e}c=Error(F(426))}}else if(je&&o.mode&1){var S=Tf(l);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Pf(S,l,o,i,t),Nd(rs(c,o));break e}}i=c=rs(c,o),$e!==4&&($e=2),Bs===null?Bs=[i]:Bs.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=mp(i,c,t);wf(i,m);break e;case 1:o=c;var p=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(mn===null||!mn.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=pp(i,o,t);wf(i,b);break e}}i=i.return}while(i!==null)}Lp(r)}catch(j){t=j,Ae===r&&r!==null&&(Ae=r=r.return);continue}break}while(!0)}function Rp(){var e=$l.current;return $l.current=Ul,e===null?Ul:e}function Wd(){($e===0||$e===3||$e===2)&&($e=4),We===null||!(ta&268435455)&&!(yo&268435455)||Kr(We,Ke)}function ql(e,t){var r=le;le|=2;var n=Rp();(We!==e||Ke!==t)&&(wr=null,Kn(e,t));do try{Wb();break}catch(a){Mp(e,a)}while(!0);if(Ed(),le=r,$l.current=n,Ae!==null)throw Error(F(261));return We=null,Ke=0,$e}function Wb(){for(;Ae!==null;)Dp(Ae)}function Qb(){for(;Ae!==null&&!xv();)Dp(Ae)}function Dp(e){var t=Ap(e.alternate,e,Ct);e.memoizedProps=e.pendingProps,t===null?Lp(e):Ae=t,Ud.current=null}function Lp(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=zb(r,t),r!==null){r.flags&=32767,Ae=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{$e=6,Ae=null;return}}else if(r=Fb(r,t,Ct),r!==null){Ae=r;return}if(t=t.sibling,t!==null){Ae=t;return}Ae=t=e}while(t!==null);$e===0&&($e=5)}function Mn(e,t,r){var n=fe,a=Ut.transition;try{Ut.transition=null,fe=1,Vb(e,t,r,n)}finally{Ut.transition=a,fe=n}return null}function Vb(e,t,r,n){do Oa();while(ln!==null);if(le&6)throw Error(F(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(F(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Ev(e,i),e===We&&(Ae=We=null,Ke=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Gi||(Gi=!0,Fp(Nl,function(){return Oa(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ut.transition,Ut.transition=null;var l=fe;fe=1;var o=le;le|=4,Ud.current=null,$b(e,r),Tp(r,e),fb(Yc),El=!!Kc,Yc=Kc=null,e.current=r,Bb(r),yv(),le=o,fe=l,Ut.transition=i}else e.current=r;if(Gi&&(Gi=!1,ln=e,Hl=a),i=e.pendingLanes,i===0&&(mn=null),kv(r.stateNode),yt(e,Pe()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Bl)throw Bl=!1,e=mu,mu=null,e;return Hl&1&&e.tag!==0&&Oa(),i=e.pendingLanes,i&1?e===pu?Hs++:(Hs=0,pu=e):Hs=0,Cn(),null}function Oa(){if(ln!==null){var e=m0(Hl),t=Ut.transition,r=fe;try{if(Ut.transition=null,fe=16>e?16:e,ln===null)var n=!1;else{if(e=ln,ln=null,Hl=0,le&6)throw Error(F(331));var a=le;for(le|=4,W=e.current;W!==null;){var i=W,l=i.child;if(W.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(W=u;W!==null;){var h=W;switch(h.tag){case 0:case 11:case 15:$s(8,h,i)}var d=h.child;if(d!==null)d.return=h,W=d;else for(;W!==null;){h=W;var g=h.sibling,f=h.return;if(Cp(h),h===u){W=null;break}if(g!==null){g.return=f,W=g;break}W=f}}}var y=i.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var S=v.sibling;v.sibling=null,v=S}while(v!==null)}}W=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,W=l;else e:for(;W!==null;){if(i=W,i.flags&2048)switch(i.tag){case 0:case 11:case 15:$s(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,W=m;break e}W=i.return}}var p=e.current;for(W=p;W!==null;){l=W;var x=l.child;if(l.subtreeFlags&2064&&x!==null)x.return=l,W=x;else e:for(l=p;W!==null;){if(o=W,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:xo(9,o)}}catch(j){Te(o,o.return,j)}if(o===l){W=null;break e}var b=o.sibling;if(b!==null){b.return=o.return,W=b;break e}W=o.return}}if(le=a,Cn(),fr&&typeof fr.onPostCommitFiberRoot=="function")try{fr.onPostCommitFiberRoot(oo,e)}catch{}n=!0}return n}finally{fe=r,Ut.transition=t}}return!1}function Hf(e,t,r){t=rs(r,t),t=mp(e,t,1),e=gn(e,t,1),t=it(),e!==null&&(wi(e,1,t),yt(e,t))}function Te(e,t,r){if(e.tag===3)Hf(e,e,r);else for(;t!==null;){if(t.tag===3){Hf(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(mn===null||!mn.has(n))){e=rs(r,e),e=pp(t,e,1),t=gn(t,e,1),e=it(),t!==null&&(wi(t,1,e),yt(t,e));break}}t=t.return}}function Kb(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=it(),e.pingedLanes|=e.suspendedLanes&r,We===e&&(Ke&r)===r&&($e===4||$e===3&&(Ke&130023424)===Ke&&500>Pe()-Bd?Kn(e,0):$d|=r),yt(e,t)}function Op(e,t){t===0&&(e.mode&1?(t=Ui,Ui<<=1,!(Ui&130023424)&&(Ui=4194304)):t=1);var r=it();e=Lr(e,t),e!==null&&(wi(e,t,r),yt(e,r))}function Yb(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Op(e,r)}function Gb(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(F(314))}n!==null&&n.delete(t),Op(e,r)}var Ap;Ap=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||pt.current)mt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return mt=!1,Ab(e,t,r);mt=!!(e.flags&131072)}else mt=!1,je&&t.flags&1048576&&$0(t,Dl,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;hl(e,t),e=t.pendingProps;var a=Ja(t,et.current);La(t,r),a=Ld(null,t,n,e,a,r);var i=Od();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,xt(n)?(i=!0,Ml(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Pd(t),a.updater=po,t.stateNode=a,a._reactInternals=t,au(t,n,e,r),t=lu(null,t,n,!0,i,r)):(t.tag=0,je&&i&&jd(t),at(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(hl(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=Jb(n),e=Qt(n,e),a){case 0:t=iu(null,t,n,e,r);break e;case 1:t=Rf(null,t,n,e,r);break e;case 11:t=If(null,t,n,e,r);break e;case 14:t=Mf(null,t,n,Qt(n.type,e),r);break e}throw Error(F(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Qt(n,a),iu(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Qt(n,a),Rf(e,t,n,a,r);case 3:e:{if(bp(t),e===null)throw Error(F(387));n=t.pendingProps,i=t.memoizedState,a=i.element,V0(e,t),Al(t,n,null,r);var l=t.memoizedState;if(n=l.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=rs(Error(F(423)),t),t=Df(e,t,n,r,a);break e}else if(n!==a){a=rs(Error(F(424)),t),t=Df(e,t,n,r,a);break e}else for(Et=fn(t.stateNode.containerInfo.firstChild),Pt=t,je=!0,Xt=null,r=W0(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Za(),n===a){t=Or(e,t,r);break e}at(e,t,n,r)}t=t.child}return t;case 5:return K0(t),e===null&&tu(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,l=a.children,Gc(n,a)?l=null:i!==null&&Gc(n,i)&&(t.flags|=32),vp(e,t),at(e,t,l,r),t.child;case 6:return e===null&&tu(t),null;case 13:return kp(e,t,r);case 4:return Id(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=es(t,null,n,r):at(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Qt(n,a),If(e,t,n,a,r);case 7:return at(e,t,t.pendingProps,r),t.child;case 8:return at(e,t,t.pendingProps.children,r),t.child;case 12:return at(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,l=a.value,pe(Ll,n._currentValue),n._currentValue=l,i!==null)if(tr(i.value,l)){if(i.children===a.children&&!pt.current){t=Or(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Pr(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),ru(i.return,r,t),o.lanes|=r;break}c=c.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(F(341));l.lanes|=r,o=l.alternate,o!==null&&(o.lanes|=r),ru(l,r,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}at(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,La(t,r),a=$t(a),n=n(a),t.flags|=1,at(e,t,n,r),t.child;case 14:return n=t.type,a=Qt(n,t.pendingProps),a=Qt(n.type,a),Mf(e,t,n,a,r);case 15:return xp(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Qt(n,a),hl(e,t),t.tag=1,xt(n)?(e=!0,Ml(t)):e=!1,La(t,r),gp(t,n,a),au(t,n,a,r),lu(null,t,n,!0,e,r);case 19:return wp(e,t,r);case 22:return yp(e,t,r)}throw Error(F(156,t.tag))};function Fp(e,t){return d0(e,t)}function Xb(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zt(e,t,r,n){return new Xb(e,t,r,n)}function Qd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Jb(e){if(typeof e=="function")return Qd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===dd)return 11;if(e===hd)return 14}return 2}function xn(e,t){var r=e.alternate;return r===null?(r=zt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ml(e,t,r,n,a,i){var l=2;if(n=e,typeof e=="function")Qd(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case ba:return Yn(r.children,a,i,t);case ud:l=8,a|=8;break;case _c:return e=zt(12,r,t,a|2),e.elementType=_c,e.lanes=i,e;case Tc:return e=zt(13,r,t,a),e.elementType=Tc,e.lanes=i,e;case Pc:return e=zt(19,r,t,a),e.elementType=Pc,e.lanes=i,e;case Km:return vo(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Qm:l=10;break e;case Vm:l=9;break e;case dd:l=11;break e;case hd:l=14;break e;case Wr:l=16,n=null;break e}throw Error(F(130,e==null?e:typeof e,""))}return t=zt(l,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function Yn(e,t,r,n){return e=zt(7,e,n,t),e.lanes=r,e}function vo(e,t,r,n){return e=zt(22,e,n,t),e.elementType=Km,e.lanes=r,e.stateNode={isHidden:!1},e}function oc(e,t,r){return e=zt(6,e,null,t),e.lanes=r,e}function cc(e,t,r){return t=zt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zb(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ho(0),this.expirationTimes=Ho(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ho(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Vd(e,t,r,n,a,i,l,o,c){return e=new Zb(e,t,r,o,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=zt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pd(i),e}function ek(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:va,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function zp(e){if(!e)return wn;e=e._reactInternals;e:{if(ca(e)!==e||e.tag!==1)throw Error(F(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(xt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(F(171))}if(e.tag===1){var r=e.type;if(xt(r))return z0(e,r,t)}return t}function Up(e,t,r,n,a,i,l,o,c){return e=Vd(r,n,!0,e,a,i,l,o,c),e.context=zp(null),r=e.current,n=it(),a=pn(r),i=Pr(n,a),i.callback=t??null,gn(r,i,a),e.current.lanes=a,wi(e,a,n),yt(e,n),e}function bo(e,t,r,n){var a=t.current,i=it(),l=pn(a);return r=zp(r),t.context===null?t.context=r:t.pendingContext=r,t=Pr(i,l),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=gn(a,t,l),e!==null&&(er(e,a,l,i),cl(e,a,l)),l}function Wl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function qf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Kd(e,t){qf(e,t),(e=e.alternate)&&qf(e,t)}function tk(){return null}var $p=typeof reportError=="function"?reportError:function(e){console.error(e)};function Yd(e){this._internalRoot=e}ko.prototype.render=Yd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(F(409));bo(e,t,null,null)};ko.prototype.unmount=Yd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ra(function(){bo(null,e,null,null)}),t[Dr]=null}};function ko(e){this._internalRoot=e}ko.prototype.unstable_scheduleHydration=function(e){if(e){var t=y0();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Vr.length&&t!==0&&t<Vr[r].priority;r++);Vr.splice(r,0,e),r===0&&b0(e)}};function Gd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function wo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Wf(){}function rk(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=Wl(l);i.call(u)}}var l=Up(t,n,e,0,null,!1,!1,"",Wf);return e._reactRootContainer=l,e[Dr]=l.current,ti(e.nodeType===8?e.parentNode:e),ra(),l}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var u=Wl(c);o.call(u)}}var c=Vd(e,0,!1,null,null,!1,!1,"",Wf);return e._reactRootContainer=c,e[Dr]=c.current,ti(e.nodeType===8?e.parentNode:e),ra(function(){bo(t,c,r,n)}),c}function jo(e,t,r,n,a){var i=r._reactRootContainer;if(i){var l=i;if(typeof a=="function"){var o=a;a=function(){var c=Wl(l);o.call(c)}}bo(t,l,e,a)}else l=rk(r,t,e,a,n);return Wl(l)}p0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ms(t.pendingLanes);r!==0&&(md(t,r|1),yt(t,Pe()),!(le&6)&&(ns=Pe()+500,Cn()))}break;case 13:ra(function(){var n=Lr(e,1);if(n!==null){var a=it();er(n,e,1,a)}}),Kd(e,1)}};pd=function(e){if(e.tag===13){var t=Lr(e,134217728);if(t!==null){var r=it();er(t,e,134217728,r)}Kd(e,134217728)}};x0=function(e){if(e.tag===13){var t=pn(e),r=Lr(e,t);if(r!==null){var n=it();er(r,e,t,n)}Kd(e,t)}};y0=function(){return fe};v0=function(e,t){var r=fe;try{return fe=e,t()}finally{fe=r}};Uc=function(e,t,r){switch(t){case"input":if(Rc(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=fo(n);if(!a)throw Error(F(90));Gm(n),Rc(n,a)}}}break;case"textarea":Jm(e,r);break;case"select":t=r.value,t!=null&&Ia(e,!!r.multiple,t,!1)}};s0=Hd;i0=ra;var nk={usingClientEntryPoint:!1,Events:[Si,Sa,fo,n0,a0,Hd]},Ns={findFiberByHostInstance:Ln,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ak={bundleType:Ns.bundleType,version:Ns.version,rendererPackageName:Ns.rendererPackageName,rendererConfig:Ns.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=c0(e),e===null?null:e.stateNode},findFiberByHostInstance:Ns.findFiberByHostInstance||tk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xi.isDisabled&&Xi.supportsFiber)try{oo=Xi.inject(ak),fr=Xi}catch{}}Mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nk;Mt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gd(t))throw Error(F(200));return ek(e,t,null,r)};Mt.createRoot=function(e,t){if(!Gd(e))throw Error(F(299));var r=!1,n="",a=$p;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Vd(e,1,!1,null,null,r,!1,n,a),e[Dr]=t.current,ti(e.nodeType===8?e.parentNode:e),new Yd(t)};Mt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(F(188)):(e=Object.keys(e).join(","),Error(F(268,e)));return e=c0(t),e=e===null?null:e.stateNode,e};Mt.flushSync=function(e){return ra(e)};Mt.hydrate=function(e,t,r){if(!wo(t))throw Error(F(200));return jo(null,e,t,!0,r)};Mt.hydrateRoot=function(e,t,r){if(!Gd(e))throw Error(F(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",l=$p;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),t=Up(t,null,e,1,r??null,a,!1,i,l),e[Dr]=t.current,ti(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new ko(t)};Mt.render=function(e,t,r){if(!wo(t))throw Error(F(200));return jo(null,e,t,!1,r)};Mt.unmountComponentAtNode=function(e){if(!wo(e))throw Error(F(40));return e._reactRootContainer?(ra(function(){jo(null,null,e,!1,function(){e._reactRootContainer=null,e[Dr]=null})}),!0):!1};Mt.unstable_batchedUpdates=Hd;Mt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!wo(r))throw Error(F(200));if(e==null||e._reactInternals===void 0)throw Error(F(38));return jo(e,t,r,!1,n)};Mt.version="18.3.1-next-f1338f8080-20240426";function Bp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Bp)}catch(e){console.error(e)}}Bp(),Bm.exports=Mt;var sk=Bm.exports,Qf=sk;Cc.createRoot=Qf.createRoot,Cc.hydrateRoot=Qf.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ui(){return ui=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ui.apply(this,arguments)}var on;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(on||(on={}));const Vf="popstate";function ik(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:l,hash:o}=n.location;return vu("",{pathname:i,search:l,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Ql(a)}return ok(t,r,null,e)}function Ie(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Hp(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function lk(){return Math.random().toString(36).substr(2,8)}function Kf(e,t){return{usr:e.state,key:e.key,idx:t}}function vu(e,t,r,n){return r===void 0&&(r=null),ui({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?os(t):t,{state:r,key:t&&t.key||n||lk()})}function Ql(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function os(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function ok(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,l=a.history,o=on.Pop,c=null,u=h();u==null&&(u=0,l.replaceState(ui({},l.state,{idx:u}),""));function h(){return(l.state||{idx:null}).idx}function d(){o=on.Pop;let S=h(),m=S==null?null:S-u;u=S,c&&c({action:o,location:v.location,delta:m})}function g(S,m){o=on.Push;let p=vu(v.location,S,m);u=h()+1;let x=Kf(p,u),b=v.createHref(p);try{l.pushState(x,"",b)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;a.location.assign(b)}i&&c&&c({action:o,location:v.location,delta:1})}function f(S,m){o=on.Replace;let p=vu(v.location,S,m);u=h();let x=Kf(p,u),b=v.createHref(p);l.replaceState(x,"",b),i&&c&&c({action:o,location:v.location,delta:0})}function y(S){let m=a.location.origin!=="null"?a.location.origin:a.location.href,p=typeof S=="string"?S:Ql(S);return p=p.replace(/ $/,"%20"),Ie(m,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,m)}let v={get action(){return o},get location(){return e(a,l)},listen(S){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Vf,d),c=S,()=>{a.removeEventListener(Vf,d),c=null}},createHref(S){return t(a,S)},createURL:y,encodeLocation(S){let m=y(S);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:g,replace:f,go(S){return l.go(S)}};return v}var Yf;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Yf||(Yf={}));function ck(e,t,r){return r===void 0&&(r="/"),uk(e,t,r)}function uk(e,t,r,n){let a=typeof t=="string"?os(t):t,i=Xd(a.pathname||"/",r);if(i==null)return null;let l=qp(e);dk(l);let o=null;for(let c=0;o==null&&c<l.length;++c){let u=jk(i);o=bk(l[c],u)}return o}function qp(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,l,o)=>{let c={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};c.relativePath.startsWith("/")&&(Ie(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=yn([n,c.relativePath]),h=r.concat(c);i.children&&i.children.length>0&&(Ie(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),qp(i.children,t,h,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:yk(u,i.index),routesMeta:h})};return e.forEach((i,l)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))a(i,l);else for(let c of Wp(i.path))a(i,l,c)}),t}function Wp(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let l=Wp(n.join("/")),o=[];return o.push(...l.map(c=>c===""?i:[i,c].join("/"))),a&&o.push(...l),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function dk(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:vk(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const hk=/^:[\w-]+$/,fk=3,gk=2,mk=1,pk=10,xk=-2,Gf=e=>e==="*";function yk(e,t){let r=e.split("/"),n=r.length;return r.some(Gf)&&(n+=xk),t&&(n+=gk),r.filter(a=>!Gf(a)).reduce((a,i)=>a+(hk.test(i)?fk:i===""?mk:pk),n)}function vk(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function bk(e,t,r){let{routesMeta:n}=e,a={},i="/",l=[];for(let o=0;o<n.length;++o){let c=n[o],u=o===n.length-1,h=i==="/"?t:t.slice(i.length)||"/",d=kk({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),g=c.route;if(!d)return null;Object.assign(a,d.params),l.push({params:a,pathname:yn([i,d.pathname]),pathnameBase:Ek(yn([i,d.pathnameBase])),route:g}),d.pathnameBase!=="/"&&(i=yn([i,d.pathnameBase]))}return l}function kk(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=wk(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],l=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((u,h,d)=>{let{paramName:g,isOptional:f}=h;if(g==="*"){let v=o[d]||"";l=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const y=o[d];return f&&!y?u[g]=void 0:u[g]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:l,pattern:e}}function wk(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Hp(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function jk(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Hp(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Xd(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Sk(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?os(e):e;return{pathname:r?r.startsWith("/")?r:Nk(r,t):t,search:_k(n),hash:Tk(a)}}function Nk(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function uc(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ck(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Jd(e,t){let r=Ck(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Zd(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=os(e):(a=ui({},e),Ie(!a.pathname||!a.pathname.includes("?"),uc("?","pathname","search",a)),Ie(!a.pathname||!a.pathname.includes("#"),uc("#","pathname","hash",a)),Ie(!a.search||!a.search.includes("#"),uc("#","search","hash",a)));let i=e===""||a.pathname==="",l=i?"/":a.pathname,o;if(l==null)o=r;else{let d=t.length-1;if(!n&&l.startsWith("..")){let g=l.split("/");for(;g[0]==="..";)g.shift(),d-=1;a.pathname=g.join("/")}o=d>=0?t[d]:"/"}let c=Sk(a,o),u=l&&l!=="/"&&l.endsWith("/"),h=(i||l===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const yn=e=>e.join("/").replace(/\/\/+/g,"/"),Ek=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),_k=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Tk=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Pk(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Qp=["post","put","patch","delete"];new Set(Qp);const Ik=["get",...Qp];new Set(Ik);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function di(){return di=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},di.apply(this,arguments)}const eh=w.createContext(null),Mk=w.createContext(null),En=w.createContext(null),So=w.createContext(null),zr=w.createContext({outlet:null,matches:[],isDataRoute:!1}),Vp=w.createContext(null);function Rk(e,t){let{relative:r}=t===void 0?{}:t;cs()||Ie(!1);let{basename:n,navigator:a}=w.useContext(En),{hash:i,pathname:l,search:o}=Yp(e,{relative:r}),c=l;return n!=="/"&&(c=l==="/"?n:yn([n,l])),a.createHref({pathname:c,search:o,hash:i})}function cs(){return w.useContext(So)!=null}function us(){return cs()||Ie(!1),w.useContext(So).location}function Kp(e){w.useContext(En).static||w.useLayoutEffect(e)}function ct(){let{isDataRoute:e}=w.useContext(zr);return e?Vk():Dk()}function Dk(){cs()||Ie(!1);let e=w.useContext(eh),{basename:t,future:r,navigator:n}=w.useContext(En),{matches:a}=w.useContext(zr),{pathname:i}=us(),l=JSON.stringify(Jd(a,r.v7_relativeSplatPath)),o=w.useRef(!1);return Kp(()=>{o.current=!0}),w.useCallback(function(u,h){if(h===void 0&&(h={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let d=Zd(u,JSON.parse(l),i,h.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:yn([t,d.pathname])),(h.replace?n.replace:n.push)(d,h.state,h)},[t,n,l,i,e])}function Lk(){let{matches:e}=w.useContext(zr),t=e[e.length-1];return t?t.params:{}}function Yp(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=w.useContext(En),{matches:a}=w.useContext(zr),{pathname:i}=us(),l=JSON.stringify(Jd(a,n.v7_relativeSplatPath));return w.useMemo(()=>Zd(e,JSON.parse(l),i,r==="path"),[e,l,i,r])}function Ok(e,t){return Ak(e,t)}function Ak(e,t,r,n){cs()||Ie(!1);let{navigator:a}=w.useContext(En),{matches:i}=w.useContext(zr),l=i[i.length-1],o=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let u=us(),h;if(t){var d;let S=typeof t=="string"?os(t):t;c==="/"||(d=S.pathname)!=null&&d.startsWith(c)||Ie(!1),h=S}else h=u;let g=h.pathname||"/",f=g;if(c!=="/"){let S=c.replace(/^\//,"").split("/");f="/"+g.replace(/^\//,"").split("/").slice(S.length).join("/")}let y=ck(e,{pathname:f}),v=Bk(y&&y.map(S=>Object.assign({},S,{params:Object.assign({},o,S.params),pathname:yn([c,a.encodeLocation?a.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?c:yn([c,a.encodeLocation?a.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),i,r,n);return t&&v?w.createElement(So.Provider,{value:{location:di({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:on.Pop}},v):v}function Fk(){let e=Qk(),t=Pk(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),r?w.createElement("pre",{style:a},r):null,null)}const zk=w.createElement(Fk,null);class Uk extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?w.createElement(zr.Provider,{value:this.props.routeContext},w.createElement(Vp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function $k(e){let{routeContext:t,match:r,children:n}=e,a=w.useContext(eh);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),w.createElement(zr.Provider,{value:t},n)}function Bk(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let l=e,o=(a=r)==null?void 0:a.errors;if(o!=null){let h=l.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);h>=0||Ie(!1),l=l.slice(0,Math.min(l.length,h+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let h=0;h<l.length;h++){let d=l[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=h),d.route.id){let{loaderData:g,errors:f}=r,y=d.route.loader&&g[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||y){c=!0,u>=0?l=l.slice(0,u+1):l=[l[0]];break}}}return l.reduceRight((h,d,g)=>{let f,y=!1,v=null,S=null;r&&(f=o&&d.route.id?o[d.route.id]:void 0,v=d.route.errorElement||zk,c&&(u<0&&g===0?(Kk("route-fallback"),y=!0,S=null):u===g&&(y=!0,S=d.route.hydrateFallbackElement||null)));let m=t.concat(l.slice(0,g+1)),p=()=>{let x;return f?x=v:y?x=S:d.route.Component?x=w.createElement(d.route.Component,null):d.route.element?x=d.route.element:x=h,w.createElement($k,{match:d,routeContext:{outlet:h,matches:m,isDataRoute:r!=null},children:x})};return r&&(d.route.ErrorBoundary||d.route.errorElement||g===0)?w.createElement(Uk,{location:r.location,revalidation:r.revalidation,component:v,error:f,children:p(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):p()},null)}var Gp=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Gp||{}),Xp=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Xp||{});function Hk(e){let t=w.useContext(eh);return t||Ie(!1),t}function qk(e){let t=w.useContext(Mk);return t||Ie(!1),t}function Wk(e){let t=w.useContext(zr);return t||Ie(!1),t}function Jp(e){let t=Wk(),r=t.matches[t.matches.length-1];return r.route.id||Ie(!1),r.route.id}function Qk(){var e;let t=w.useContext(Vp),r=qk(),n=Jp();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Vk(){let{router:e}=Hk(Gp.UseNavigateStable),t=Jp(Xp.UseNavigateStable),r=w.useRef(!1);return Kp(()=>{r.current=!0}),w.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,di({fromRouteId:t},i)))},[e,t])}const Xf={};function Kk(e,t,r){Xf[e]||(Xf[e]=!0)}function Yk(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Gk(e){let{to:t,replace:r,state:n,relative:a}=e;cs()||Ie(!1);let{future:i,static:l}=w.useContext(En),{matches:o}=w.useContext(zr),{pathname:c}=us(),u=ct(),h=Zd(t,Jd(o,i.v7_relativeSplatPath),c,a==="path"),d=JSON.stringify(h);return w.useEffect(()=>u(JSON.parse(d),{replace:r,state:n,relative:a}),[u,d,a,r,n]),null}function ut(e){Ie(!1)}function Xk(e){let{basename:t="/",children:r=null,location:n,navigationType:a=on.Pop,navigator:i,static:l=!1,future:o}=e;cs()&&Ie(!1);let c=t.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:c,navigator:i,static:l,future:di({v7_relativeSplatPath:!1},o)}),[c,o,i,l]);typeof n=="string"&&(n=os(n));let{pathname:h="/",search:d="",hash:g="",state:f=null,key:y="default"}=n,v=w.useMemo(()=>{let S=Xd(h,c);return S==null?null:{location:{pathname:S,search:d,hash:g,state:f,key:y},navigationType:a}},[c,h,d,g,f,y,a]);return v==null?null:w.createElement(En.Provider,{value:u},w.createElement(So.Provider,{children:r,value:v}))}function Jf(e){let{children:t,location:r}=e;return Ok(bu(t),r)}new Promise(()=>{});function bu(e,t){t===void 0&&(t=[]);let r=[];return w.Children.forEach(e,(n,a)=>{if(!w.isValidElement(n))return;let i=[...t,a];if(n.type===w.Fragment){r.push.apply(r,bu(n.props.children,i));return}n.type!==ut&&Ie(!1),!n.props.index||!n.props.children||Ie(!1);let l={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=bu(n.props.children,i)),r.push(l)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ku(){return ku=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ku.apply(this,arguments)}function Jk(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Zk(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function ew(e,t){return e.button===0&&(!t||t==="_self")&&!Zk(e)}const tw=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],rw="6";try{window.__reactRouterVersion=rw}catch{}const nw="startTransition",Zf=Ky[nw];function aw(e){let{basename:t,children:r,future:n,window:a}=e,i=w.useRef();i.current==null&&(i.current=ik({window:a,v5Compat:!0}));let l=i.current,[o,c]=w.useState({action:l.action,location:l.location}),{v7_startTransition:u}=n||{},h=w.useCallback(d=>{u&&Zf?Zf(()=>c(d)):c(d)},[c,u]);return w.useLayoutEffect(()=>l.listen(h),[l,h]),w.useEffect(()=>Yk(n),[n]),w.createElement(Xk,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:l,future:n})}const sw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",iw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vl=w.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:l,state:o,target:c,to:u,preventScrollReset:h,viewTransition:d}=t,g=Jk(t,tw),{basename:f}=w.useContext(En),y,v=!1;if(typeof u=="string"&&iw.test(u)&&(y=u,sw))try{let x=new URL(window.location.href),b=u.startsWith("//")?new URL(x.protocol+u):new URL(u),j=Xd(b.pathname,f);b.origin===x.origin&&j!=null?u=j+b.search+b.hash:v=!0}catch{}let S=Rk(u,{relative:a}),m=lw(u,{replace:l,state:o,target:c,preventScrollReset:h,relative:a,viewTransition:d});function p(x){n&&n(x),x.defaultPrevented||m(x)}return w.createElement("a",ku({},g,{href:y||S,onClick:v||i?n:p,ref:r,target:c}))});var eg;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(eg||(eg={}));var tg;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(tg||(tg={}));function lw(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:l,viewTransition:o}=t===void 0?{}:t,c=ct(),u=us(),h=Yp(e,{relative:l});return w.useCallback(d=>{if(ew(d,r)){d.preventDefault();let g=n!==void 0?n:Ql(u)===Ql(h);c(e,{replace:g,state:a,preventScrollReset:i,relative:l,viewTransition:o})}},[u,c,h,n,a,r,e,i,l,o])}var ds=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ow={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Gr,ed,bm,cw=(bm=class{constructor(){Y(this,Gr,ow);Y(this,ed,!1)}setTimeoutProvider(e){B(this,Gr,e)}setTimeout(e,t){return N(this,Gr).setTimeout(e,t)}clearTimeout(e){N(this,Gr).clearTimeout(e)}setInterval(e,t){return N(this,Gr).setInterval(e,t)}clearInterval(e){N(this,Gr).clearInterval(e)}},Gr=new WeakMap,ed=new WeakMap,bm),Fn=new cw;function uw(e){setTimeout(e,0)}var na=typeof window>"u"||"Deno"in globalThis;function st(){}function dw(e,t){return typeof e=="function"?e(t):e}function wu(e){return typeof e=="number"&&e>=0&&e!==1/0}function Zp(e,t){return Math.max(e+(t||0)-Date.now(),0)}function vn(e,t){return typeof e=="function"?e(t):e}function Lt(e,t){return typeof e=="function"?e(t):e}function rg(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:l,stale:o}=e;if(l){if(n){if(t.queryHash!==th(l,t.options))return!1}else if(!hi(t.queryKey,l))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||a&&a!==t.state.fetchStatus||i&&!i(t))}function ng(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(aa(t.options.mutationKey)!==aa(i))return!1}else if(!hi(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function th(e,t){return((t==null?void 0:t.queryKeyHashFn)||aa)(e)}function aa(e){return JSON.stringify(e,(t,r)=>ju(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function hi(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>hi(e[r],t[r])):!1}var hw=Object.prototype.hasOwnProperty;function rh(e,t){if(e===t)return e;const r=ag(e)&&ag(t);if(!r&&!(ju(e)&&ju(t)))return t;const a=(r?e:Object.keys(e)).length,i=r?t:Object.keys(t),l=i.length,o=r?new Array(l):{};let c=0;for(let u=0;u<l;u++){const h=r?u:i[u],d=e[h],g=t[h];if(d===g){o[h]=d,(r?u<a:hw.call(e,h))&&c++;continue}if(d===null||g===null||typeof d!="object"||typeof g!="object"){o[h]=g;continue}const f=rh(d,g);o[h]=f,f===d&&c++}return a===l&&c===a?e:o}function Kl(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function ag(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function ju(e){if(!sg(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!sg(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function sg(e){return Object.prototype.toString.call(e)==="[object Object]"}function fw(e){return new Promise(t=>{Fn.setTimeout(t,e)})}function Su(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?rh(e,t):t}function gw(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function mw(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var nh=Symbol();function ex(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===nh?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function tx(e,t){return typeof e=="function"?e(...t):!!e}var zn,Xr,za,km,pw=(km=class extends ds{constructor(){super();Y(this,zn);Y(this,Xr);Y(this,za);B(this,za,t=>{if(!na&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){N(this,Xr)||this.setEventListener(N(this,za))}onUnsubscribe(){var t;this.hasListeners()||((t=N(this,Xr))==null||t.call(this),B(this,Xr,void 0))}setEventListener(t){var r;B(this,za,t),(r=N(this,Xr))==null||r.call(this),B(this,Xr,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){N(this,zn)!==t&&(B(this,zn,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof N(this,zn)=="boolean"?N(this,zn):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},zn=new WeakMap,Xr=new WeakMap,za=new WeakMap,km),ah=new pw;function Nu(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}var xw=uw;function yw(){let e=[],t=0,r=o=>{o()},n=o=>{o()},a=xw;const i=o=>{t?e.push(o):a(()=>{r(o)})},l=()=>{const o=e;e=[],o.length&&a(()=>{n(()=>{o.forEach(c=>{r(c)})})})};return{batch:o=>{let c;t++;try{c=o()}finally{t--,t||l()}return c},batchCalls:o=>(...c)=>{i(()=>{o(...c)})},schedule:i,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{a=o}}}var De=yw(),Ua,Jr,$a,wm,vw=(wm=class extends ds{constructor(){super();Y(this,Ua,!0);Y(this,Jr);Y(this,$a);B(this,$a,t=>{if(!na&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){N(this,Jr)||this.setEventListener(N(this,$a))}onUnsubscribe(){var t;this.hasListeners()||((t=N(this,Jr))==null||t.call(this),B(this,Jr,void 0))}setEventListener(t){var r;B(this,$a,t),(r=N(this,Jr))==null||r.call(this),B(this,Jr,t(this.setOnline.bind(this)))}setOnline(t){N(this,Ua)!==t&&(B(this,Ua,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return N(this,Ua)}},Ua=new WeakMap,Jr=new WeakMap,$a=new WeakMap,wm),Yl=new vw;function bw(e){return Math.min(1e3*2**e,3e4)}function rx(e){return(e??"online")==="online"?Yl.isOnline():!0}var Cu=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function nx(e){let t=!1,r=0,n;const a=Nu(),i=()=>a.status!=="pending",l=v=>{var S;if(!i()){const m=new Cu(v);g(m),(S=e.onCancel)==null||S.call(e,m)}},o=()=>{t=!0},c=()=>{t=!1},u=()=>ah.isFocused()&&(e.networkMode==="always"||Yl.isOnline())&&e.canRun(),h=()=>rx(e.networkMode)&&e.canRun(),d=v=>{i()||(n==null||n(),a.resolve(v))},g=v=>{i()||(n==null||n(),a.reject(v))},f=()=>new Promise(v=>{var S;n=m=>{(i()||u())&&v(m)},(S=e.onPause)==null||S.call(e)}).then(()=>{var v;n=void 0,i()||(v=e.onContinue)==null||v.call(e)}),y=()=>{if(i())return;let v;const S=r===0?e.initialPromise:void 0;try{v=S??e.fn()}catch(m){v=Promise.reject(m)}Promise.resolve(v).then(d).catch(m=>{var C;if(i())return;const p=e.retry??(na?0:3),x=e.retryDelay??bw,b=typeof x=="function"?x(r,m):x,j=p===!0||typeof p=="number"&&r<p||typeof p=="function"&&p(r,m);if(t||!j){g(m);return}r++,(C=e.onFail)==null||C.call(e,r,m),fw(b).then(()=>u()?void 0:f()).then(()=>{t?g(m):y()})})};return{promise:a,status:()=>a.status,cancel:l,continue:()=>(n==null||n(),a),cancelRetry:o,continueRetry:c,canStart:h,start:()=>(h()?y():f().then(y),a)}}var Un,jm,ax=(jm=class{constructor(){Y(this,Un)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),wu(this.gcTime)&&B(this,Un,Fn.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(na?1/0:5*60*1e3))}clearGcTimeout(){N(this,Un)&&(Fn.clearTimeout(N(this,Un)),B(this,Un,void 0))}},Un=new WeakMap,jm),$n,Ba,Dt,Bn,Be,pi,Hn,Vt,kr,Sm,kw=(Sm=class extends ax{constructor(t){super();Y(this,Vt);Y(this,$n);Y(this,Ba);Y(this,Dt);Y(this,Bn);Y(this,Be);Y(this,pi);Y(this,Hn);B(this,Hn,!1),B(this,pi,t.defaultOptions),this.setOptions(t.options),this.observers=[],B(this,Bn,t.client),B(this,Dt,N(this,Bn).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,B(this,$n,ig(this.options)),this.state=t.state??N(this,$n),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=N(this,Be))==null?void 0:t.promise}setOptions(t){if(this.options={...N(this,pi),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=ig(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),B(this,$n,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&N(this,Dt).remove(this)}setData(t,r){const n=Su(this.state.data,t,this.options);return ee(this,Vt,kr).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){ee(this,Vt,kr).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=N(this,Be))==null?void 0:n.promise;return(a=N(this,Be))==null||a.cancel(t),r?r.then(st).catch(st):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(N(this,$n))}isActive(){return this.observers.some(t=>Lt(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===nh||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>vn(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Zp(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=N(this,Be))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=N(this,Be))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),N(this,Dt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(N(this,Be)&&(N(this,Hn)?N(this,Be).cancel({revert:!0}):N(this,Be).cancelRetry()),this.scheduleGc()),N(this,Dt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ee(this,Vt,kr).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,h,d,g,f,y,v,S,m,p,x;if(this.state.fetchStatus!=="idle"&&((c=N(this,Be))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(N(this,Be))return N(this,Be).continueRetry(),N(this,Be).promise}if(t&&this.setOptions(t),!this.options.queryFn){const b=this.observers.find(j=>j.options.queryFn);b&&this.setOptions(b.options)}const n=new AbortController,a=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(B(this,Hn,!0),n.signal)})},i=()=>{const b=ex(this.options,r),C=(()=>{const T={client:N(this,Bn),queryKey:this.queryKey,meta:this.meta};return a(T),T})();return B(this,Hn,!1),this.options.persister?this.options.persister(b,C,this):b(C)},o=(()=>{const b={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:N(this,Bn),state:this.state,fetchFn:i};return a(b),b})();(u=this.options.behavior)==null||u.onFetch(o,this),B(this,Ba,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=o.fetchOptions)==null?void 0:h.meta))&&ee(this,Vt,kr).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta}),B(this,Be,nx({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,onCancel:b=>{b instanceof Cu&&b.revert&&this.setState({...N(this,Ba),fetchStatus:"idle"}),n.abort()},onFail:(b,j)=>{ee(this,Vt,kr).call(this,{type:"failed",failureCount:b,error:j})},onPause:()=>{ee(this,Vt,kr).call(this,{type:"pause"})},onContinue:()=>{ee(this,Vt,kr).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const b=await N(this,Be).start();if(b===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(b),(f=(g=N(this,Dt).config).onSuccess)==null||f.call(g,b,this),(v=(y=N(this,Dt).config).onSettled)==null||v.call(y,b,this.state.error,this),b}catch(b){if(b instanceof Cu){if(b.silent)return N(this,Be).promise;if(b.revert){if(this.state.data===void 0)throw b;return this.state.data}}throw ee(this,Vt,kr).call(this,{type:"error",error:b}),(m=(S=N(this,Dt).config).onError)==null||m.call(S,b,this),(x=(p=N(this,Dt).config).onSettled)==null||x.call(p,this.state.data,b,this),b}finally{this.scheduleGc()}}},$n=new WeakMap,Ba=new WeakMap,Dt=new WeakMap,Bn=new WeakMap,Be=new WeakMap,pi=new WeakMap,Hn=new WeakMap,Vt=new WeakSet,kr=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...sx(n.data,this.options),fetchMeta:t.meta??null};case"success":const a={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return B(this,Ba,t.manual?a:void 0),a;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),De.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),N(this,Dt).notify({query:this,type:"updated",action:t})})},Sm);function sx(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:rx(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function ig(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var ht,ie,xi,rt,qn,Ha,Sr,Zr,yi,qa,Wa,Wn,Qn,en,Qa,de,Ds,Eu,_u,Tu,Pu,Iu,Mu,Ru,ix,Nm,ww=(Nm=class extends ds{constructor(t,r){super();Y(this,de);Y(this,ht);Y(this,ie);Y(this,xi);Y(this,rt);Y(this,qn);Y(this,Ha);Y(this,Sr);Y(this,Zr);Y(this,yi);Y(this,qa);Y(this,Wa);Y(this,Wn);Y(this,Qn);Y(this,en);Y(this,Qa,new Set);this.options=r,B(this,ht,t),B(this,Zr,null),B(this,Sr,Nu()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(N(this,ie).addObserver(this),lg(N(this,ie),this.options)?ee(this,de,Ds).call(this):this.updateResult(),ee(this,de,Pu).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Du(N(this,ie),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Du(N(this,ie),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ee(this,de,Iu).call(this),ee(this,de,Mu).call(this),N(this,ie).removeObserver(this)}setOptions(t){const r=this.options,n=N(this,ie);if(this.options=N(this,ht).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Lt(this.options.enabled,N(this,ie))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ee(this,de,Ru).call(this),N(this,ie).setOptions(this.options),r._defaulted&&!Kl(this.options,r)&&N(this,ht).getQueryCache().notify({type:"observerOptionsUpdated",query:N(this,ie),observer:this});const a=this.hasListeners();a&&og(N(this,ie),n,this.options,r)&&ee(this,de,Ds).call(this),this.updateResult(),a&&(N(this,ie)!==n||Lt(this.options.enabled,N(this,ie))!==Lt(r.enabled,N(this,ie))||vn(this.options.staleTime,N(this,ie))!==vn(r.staleTime,N(this,ie)))&&ee(this,de,Eu).call(this);const i=ee(this,de,_u).call(this);a&&(N(this,ie)!==n||Lt(this.options.enabled,N(this,ie))!==Lt(r.enabled,N(this,ie))||i!==N(this,en))&&ee(this,de,Tu).call(this,i)}getOptimisticResult(t){const r=N(this,ht).getQueryCache().build(N(this,ht),t),n=this.createResult(r,t);return Sw(this,n)&&(B(this,rt,n),B(this,Ha,this.options),B(this,qn,N(this,ie).state)),n}getCurrentResult(){return N(this,rt)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),a==="promise"&&!this.options.experimental_prefetchInRender&&N(this,Sr).status==="pending"&&N(this,Sr).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(n,a))})}trackProp(t){N(this,Qa).add(t)}getCurrentQuery(){return N(this,ie)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=N(this,ht).defaultQueryOptions(t),n=N(this,ht).getQueryCache().build(N(this,ht),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return ee(this,de,Ds).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),N(this,rt)))}createResult(t,r){var U;const n=N(this,ie),a=this.options,i=N(this,rt),l=N(this,qn),o=N(this,Ha),u=t!==n?t.state:N(this,xi),{state:h}=t;let d={...h},g=!1,f;if(r._optimisticResults){const R=this.hasListeners(),P=!R&&lg(t,r),A=R&&og(t,n,r,a);(P||A)&&(d={...d,...sx(h.data,t.options)}),r._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:y,errorUpdatedAt:v,status:S}=d;f=d.data;let m=!1;if(r.placeholderData!==void 0&&f===void 0&&S==="pending"){let R;i!=null&&i.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData)?(R=i.data,m=!0):R=typeof r.placeholderData=="function"?r.placeholderData((U=N(this,Wa))==null?void 0:U.state.data,N(this,Wa)):r.placeholderData,R!==void 0&&(S="success",f=Su(i==null?void 0:i.data,R,r),g=!0)}if(r.select&&f!==void 0&&!m)if(i&&f===(l==null?void 0:l.data)&&r.select===N(this,yi))f=N(this,qa);else try{B(this,yi,r.select),f=r.select(f),f=Su(i==null?void 0:i.data,f,r),B(this,qa,f),B(this,Zr,null)}catch(R){B(this,Zr,R)}N(this,Zr)&&(y=N(this,Zr),f=N(this,qa),v=Date.now(),S="error");const p=d.fetchStatus==="fetching",x=S==="pending",b=S==="error",j=x&&p,C=f!==void 0,D={status:S,fetchStatus:d.fetchStatus,isPending:x,isSuccess:S==="success",isError:b,isInitialLoading:j,isLoading:j,data:f,dataUpdatedAt:d.dataUpdatedAt,error:y,errorUpdatedAt:v,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>u.dataUpdateCount||d.errorUpdateCount>u.errorUpdateCount,isFetching:p,isRefetching:p&&!x,isLoadingError:b&&!C,isPaused:d.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:b&&C,isStale:sh(t,r),refetch:this.refetch,promise:N(this,Sr),isEnabled:Lt(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const R=Q=>{D.status==="error"?Q.reject(D.error):D.data!==void 0&&Q.resolve(D.data)},P=()=>{const Q=B(this,Sr,D.promise=Nu());R(Q)},A=N(this,Sr);switch(A.status){case"pending":t.queryHash===n.queryHash&&R(A);break;case"fulfilled":(D.status==="error"||D.data!==A.value)&&P();break;case"rejected":(D.status!=="error"||D.error!==A.reason)&&P();break}}return D}updateResult(){const t=N(this,rt),r=this.createResult(N(this,ie),this.options);if(B(this,qn,N(this,ie).state),B(this,Ha,this.options),N(this,qn).data!==void 0&&B(this,Wa,N(this,ie)),Kl(r,t))return;B(this,rt,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!N(this,Qa).size)return!0;const l=new Set(i??N(this,Qa));return this.options.throwOnError&&l.add("error"),Object.keys(N(this,rt)).some(o=>{const c=o;return N(this,rt)[c]!==t[c]&&l.has(c)})};ee(this,de,ix).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ee(this,de,Pu).call(this)}},ht=new WeakMap,ie=new WeakMap,xi=new WeakMap,rt=new WeakMap,qn=new WeakMap,Ha=new WeakMap,Sr=new WeakMap,Zr=new WeakMap,yi=new WeakMap,qa=new WeakMap,Wa=new WeakMap,Wn=new WeakMap,Qn=new WeakMap,en=new WeakMap,Qa=new WeakMap,de=new WeakSet,Ds=function(t){ee(this,de,Ru).call(this);let r=N(this,ie).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(st)),r},Eu=function(){ee(this,de,Iu).call(this);const t=vn(this.options.staleTime,N(this,ie));if(na||N(this,rt).isStale||!wu(t))return;const n=Zp(N(this,rt).dataUpdatedAt,t)+1;B(this,Wn,Fn.setTimeout(()=>{N(this,rt).isStale||this.updateResult()},n))},_u=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(N(this,ie)):this.options.refetchInterval)??!1},Tu=function(t){ee(this,de,Mu).call(this),B(this,en,t),!(na||Lt(this.options.enabled,N(this,ie))===!1||!wu(N(this,en))||N(this,en)===0)&&B(this,Qn,Fn.setInterval(()=>{(this.options.refetchIntervalInBackground||ah.isFocused())&&ee(this,de,Ds).call(this)},N(this,en)))},Pu=function(){ee(this,de,Eu).call(this),ee(this,de,Tu).call(this,ee(this,de,_u).call(this))},Iu=function(){N(this,Wn)&&(Fn.clearTimeout(N(this,Wn)),B(this,Wn,void 0))},Mu=function(){N(this,Qn)&&(Fn.clearInterval(N(this,Qn)),B(this,Qn,void 0))},Ru=function(){const t=N(this,ht).getQueryCache().build(N(this,ht),this.options);if(t===N(this,ie))return;const r=N(this,ie);B(this,ie,t),B(this,xi,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},ix=function(t){De.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(N(this,rt))}),N(this,ht).getQueryCache().notify({query:N(this,ie),type:"observerResultsUpdated"})})},Nm);function jw(e,t){return Lt(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function lg(e,t){return jw(e,t)||e.state.data!==void 0&&Du(e,t,t.refetchOnMount)}function Du(e,t,r){if(Lt(t.enabled,e)!==!1&&vn(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&sh(e,t)}return!1}function og(e,t,r,n){return(e!==t||Lt(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&sh(e,r)}function sh(e,t){return Lt(t.enabled,e)!==!1&&e.isStaleByTime(vn(t.staleTime,e))}function Sw(e,t){return!Kl(e.getCurrentResult(),t)}function cg(e){return{onFetch:(t,r)=>{var h,d,g,f,y;const n=t.options,a=(g=(d=(h=t.fetchOptions)==null?void 0:h.meta)==null?void 0:d.fetchMore)==null?void 0:g.direction,i=((f=t.state.data)==null?void 0:f.pages)||[],l=((y=t.state.data)==null?void 0:y.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const u=async()=>{let v=!1;const S=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},m=ex(t.options,t.fetchOptions),p=async(x,b,j)=>{if(v)return Promise.reject();if(b==null&&x.pages.length)return Promise.resolve(x);const T=(()=>{const P={client:t.client,queryKey:t.queryKey,pageParam:b,direction:j?"backward":"forward",meta:t.options.meta};return S(P),P})(),D=await m(T),{maxPages:U}=t.options,R=j?mw:gw;return{pages:R(x.pages,D,U),pageParams:R(x.pageParams,b,U)}};if(a&&i.length){const x=a==="backward",b=x?Nw:ug,j={pages:i,pageParams:l},C=b(n,j);o=await p(j,C,x)}else{const x=e??i.length;do{const b=c===0?l[0]??n.initialPageParam:ug(n,o);if(c>0&&b==null)break;o=await p(o,b),c++}while(c<x)}return o};t.options.persister?t.fetchFn=()=>{var v,S;return(S=(v=t.options).persister)==null?void 0:S.call(v,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function ug(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function Nw(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var vi,lr,nt,Vn,or,qr,Cm,Cw=(Cm=class extends ax{constructor(t){super();Y(this,or);Y(this,vi);Y(this,lr);Y(this,nt);Y(this,Vn);B(this,vi,t.client),this.mutationId=t.mutationId,B(this,nt,t.mutationCache),B(this,lr,[]),this.state=t.state||lx(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){N(this,lr).includes(t)||(N(this,lr).push(t),this.clearGcTimeout(),N(this,nt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){B(this,lr,N(this,lr).filter(r=>r!==t)),this.scheduleGc(),N(this,nt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){N(this,lr).length||(this.state.status==="pending"?this.scheduleGc():N(this,nt).remove(this))}continue(){var t;return((t=N(this,Vn))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var l,o,c,u,h,d,g,f,y,v,S,m,p,x,b,j,C,T,D,U;const r=()=>{ee(this,or,qr).call(this,{type:"continue"})},n={client:N(this,vi),meta:this.options.meta,mutationKey:this.options.mutationKey};B(this,Vn,nx({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(R,P)=>{ee(this,or,qr).call(this,{type:"failed",failureCount:R,error:P})},onPause:()=>{ee(this,or,qr).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>N(this,nt).canRun(this)}));const a=this.state.status==="pending",i=!N(this,Vn).canStart();try{if(a)r();else{ee(this,or,qr).call(this,{type:"pending",variables:t,isPaused:i}),await((o=(l=N(this,nt).config).onMutate)==null?void 0:o.call(l,t,this,n));const P=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,n));P!==this.state.context&&ee(this,or,qr).call(this,{type:"pending",context:P,variables:t,isPaused:i})}const R=await N(this,Vn).start();return await((d=(h=N(this,nt).config).onSuccess)==null?void 0:d.call(h,R,t,this.state.context,this,n)),await((f=(g=this.options).onSuccess)==null?void 0:f.call(g,R,t,this.state.context,n)),await((v=(y=N(this,nt).config).onSettled)==null?void 0:v.call(y,R,null,this.state.variables,this.state.context,this,n)),await((m=(S=this.options).onSettled)==null?void 0:m.call(S,R,null,t,this.state.context,n)),ee(this,or,qr).call(this,{type:"success",data:R}),R}catch(R){try{throw await((x=(p=N(this,nt).config).onError)==null?void 0:x.call(p,R,t,this.state.context,this,n)),await((j=(b=this.options).onError)==null?void 0:j.call(b,R,t,this.state.context,n)),await((T=(C=N(this,nt).config).onSettled)==null?void 0:T.call(C,void 0,R,this.state.variables,this.state.context,this,n)),await((U=(D=this.options).onSettled)==null?void 0:U.call(D,void 0,R,t,this.state.context,n)),R}finally{ee(this,or,qr).call(this,{type:"error",error:R})}}finally{N(this,nt).runNext(this)}}},vi=new WeakMap,lr=new WeakMap,nt=new WeakMap,Vn=new WeakMap,or=new WeakSet,qr=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),De.batch(()=>{N(this,lr).forEach(n=>{n.onMutationUpdate(t)}),N(this,nt).notify({mutation:this,type:"updated",action:t})})},Cm);function lx(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Nr,Kt,bi,Em,Ew=(Em=class extends ds{constructor(t={}){super();Y(this,Nr);Y(this,Kt);Y(this,bi);this.config=t,B(this,Nr,new Set),B(this,Kt,new Map),B(this,bi,0)}build(t,r,n){const a=new Cw({client:t,mutationCache:this,mutationId:++Di(this,bi)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){N(this,Nr).add(t);const r=Ji(t);if(typeof r=="string"){const n=N(this,Kt).get(r);n?n.push(t):N(this,Kt).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(N(this,Nr).delete(t)){const r=Ji(t);if(typeof r=="string"){const n=N(this,Kt).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&N(this,Kt).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Ji(t);if(typeof r=="string"){const n=N(this,Kt).get(r),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=Ji(t);if(typeof r=="string"){const a=(n=N(this,Kt).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){De.batch(()=>{N(this,Nr).forEach(t=>{this.notify({type:"removed",mutation:t})}),N(this,Nr).clear(),N(this,Kt).clear()})}getAll(){return Array.from(N(this,Nr))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>ng(r,n))}findAll(t={}){return this.getAll().filter(r=>ng(t,r))}notify(t){De.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return De.batch(()=>Promise.all(t.map(r=>r.continue().catch(st))))}},Nr=new WeakMap,Kt=new WeakMap,bi=new WeakMap,Em);function Ji(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Cr,tn,ft,Er,Mr,pl,Lu,_m,_w=(_m=class extends ds{constructor(r,n){super();Y(this,Mr);Y(this,Cr);Y(this,tn);Y(this,ft);Y(this,Er);B(this,Cr,r),this.setOptions(n),this.bindMethods(),ee(this,Mr,pl).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=N(this,Cr).defaultMutationOptions(r),Kl(this.options,n)||N(this,Cr).getMutationCache().notify({type:"observerOptionsUpdated",mutation:N(this,ft),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&aa(n.mutationKey)!==aa(this.options.mutationKey)?this.reset():((a=N(this,ft))==null?void 0:a.state.status)==="pending"&&N(this,ft).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=N(this,ft))==null||r.removeObserver(this)}onMutationUpdate(r){ee(this,Mr,pl).call(this),ee(this,Mr,Lu).call(this,r)}getCurrentResult(){return N(this,tn)}reset(){var r;(r=N(this,ft))==null||r.removeObserver(this),B(this,ft,void 0),ee(this,Mr,pl).call(this),ee(this,Mr,Lu).call(this)}mutate(r,n){var a;return B(this,Er,n),(a=N(this,ft))==null||a.removeObserver(this),B(this,ft,N(this,Cr).getMutationCache().build(N(this,Cr),this.options)),N(this,ft).addObserver(this),N(this,ft).execute(r)}},Cr=new WeakMap,tn=new WeakMap,ft=new WeakMap,Er=new WeakMap,Mr=new WeakSet,pl=function(){var n;const r=((n=N(this,ft))==null?void 0:n.state)??lx();B(this,tn,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Lu=function(r){De.batch(()=>{var n,a,i,l,o,c,u,h;if(N(this,Er)&&this.hasListeners()){const d=N(this,tn).variables,g=N(this,tn).context,f={client:N(this,Cr),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((a=(n=N(this,Er)).onSuccess)==null||a.call(n,r.data,d,g,f),(l=(i=N(this,Er)).onSettled)==null||l.call(i,r.data,null,d,g,f)):(r==null?void 0:r.type)==="error"&&((c=(o=N(this,Er)).onError)==null||c.call(o,r.error,d,g,f),(h=(u=N(this,Er)).onSettled)==null||h.call(u,void 0,r.error,d,g,f))}this.listeners.forEach(d=>{d(N(this,tn))})})},_m),cr,Tm,Tw=(Tm=class extends ds{constructor(t={}){super();Y(this,cr);this.config=t,B(this,cr,new Map)}build(t,r,n){const a=r.queryKey,i=r.queryHash??th(a,r);let l=this.get(i);return l||(l=new kw({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(l)),l}add(t){N(this,cr).has(t.queryHash)||(N(this,cr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=N(this,cr).get(t.queryHash);r&&(t.destroy(),r===t&&N(this,cr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){De.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return N(this,cr).get(t)}getAll(){return[...N(this,cr).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>rg(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>rg(t,n)):r}notify(t){De.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){De.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){De.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},cr=new WeakMap,Tm),_e,rn,nn,Va,Ka,an,Ya,Ga,Pm,Pw=(Pm=class{constructor(e={}){Y(this,_e);Y(this,rn);Y(this,nn);Y(this,Va);Y(this,Ka);Y(this,an);Y(this,Ya);Y(this,Ga);B(this,_e,e.queryCache||new Tw),B(this,rn,e.mutationCache||new Ew),B(this,nn,e.defaultOptions||{}),B(this,Va,new Map),B(this,Ka,new Map),B(this,an,0)}mount(){Di(this,an)._++,N(this,an)===1&&(B(this,Ya,ah.subscribe(async e=>{e&&(await this.resumePausedMutations(),N(this,_e).onFocus())})),B(this,Ga,Yl.subscribe(async e=>{e&&(await this.resumePausedMutations(),N(this,_e).onOnline())})))}unmount(){var e,t;Di(this,an)._--,N(this,an)===0&&((e=N(this,Ya))==null||e.call(this),B(this,Ya,void 0),(t=N(this,Ga))==null||t.call(this),B(this,Ga,void 0))}isFetching(e){return N(this,_e).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return N(this,rn).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=N(this,_e).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=N(this,_e).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(vn(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return N(this,_e).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=N(this,_e).get(n.queryHash),i=a==null?void 0:a.state.data,l=dw(t,i);if(l!==void 0)return N(this,_e).build(this,n).setData(l,{...r,manual:!0})}setQueriesData(e,t,r){return De.batch(()=>N(this,_e).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=N(this,_e).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=N(this,_e);De.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=N(this,_e);return De.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=De.batch(()=>N(this,_e).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(st).catch(st)}invalidateQueries(e,t={}){return De.batch(()=>(N(this,_e).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=De.batch(()=>N(this,_e).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(st)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(st)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=N(this,_e).build(this,t);return r.isStaleByTime(vn(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(st).catch(st)}fetchInfiniteQuery(e){return e.behavior=cg(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(st).catch(st)}ensureInfiniteQueryData(e){return e.behavior=cg(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Yl.isOnline()?N(this,rn).resumePausedMutations():Promise.resolve()}getQueryCache(){return N(this,_e)}getMutationCache(){return N(this,rn)}getDefaultOptions(){return N(this,nn)}setDefaultOptions(e){B(this,nn,e)}setQueryDefaults(e,t){N(this,Va).set(aa(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...N(this,Va).values()],r={};return t.forEach(n=>{hi(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){N(this,Ka).set(aa(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...N(this,Ka).values()],r={};return t.forEach(n=>{hi(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...N(this,nn).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=th(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===nh&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...N(this,nn).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){N(this,_e).clear(),N(this,rn).clear()}},_e=new WeakMap,rn=new WeakMap,nn=new WeakMap,Va=new WeakMap,Ka=new WeakMap,an=new WeakMap,Ya=new WeakMap,Ga=new WeakMap,Pm),ox=w.createContext(void 0),Ht=e=>{const t=w.useContext(ox);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Iw=({client:e,children:t})=>(w.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(ox.Provider,{value:e,children:t})),cx=w.createContext(!1),Mw=()=>w.useContext(cx);cx.Provider;function Rw(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Dw=w.createContext(Rw()),Lw=()=>w.useContext(Dw),Ow=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Aw=e=>{w.useEffect(()=>{e.clearReset()},[e])},Fw=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||tx(r,[e.error,n])),zw=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Uw=(e,t)=>e.isLoading&&e.isFetching&&!t,$w=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,dg=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function Bw(e,t,r){var d,g,f,y,v;const n=Mw(),a=Lw(),i=Ht(),l=i.defaultQueryOptions(e);(g=(d=i.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||g.call(d,l),l._optimisticResults=n?"isRestoring":"optimistic",zw(l),Ow(l,a),Aw(a);const o=!i.getQueryCache().get(l.queryHash),[c]=w.useState(()=>new t(i,l)),u=c.getOptimisticResult(l),h=!n&&e.subscribed!==!1;if(w.useSyncExternalStore(w.useCallback(S=>{const m=h?c.subscribe(De.batchCalls(S)):st;return c.updateResult(),m},[c,h]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),w.useEffect(()=>{c.setOptions(l)},[l,c]),$w(l,u))throw dg(l,c,a);if(Fw({result:u,errorResetBoundary:a,throwOnError:l.throwOnError,query:i.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw u.error;if((y=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||y.call(f,l,u),l.experimental_prefetchInRender&&!na&&Uw(u,n)){const S=o?dg(l,c,a):(v=i.getQueryCache().get(l.queryHash))==null?void 0:v.promise;S==null||S.catch(st).finally(()=>{c.updateResult()})}return l.notifyOnChangeProps?u:c.trackResult(u)}function Fe(e,t){return Bw(e,ww)}function hg(e,t){return e.findAll(t.filters).map(r=>t.select?t.select(r):r.state)}function fg(e={},t){const r=Ht().getMutationCache(),n=w.useRef(e),a=w.useRef(null);return a.current||(a.current=hg(r,e)),w.useEffect(()=>{n.current=e}),w.useSyncExternalStore(w.useCallback(i=>r.subscribe(()=>{const l=rh(a.current,hg(r,n.current));a.current!==l&&(a.current=l,De.schedule(i))}),[r]),()=>a.current,()=>a.current)}function mr(e,t){const r=Ht(),[n]=w.useState(()=>new _w(r,e));w.useEffect(()=>{n.setOptions(e)},[n,e]);const a=w.useSyncExternalStore(w.useCallback(l=>n.subscribe(De.batchCalls(l)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=w.useCallback((l,o)=>{n.mutate(l,o).catch(st)},[n]);if(a.error&&tx(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}let Hw={data:""},qw=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||Hw},Ww=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Qw=/\/\*[^]*?\*\/|  +/g,gg=/\n+/g,Yr=(e,t)=>{let r="",n="",a="";for(let i in e){let l=e[i];i[0]=="@"?i[1]=="i"?r=i+" "+l+";":n+=i[1]=="f"?Yr(l,i):i+"{"+Yr(l,i[1]=="k"?"":t)+"}":typeof l=="object"?n+=Yr(l,t?t.replace(/([^,])+/g,o=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,o):o?o+" "+c:c)):i):l!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Yr.p?Yr.p(i,l):i+":"+l+";")}return r+(t&&a?t+"{"+a+"}":a)+n},br={},ux=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+ux(e[r]);return t}return e},Vw=(e,t,r,n,a)=>{let i=ux(e),l=br[i]||(br[i]=(c=>{let u=0,h=11;for(;u<c.length;)h=101*h+c.charCodeAt(u++)>>>0;return"go"+h})(i));if(!br[l]){let c=i!==e?e:(u=>{let h,d,g=[{}];for(;h=Ww.exec(u.replace(Qw,""));)h[4]?g.shift():h[3]?(d=h[3].replace(gg," ").trim(),g.unshift(g[0][d]=g[0][d]||{})):g[0][h[1]]=h[2].replace(gg," ").trim();return g[0]})(e);br[l]=Yr(a?{["@keyframes "+l]:c}:c,r?"":"."+l)}let o=r&&br.g?br.g:null;return r&&(br.g=br[l]),((c,u,h,d)=>{d?u.data=u.data.replace(d,c):u.data.indexOf(c)===-1&&(u.data=h?c+u.data:u.data+c)})(br[l],t,n,o),l},Kw=(e,t,r)=>e.reduce((n,a,i)=>{let l=t[i];if(l&&l.call){let o=l(r),c=o&&o.props&&o.props.className||/^go/.test(o)&&o;l=c?"."+c:o&&typeof o=="object"?o.props?"":Yr(o,""):o===!1?"":o}return n+a+(l??"")},"");function No(e){let t=this||{},r=e.call?e(t.p):e;return Vw(r.unshift?r.raw?Kw(r,[].slice.call(arguments,1),t.p):r.reduce((n,a)=>Object.assign(n,a&&a.call?a(t.p):a),{}):r,qw(t.target),t.g,t.o,t.k)}let dx,Ou,Au;No.bind({g:1});let Ar=No.bind({k:1});function Yw(e,t,r,n){Yr.p=t,dx=e,Ou=r,Au=n}function _n(e,t){let r=this||{};return function(){let n=arguments;function a(i,l){let o=Object.assign({},i),c=o.className||a.className;r.p=Object.assign({theme:Ou&&Ou()},o),r.o=/ *go\d+/.test(c),o.className=No.apply(r,n)+(c?" "+c:"");let u=e;return e[0]&&(u=o.as||e,delete o.as),Au&&u[0]&&Au(o),dx(u,o)}return a}}var Gw=e=>typeof e=="function",Gl=(e,t)=>Gw(e)?e(t):e,Xw=(()=>{let e=0;return()=>(++e).toString()})(),hx=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Jw=20,ih="default",fx=(e,t)=>{let{toastLimit:r}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,r)};case 1:return{...e,toasts:e.toasts.map(l=>l.id===t.toast.id?{...l,...t.toast}:l)};case 2:let{toast:n}=t;return fx(e,{type:e.toasts.find(l=>l.id===n.id)?1:0,toast:n});case 3:let{toastId:a}=t;return{...e,toasts:e.toasts.map(l=>l.id===a||a===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(l=>l.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+i}))}}},xl=[],gx={toasts:[],pausedAt:void 0,settings:{toastLimit:Jw}},hr={},mx=(e,t=ih)=>{hr[t]=fx(hr[t]||gx,e),xl.forEach(([r,n])=>{r===t&&n(hr[t])})},px=e=>Object.keys(hr).forEach(t=>mx(e,t)),Zw=e=>Object.keys(hr).find(t=>hr[t].toasts.some(r=>r.id===e)),Co=(e=ih)=>t=>{mx(t,e)},e1={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},t1=(e={},t=ih)=>{let[r,n]=w.useState(hr[t]||gx),a=w.useRef(hr[t]);w.useEffect(()=>(a.current!==hr[t]&&n(hr[t]),xl.push([t,n]),()=>{let l=xl.findIndex(([o])=>o===t);l>-1&&xl.splice(l,1)}),[t]);let i=r.toasts.map(l=>{var o,c,u;return{...e,...e[l.type],...l,removeDelay:l.removeDelay||((o=e[l.type])==null?void 0:o.removeDelay)||(e==null?void 0:e.removeDelay),duration:l.duration||((c=e[l.type])==null?void 0:c.duration)||(e==null?void 0:e.duration)||e1[l.type],style:{...e.style,...(u=e[l.type])==null?void 0:u.style,...l.style}}});return{...r,toasts:i}},r1=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||Xw()}),Ci=e=>(t,r)=>{let n=r1(t,e,r);return Co(n.toasterId||Zw(n.id))({type:2,toast:n}),n.id},qe=(e,t)=>Ci("blank")(e,t);qe.error=Ci("error");qe.success=Ci("success");qe.loading=Ci("loading");qe.custom=Ci("custom");qe.dismiss=(e,t)=>{let r={type:3,toastId:e};t?Co(t)(r):px(r)};qe.dismissAll=e=>qe.dismiss(void 0,e);qe.remove=(e,t)=>{let r={type:4,toastId:e};t?Co(t)(r):px(r)};qe.removeAll=e=>qe.remove(void 0,e);qe.promise=(e,t,r)=>{let n=qe.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(a=>{let i=t.success?Gl(t.success,a):void 0;return i?qe.success(i,{id:n,...r,...r==null?void 0:r.success}):qe.dismiss(n),a}).catch(a=>{let i=t.error?Gl(t.error,a):void 0;i?qe.error(i,{id:n,...r,...r==null?void 0:r.error}):qe.dismiss(n)}),e};var n1=1e3,a1=(e,t="default")=>{let{toasts:r,pausedAt:n}=t1(e,t),a=w.useRef(new Map).current,i=w.useCallback((d,g=n1)=>{if(a.has(d))return;let f=setTimeout(()=>{a.delete(d),l({type:4,toastId:d})},g);a.set(d,f)},[]);w.useEffect(()=>{if(n)return;let d=Date.now(),g=r.map(f=>{if(f.duration===1/0)return;let y=(f.duration||0)+f.pauseDuration-(d-f.createdAt);if(y<0){f.visible&&qe.dismiss(f.id);return}return setTimeout(()=>qe.dismiss(f.id,t),y)});return()=>{g.forEach(f=>f&&clearTimeout(f))}},[r,n,t]);let l=w.useCallback(Co(t),[t]),o=w.useCallback(()=>{l({type:5,time:Date.now()})},[l]),c=w.useCallback((d,g)=>{l({type:1,toast:{id:d,height:g}})},[l]),u=w.useCallback(()=>{n&&l({type:6,time:Date.now()})},[n,l]),h=w.useCallback((d,g)=>{let{reverseOrder:f=!1,gutter:y=8,defaultPosition:v}=g||{},S=r.filter(x=>(x.position||v)===(d.position||v)&&x.height),m=S.findIndex(x=>x.id===d.id),p=S.filter((x,b)=>b<m&&x.visible).length;return S.filter(x=>x.visible).slice(...f?[p+1]:[0,p]).reduce((x,b)=>x+(b.height||0)+y,0)},[r]);return w.useEffect(()=>{r.forEach(d=>{if(d.dismissed)i(d.id,d.removeDelay);else{let g=a.get(d.id);g&&(clearTimeout(g),a.delete(d.id))}})},[r,i]),{toasts:r,handlers:{updateHeight:c,startPause:o,endPause:u,calculateOffset:h}}},s1=Ar`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,i1=Ar`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,l1=Ar`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,o1=_n("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${s1} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${i1} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${l1} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,c1=Ar`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,u1=_n("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${c1} 1s linear infinite;
`,d1=Ar`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,h1=Ar`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,f1=_n("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${d1} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${h1} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,g1=_n("div")`
  position: absolute;
`,m1=_n("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,p1=Ar`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,x1=_n("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${p1} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,y1=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?w.createElement(x1,null,t):t:r==="blank"?null:w.createElement(m1,null,w.createElement(u1,{...n}),r!=="loading"&&w.createElement(g1,null,r==="error"?w.createElement(o1,{...n}):w.createElement(f1,{...n})))},v1=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,b1=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,k1="0%{opacity:0;} 100%{opacity:1;}",w1="0%{opacity:1;} 100%{opacity:0;}",j1=_n("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,S1=_n("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,N1=(e,t)=>{let r=e.includes("top")?1:-1,[n,a]=hx()?[k1,w1]:[v1(r),b1(r)];return{animation:t?`${Ar(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ar(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},C1=w.memo(({toast:e,position:t,style:r,children:n})=>{let a=e.height?N1(e.position||t||"top-center",e.visible):{opacity:0},i=w.createElement(y1,{toast:e}),l=w.createElement(S1,{...e.ariaProps},Gl(e.message,e));return w.createElement(j1,{className:e.className,style:{...a,...r,...e.style}},typeof n=="function"?n({icon:i,message:l}):w.createElement(w.Fragment,null,i,l))});Yw(w.createElement);var E1=({id:e,className:t,style:r,onHeightUpdate:n,children:a})=>{let i=w.useCallback(l=>{if(l){let o=()=>{let c=l.getBoundingClientRect().height;n(e,c)};o(),new MutationObserver(o).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return w.createElement("div",{ref:i,className:t,style:r},a)},_1=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:hx()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...a}},T1=No`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Zi=16,P1=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:a,toasterId:i,containerStyle:l,containerClassName:o})=>{let{toasts:c,handlers:u}=a1(r,i);return w.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:Zi,left:Zi,right:Zi,bottom:Zi,pointerEvents:"none",...l},className:o,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map(h=>{let d=h.position||t,g=u.calculateOffset(h,{reverseOrder:e,gutter:n,defaultPosition:t}),f=_1(d,g);return w.createElement(E1,{id:h.id,key:h.id,onHeightUpdate:u.updateHeight,className:h.visible?T1:"",style:f},h.type==="custom"?Gl(h.message,h):a?a(h):w.createElement(C1,{toast:h,position:d}))}))};/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xx=(...e)=>e.filter((t,r,n)=>!!t&&n.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var M1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:l,...o},c)=>w.createElement("svg",{ref:c,...M1,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:xx("lucide",a),...o},[...l.map(([u,h])=>w.createElement(u,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=(e,t)=>{const r=w.forwardRef(({className:n,...a},i)=>w.createElement(R1,{ref:i,iconNode:t,className:xx(`lucide-${I1(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=V("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1=V("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=V("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=V("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=V("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lh=V("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=V("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=V("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=V("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mg=V("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=V("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ei=V("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=V("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pg=V("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=V("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fu=V("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=V("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=V("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=V("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=V("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=V("FileSearch",[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M4.268 21a2 2 0 0 0 1.727 1H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"ms7g94"}],["path",{d:"m9 18-1.5-1.5",key:"1j6qii"}],["circle",{cx:"5",cy:"14",r:"3",key:"ufru5t"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _o=V("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=V("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=V("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=V("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xl=V("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=V("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=V("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=V("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=V("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=V("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xg=V("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=V("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=V("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=V("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jl=V("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=V("PowerOff",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uu=V("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zl=V("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=V("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=V("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=V("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=V("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=V("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ch=V("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=V("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=V("Signal",[["path",{d:"M2 20h.01",key:"4haj6o"}],["path",{d:"M7 20v-4",key:"j294jx"}],["path",{d:"M12 20v-8",key:"i3yub9"}],["path",{d:"M17 20V8",key:"1tkaf5"}],["path",{d:"M22 4v16",key:"sih9yq"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=V("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=V("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const To=V("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Po=V("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uh=V("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=V("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $u=V("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=V("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=V("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=V("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dh=V("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Ir={},sr=(Ir==null?void 0:Ir.VITE_API_URL)||"/api",J1=(Ir==null?void 0:Ir.VITE_SIGNALR_URL)||"/hubs",Z1=(Ir==null?void 0:Ir.VITE_SIGNALR_HUB)||"scan-progress",dc="auth_token";class bn{static async login(t,r){const n=await fetch(`${sr}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:r})});if(!n.ok)throw new Error("Login failed");const a=await n.json().catch(()=>({})),i=n.headers.get("authorization")||n.headers.get("Authorization");let l;const o=[a,a==null?void 0:a.data];for(const c of o)if(!(!c||typeof c!="object")&&(l=c.accessToken||c.token||c.jwt||c.bearerToken||c.id_token||c.idToken,l))break;if(!l&&typeof i=="string"){const c=i.split(" ");l=c.length===2?c[1]:i}return l&&localStorage.setItem(dc,l),{accessToken:l||"",...a}}static logout(){localStorage.removeItem(dc)}static getToken(){return localStorage.getItem(dc)}}const ej=[{name:"Dashboard",href:"/",icon:H1,description:"Mission Control Center"},{name:"AI Chat",href:"/chat",icon:jx,description:"Ask CastellanAI"},{name:"Security Events",href:"/security-events",icon:bt,description:"Event Investigation"},{name:"Timeline",href:"/timeline",icon:Ei,description:"Attack Visualization"},{name:"Threat Intelligence",href:"/mitre-attack",icon:To,description:"MITRE ATT&CK"},{name:"Malware Detection",href:"/malware-rules",icon:fs,description:"Rule Management"},{name:"Threat Scanner",href:"/threat-scanner",icon:Nx,description:"Security Scanning"},{name:"System Status",href:"/system-status",icon:jn,description:"Platform Health"}];function tj({children:e}){const t=us(),r=ct(),[n,a]=w.useState(!1),[i,l]=w.useState(()=>{const h=localStorage.getItem("theme");return h?h==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches}),o=w.useRef(null);w.useEffect(()=>{i?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[i]),w.useEffect(()=>{function h(d){o.current&&!o.current.contains(d.target)&&a(!1)}return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[]);const c=()=>{bn.logout(),r("/login",{replace:!0})},u=()=>{l(!i)};return s.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[s.jsxs("div",{className:"fixed inset-y-0 left-0 z-50 w-72 bg-white dark:bg-gray-800 shadow-xl border-r border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex h-16 items-center justify-between px-6 border-b border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-blue-600",children:s.jsx(Le,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"CastellanAI"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Security Platform"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(yx,{className:"hidden h-5 w-5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 cursor-pointer"}),s.jsxs("div",{className:"relative",ref:o,children:[s.jsx("button",{onClick:()=>a(!n),className:"flex items-center justify-center h-8 w-8 rounded-full bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:s.jsx(Cx,{className:"h-5 w-5 text-gray-600 dark:text-gray-300"})}),n&&s.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-1 z-50",children:[s.jsx("button",{onClick:()=>{u(),a(!1)},className:"w-full flex items-center space-x-3 px-4 py-2.5 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:i?s.jsxs(s.Fragment,{children:[s.jsx(Y1,{className:"h-4 w-4"}),s.jsx("span",{children:"Light Mode"})]}):s.jsxs(s.Fragment,{children:[s.jsx(Q1,{className:"h-4 w-4"}),s.jsx("span",{children:"Dark Mode"})]})}),s.jsxs(Vl,{to:"/configuration",onClick:()=>a(!1),className:"w-full flex items-center space-x-3 px-4 py-2.5 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[s.jsx(ch,{className:"h-4 w-4"}),s.jsx("span",{children:"Configuration"})]}),s.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 my-1"}),s.jsxs("button",{onClick:c,className:"w-full flex items-center space-x-3 px-4 py-2.5 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[s.jsx(q1,{className:"h-4 w-4"}),s.jsx("span",{children:"Logout"})]})]})]})]})]}),s.jsx("nav",{className:"mt-6 px-3",children:s.jsx("ul",{className:"space-y-1",children:ej.map(h=>{const d=t.pathname===h.href,g=h.icon;return s.jsx("li",{children:s.jsxs(Vl,{to:h.href,className:`group flex items-center justify-between rounded-lg px-3 py-2.5 text-sm font-medium transition-all duration-200 ${d?"bg-blue-50 text-blue-700 dark:bg-blue-900/50 dark:text-blue-300":"text-gray-700 hover:bg-gray-50 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white"}`,children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(g,{className:`h-5 w-5 ${d?"text-blue-600 dark:text-blue-400":"text-gray-400 group-hover:text-gray-600 dark:group-hover:text-gray-300"}`}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:h.name}),s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:h.description})]})]}),d&&s.jsx(vx,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})]})},h.name)})})}),s.jsx("div",{className:"absolute bottom-6 left-6 right-6",children:s.jsxs("div",{className:"rounded-lg bg-green-50 dark:bg-green-900/20 p-3 border border-green-200 dark:border-green-800",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500 animate-pulse"}),s.jsx("span",{className:"text-sm font-medium text-green-700 dark:text-green-300",children:"System Operational"})]}),s.jsx("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:"All services running normally"})]})})]}),s.jsx("div",{className:"pl-72",children:s.jsx("main",{className:"min-h-screen",children:e})})]})}const rj={blue:{bg:"bg-blue-50 dark:bg-blue-900/20",border:"border-blue-200 dark:border-blue-800",icon:"text-blue-600 dark:text-blue-400",text:"text-blue-900 dark:text-blue-100",change:"text-blue-600 dark:text-blue-400"},green:{bg:"bg-green-50 dark:bg-green-900/20",border:"border-green-200 dark:border-green-800",icon:"text-green-600 dark:text-green-400",text:"text-green-900 dark:text-green-100",change:"text-green-600 dark:text-green-400"},yellow:{bg:"bg-yellow-50 dark:bg-yellow-900/20",border:"border-yellow-200 dark:border-yellow-800",icon:"text-yellow-600 dark:text-yellow-400",text:"text-yellow-900 dark:text-yellow-100",change:"text-yellow-600 dark:text-yellow-400"},red:{bg:"bg-red-50 dark:bg-red-900/20",border:"border-red-200 dark:border-red-800",icon:"text-red-600 dark:text-red-400",text:"text-red-900 dark:text-red-100",change:"text-red-600 dark:text-red-400"},gray:{bg:"bg-gray-50 dark:bg-gray-800",border:"border-gray-200 dark:border-gray-700",icon:"text-gray-600 dark:text-gray-400",text:"text-gray-900 dark:text-gray-100",change:"text-gray-600 dark:text-gray-400"}};function Gt({title:e,value:t,change:r,icon:n,color:a,description:i}){const l=rj[a];return s.jsxs("div",{className:`rounded-xl border p-6 transition-all duration-200 hover:shadow-md ${l.bg} ${l.border}`,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`rounded-lg p-2 ${l.bg}`,children:s.jsx(n,{className:`h-6 w-6 ${l.icon}`})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:e}),s.jsx("p",{className:`text-2xl font-bold ${l.text}`,children:typeof t=="number"?t.toLocaleString():t})]})]}),r&&s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:`text-sm font-medium ${l.change}`,children:[r.value>0?"+":"",r.value]}),s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:r.period})]})]}),i&&s.jsx("p",{className:"mt-3 text-sm text-gray-600 dark:text-gray-400",children:i})]})}function nj(e){switch((e||"MEDIUM").toUpperCase()){case"CRITICAL":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"HIGH":return"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200";case"MEDIUM":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"LOW":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}}function aj({events:e,isLoading:t}){return t?s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Recent Activity"}),s.jsx("div",{className:"space-y-3",children:[...Array(5)].map((r,n)=>s.jsx("div",{className:"h-20 rounded-xl border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 animate-pulse"},n))})]}):s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Recent Activity"}),s.jsx(Vl,{to:"/security-events",className:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium",children:"View all "})]}),s.jsx("div",{className:"space-y-3",children:!e||e.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Le,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No recent security events"})]}):e.map(r=>{const n=(r.riskLevel||"MEDIUM").toUpperCase();return s.jsx(Vl,{to:`/security-events/${r.id}`,className:"block rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 p-4 cursor-pointer hover:shadow-lg hover:border-blue-300 dark:hover:border-blue-600 transition-all duration-200",children:s.jsx("div",{className:"flex items-start justify-between gap-3",children:s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[s.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-full ${nj(r.riskLevel)}`,children:n}),s.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100 truncate",children:r.eventType||"Security Event"})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs text-gray-500 dark:text-gray-400",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-gray-400"}),s.jsx("span",{children:new Date(r.timestamp||Date.now()).toLocaleString()})]}),r.machine&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Machine:"})," ",s.jsx("span",{className:"text-gray-900 dark:text-gray-100 font-medium",children:r.machine})]}),r.source&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Source:"})," ",s.jsx("span",{className:"text-gray-900 dark:text-gray-100 font-medium",children:r.source})]})]})]})})},r.id)})})]})}function sj({data:e,isLoading:t}){if(t)return s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Threat Distribution"}),s.jsx("div",{className:"space-y-3",children:[...Array(4)].map((l,o)=>s.jsx("div",{className:"animate-pulse",children:s.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-full mb-2"})},o))})]});const r={CRITICAL:"bg-red-500",HIGH:"bg-orange-500",MEDIUM:"bg-yellow-500",LOW:"bg-green-500"},n=(e||[]).reduce((l,o)=>l+o.count,0)||1,a={CRITICAL:0,HIGH:1,MEDIUM:2,LOW:3,UNKNOWN:4},i=[...e||[]].sort((l,o)=>{const c=(l.severity||"UNKNOWN").toUpperCase(),u=(o.severity||"UNKNOWN").toUpperCase();return(a[c]??999)-(a[u]??999)});return s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Threat Distribution"}),s.jsx("div",{className:"space-y-4",children:!e||e.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Le,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No threat data available"})]}):i.map(l=>{const o=(l.severity||"UNKNOWN").toUpperCase(),c=o.charAt(0)+o.slice(1).toLowerCase(),u=l.count/n*100,h=r[o]||"bg-gray-500";return s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${h}`}),s.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:c})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-20 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full ${h}`,style:{width:`${u}%`}})}),s.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 min-w-[3rem] text-right",children:l.count})]})]},l.severity)})})]})}function ua({size:e="medium"}){const t={small:"h-6 w-6",medium:"h-12 w-12",large:"h-16 w-16"};return s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:`animate-spin rounded-full border-b-2 border-blue-600 ${t[e]}`})})}class Gn extends Error{constructor(t,r){const n=new.target.prototype;super(`${t}: Status code '${r}'`),this.statusCode=r,this.__proto__=n}}class hh extends Error{constructor(t="A timeout occurred."){const r=new.target.prototype;super(t),this.__proto__=r}}class Jt extends Error{constructor(t="An abort occurred."){const r=new.target.prototype;super(t),this.__proto__=r}}class ij extends Error{constructor(t,r){const n=new.target.prototype;super(t),this.transport=r,this.errorType="UnsupportedTransportError",this.__proto__=n}}class lj extends Error{constructor(t,r){const n=new.target.prototype;super(t),this.transport=r,this.errorType="DisabledTransportError",this.__proto__=n}}class oj extends Error{constructor(t,r){const n=new.target.prototype;super(t),this.transport=r,this.errorType="FailedToStartTransportError",this.__proto__=n}}class yg extends Error{constructor(t){const r=new.target.prototype;super(t),this.errorType="FailedToNegotiateWithServerError",this.__proto__=r}}class cj extends Error{constructor(t,r){const n=new.target.prototype;super(t),this.innerErrors=r,this.__proto__=n}}class Ex{constructor(t,r,n){this.statusCode=t,this.statusText=r,this.content=n}}class Mo{get(t,r){return this.send({...r,method:"GET",url:t})}post(t,r){return this.send({...r,method:"POST",url:t})}delete(t,r){return this.send({...r,method:"DELETE",url:t})}getCookieString(t){return""}}var I;(function(e){e[e.Trace=0]="Trace",e[e.Debug=1]="Debug",e[e.Information=2]="Information",e[e.Warning=3]="Warning",e[e.Error=4]="Error",e[e.Critical=5]="Critical",e[e.None=6]="None"})(I||(I={}));class fi{constructor(){}log(t,r){}}fi.instance=new fi;const uj="9.0.6";class Oe{static isRequired(t,r){if(t==null)throw new Error(`The '${r}' argument is required.`)}static isNotEmpty(t,r){if(!t||t.match(/^\s*$/))throw new Error(`The '${r}' argument should not be empty.`)}static isIn(t,r,n){if(!(t in r))throw new Error(`Unknown ${n} value: ${t}.`)}}class Ne{static get isBrowser(){return!Ne.isNode&&typeof window=="object"&&typeof window.document=="object"}static get isWebWorker(){return!Ne.isNode&&typeof self=="object"&&"importScripts"in self}static get isReactNative(){return!Ne.isNode&&typeof window=="object"&&typeof window.document>"u"}static get isNode(){return typeof process<"u"&&process.release&&process.release.name==="node"}}function gi(e,t){let r="";return ia(e)?(r=`Binary data of length ${e.byteLength}`,t&&(r+=`. Content: '${dj(e)}'`)):typeof e=="string"&&(r=`String data of length ${e.length}`,t&&(r+=`. Content: '${e}'`)),r}function dj(e){const t=new Uint8Array(e);let r="";return t.forEach(n=>{const a=n<16?"0":"";r+=`0x${a}${n.toString(16)} `}),r.substr(0,r.length-1)}function ia(e){return e&&typeof ArrayBuffer<"u"&&(e instanceof ArrayBuffer||e.constructor&&e.constructor.name==="ArrayBuffer")}async function _x(e,t,r,n,a,i){const l={},[o,c]=as();l[o]=c,e.log(I.Trace,`(${t} transport) sending data. ${gi(a,i.logMessageContent)}.`);const u=ia(a)?"arraybuffer":"text",h=await r.post(n,{content:a,headers:{...l,...i.headers},responseType:u,timeout:i.timeout,withCredentials:i.withCredentials});e.log(I.Trace,`(${t} transport) request complete. Response status: ${h.statusCode}.`)}function hj(e){return e===void 0?new to(I.Information):e===null?fi.instance:e.log!==void 0?e:new to(e)}class fj{constructor(t,r){this._subject=t,this._observer=r}dispose(){const t=this._subject.observers.indexOf(this._observer);t>-1&&this._subject.observers.splice(t,1),this._subject.observers.length===0&&this._subject.cancelCallback&&this._subject.cancelCallback().catch(r=>{})}}class to{constructor(t){this._minLevel=t,this.out=console}log(t,r){if(t>=this._minLevel){const n=`[${new Date().toISOString()}] ${I[t]}: ${r}`;switch(t){case I.Critical:case I.Error:this.out.error(n);break;case I.Warning:this.out.warn(n);break;case I.Information:this.out.info(n);break;default:this.out.log(n);break}}}}function as(){let e="X-SignalR-User-Agent";return Ne.isNode&&(e="User-Agent"),[e,gj(uj,mj(),xj(),pj())]}function gj(e,t,r,n){let a="Microsoft SignalR/";const i=e.split(".");return a+=`${i[0]}.${i[1]}`,a+=` (${e}; `,t&&t!==""?a+=`${t}; `:a+="Unknown OS; ",a+=`${r}`,n?a+=`; ${n}`:a+="; Unknown Runtime Version",a+=")",a}function mj(){if(Ne.isNode)switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}else return""}function pj(){if(Ne.isNode)return process.versions.node}function xj(){return Ne.isNode?"NodeJS":"Browser"}function hc(e){return e.stack?e.stack:e.message?e.message:`${e}`}function yj(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("could not find global")}class vj extends Mo{constructor(t){if(super(),this._logger=t,typeof fetch>"u"||Ne.isNode){const r=typeof __webpack_require__=="function"?__non_webpack_require__:require;this._jar=new(r("tough-cookie")).CookieJar,typeof fetch>"u"?this._fetchType=r("node-fetch"):this._fetchType=fetch,this._fetchType=r("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind(yj());if(typeof AbortController>"u"){const r=typeof __webpack_require__=="function"?__non_webpack_require__:require;this._abortControllerType=r("abort-controller")}else this._abortControllerType=AbortController}async send(t){if(t.abortSignal&&t.abortSignal.aborted)throw new Jt;if(!t.method)throw new Error("No method defined.");if(!t.url)throw new Error("No url defined.");const r=new this._abortControllerType;let n;t.abortSignal&&(t.abortSignal.onabort=()=>{r.abort(),n=new Jt});let a=null;if(t.timeout){const c=t.timeout;a=setTimeout(()=>{r.abort(),this._logger.log(I.Warning,"Timeout from HTTP request."),n=new hh},c)}t.content===""&&(t.content=void 0),t.content&&(t.headers=t.headers||{},ia(t.content)?t.headers["Content-Type"]="application/octet-stream":t.headers["Content-Type"]="text/plain;charset=UTF-8");let i;try{i=await this._fetchType(t.url,{body:t.content,cache:"no-cache",credentials:t.withCredentials===!0?"include":"same-origin",headers:{"X-Requested-With":"XMLHttpRequest",...t.headers},method:t.method,mode:"cors",redirect:"follow",signal:r.signal})}catch(c){throw n||(this._logger.log(I.Warning,`Error from HTTP request. ${c}.`),c)}finally{a&&clearTimeout(a),t.abortSignal&&(t.abortSignal.onabort=null)}if(!i.ok){const c=await vg(i,"text");throw new Gn(c||i.statusText,i.status)}const o=await vg(i,t.responseType);return new Ex(i.status,i.statusText,o)}getCookieString(t){let r="";return Ne.isNode&&this._jar&&this._jar.getCookies(t,(n,a)=>r=a.join("; ")),r}}function vg(e,t){let r;switch(t){case"arraybuffer":r=e.arrayBuffer();break;case"text":r=e.text();break;case"blob":case"document":case"json":throw new Error(`${t} is not supported.`);default:r=e.text();break}return r}class bj extends Mo{constructor(t){super(),this._logger=t}send(t){return t.abortSignal&&t.abortSignal.aborted?Promise.reject(new Jt):t.method?t.url?new Promise((r,n)=>{const a=new XMLHttpRequest;a.open(t.method,t.url,!0),a.withCredentials=t.withCredentials===void 0?!0:t.withCredentials,a.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.content===""&&(t.content=void 0),t.content&&(ia(t.content)?a.setRequestHeader("Content-Type","application/octet-stream"):a.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));const i=t.headers;i&&Object.keys(i).forEach(l=>{a.setRequestHeader(l,i[l])}),t.responseType&&(a.responseType=t.responseType),t.abortSignal&&(t.abortSignal.onabort=()=>{a.abort(),n(new Jt)}),t.timeout&&(a.timeout=t.timeout),a.onload=()=>{t.abortSignal&&(t.abortSignal.onabort=null),a.status>=200&&a.status<300?r(new Ex(a.status,a.statusText,a.response||a.responseText)):n(new Gn(a.response||a.responseText||a.statusText,a.status))},a.onerror=()=>{this._logger.log(I.Warning,`Error from HTTP request. ${a.status}: ${a.statusText}.`),n(new Gn(a.statusText,a.status))},a.ontimeout=()=>{this._logger.log(I.Warning,"Timeout from HTTP request."),n(new hh)},a.send(t.content)}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}}class kj extends Mo{constructor(t){if(super(),typeof fetch<"u"||Ne.isNode)this._httpClient=new vj(t);else if(typeof XMLHttpRequest<"u")this._httpClient=new bj(t);else throw new Error("No usable HttpClient found.")}send(t){return t.abortSignal&&t.abortSignal.aborted?Promise.reject(new Jt):t.method?t.url?this._httpClient.send(t):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(t){return this._httpClient.getCookieString(t)}}class _t{static write(t){return`${t}${_t.RecordSeparator}`}static parse(t){if(t[t.length-1]!==_t.RecordSeparator)throw new Error("Message is incomplete.");const r=t.split(_t.RecordSeparator);return r.pop(),r}}_t.RecordSeparatorCode=30;_t.RecordSeparator=String.fromCharCode(_t.RecordSeparatorCode);class wj{writeHandshakeRequest(t){return _t.write(JSON.stringify(t))}parseHandshakeResponse(t){let r,n;if(ia(t)){const o=new Uint8Array(t),c=o.indexOf(_t.RecordSeparatorCode);if(c===-1)throw new Error("Message is incomplete.");const u=c+1;r=String.fromCharCode.apply(null,Array.prototype.slice.call(o.slice(0,u))),n=o.byteLength>u?o.slice(u).buffer:null}else{const o=t,c=o.indexOf(_t.RecordSeparator);if(c===-1)throw new Error("Message is incomplete.");const u=c+1;r=o.substring(0,u),n=o.length>u?o.substring(u):null}const a=_t.parse(r),i=JSON.parse(a[0]);if(i.type)throw new Error("Expected a handshake response from the server.");return[n,i]}}var J;(function(e){e[e.Invocation=1]="Invocation",e[e.StreamItem=2]="StreamItem",e[e.Completion=3]="Completion",e[e.StreamInvocation=4]="StreamInvocation",e[e.CancelInvocation=5]="CancelInvocation",e[e.Ping=6]="Ping",e[e.Close=7]="Close",e[e.Ack=8]="Ack",e[e.Sequence=9]="Sequence"})(J||(J={}));class jj{constructor(){this.observers=[]}next(t){for(const r of this.observers)r.next(t)}error(t){for(const r of this.observers)r.error&&r.error(t)}complete(){for(const t of this.observers)t.complete&&t.complete()}subscribe(t){return this.observers.push(t),new fj(this,t)}}class Sj{constructor(t,r,n){this._bufferSize=1e5,this._messages=[],this._totalMessageCount=0,this._waitForSequenceMessage=!1,this._nextReceivingSequenceId=1,this._latestReceivedSequenceId=0,this._bufferedByteCount=0,this._reconnectInProgress=!1,this._protocol=t,this._connection=r,this._bufferSize=n}async _send(t){const r=this._protocol.writeMessage(t);let n=Promise.resolve();if(this._isInvocationMessage(t)){this._totalMessageCount++;let a=()=>{},i=()=>{};ia(r)?this._bufferedByteCount+=r.byteLength:this._bufferedByteCount+=r.length,this._bufferedByteCount>=this._bufferSize&&(n=new Promise((l,o)=>{a=l,i=o})),this._messages.push(new Nj(r,this._totalMessageCount,a,i))}try{this._reconnectInProgress||await this._connection.send(r)}catch{this._disconnected()}await n}_ack(t){let r=-1;for(let n=0;n<this._messages.length;n++){const a=this._messages[n];if(a._id<=t.sequenceId)r=n,ia(a._message)?this._bufferedByteCount-=a._message.byteLength:this._bufferedByteCount-=a._message.length,a._resolver();else if(this._bufferedByteCount<this._bufferSize)a._resolver();else break}r!==-1&&(this._messages=this._messages.slice(r+1))}_shouldProcessMessage(t){if(this._waitForSequenceMessage)return t.type!==J.Sequence?!1:(this._waitForSequenceMessage=!1,!0);if(!this._isInvocationMessage(t))return!0;const r=this._nextReceivingSequenceId;return this._nextReceivingSequenceId++,r<=this._latestReceivedSequenceId?(r===this._latestReceivedSequenceId&&this._ackTimer(),!1):(this._latestReceivedSequenceId=r,this._ackTimer(),!0)}_resetSequence(t){if(t.sequenceId>this._nextReceivingSequenceId){this._connection.stop(new Error("Sequence ID greater than amount of messages we've received."));return}this._nextReceivingSequenceId=t.sequenceId}_disconnected(){this._reconnectInProgress=!0,this._waitForSequenceMessage=!0}async _resend(){const t=this._messages.length!==0?this._messages[0]._id:this._totalMessageCount+1;await this._connection.send(this._protocol.writeMessage({type:J.Sequence,sequenceId:t}));const r=this._messages;for(const n of r)await this._connection.send(n._message);this._reconnectInProgress=!1}_dispose(t){t??(t=new Error("Unable to reconnect to server."));for(const r of this._messages)r._rejector(t)}_isInvocationMessage(t){switch(t.type){case J.Invocation:case J.StreamItem:case J.Completion:case J.StreamInvocation:case J.CancelInvocation:return!0;case J.Close:case J.Sequence:case J.Ping:case J.Ack:return!1}}_ackTimer(){this._ackTimerHandle===void 0&&(this._ackTimerHandle=setTimeout(async()=>{try{this._reconnectInProgress||await this._connection.send(this._protocol.writeMessage({type:J.Ack,sequenceId:this._latestReceivedSequenceId}))}catch{}clearTimeout(this._ackTimerHandle),this._ackTimerHandle=void 0},1e3))}}class Nj{constructor(t,r,n,a){this._message=t,this._id=r,this._resolver=n,this._rejector=a}}const Cj=30*1e3,Ej=15*1e3,_j=1e5;var we;(function(e){e.Disconnected="Disconnected",e.Connecting="Connecting",e.Connected="Connected",e.Disconnecting="Disconnecting",e.Reconnecting="Reconnecting"})(we||(we={}));class fh{static create(t,r,n,a,i,l,o){return new fh(t,r,n,a,i,l,o)}constructor(t,r,n,a,i,l,o){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(I.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://learn.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},Oe.isRequired(t,"connection"),Oe.isRequired(r,"logger"),Oe.isRequired(n,"protocol"),this.serverTimeoutInMilliseconds=i??Cj,this.keepAliveIntervalInMilliseconds=l??Ej,this._statefulReconnectBufferSize=o??_j,this._logger=r,this._protocol=n,this.connection=t,this._reconnectPolicy=a,this._handshakeProtocol=new wj,this.connection.onreceive=c=>this._processIncomingData(c),this.connection.onclose=c=>this._connectionClosed(c),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=we.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:J.Ping})}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(t){if(this._connectionState!==we.Disconnected&&this._connectionState!==we.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!t)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=t}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}async _startWithStateTransitions(){if(this._connectionState!==we.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));this._connectionState=we.Connecting,this._logger.log(I.Debug,"Starting HubConnection.");try{await this._startInternal(),Ne.isBrowser&&window.document.addEventListener("freeze",this._freezeEventListener),this._connectionState=we.Connected,this._connectionStarted=!0,this._logger.log(I.Debug,"HubConnection connected successfully.")}catch(t){return this._connectionState=we.Disconnected,this._logger.log(I.Debug,`HubConnection failed to start successfully because of error '${t}'.`),Promise.reject(t)}}async _startInternal(){this._stopDuringStartError=void 0,this._receivedHandshakeResponse=!1;const t=new Promise((r,n)=>{this._handshakeResolver=r,this._handshakeRejecter=n});await this.connection.start(this._protocol.transferFormat);try{let r=this._protocol.version;this.connection.features.reconnect||(r=1);const n={protocol:this._protocol.name,version:r};if(this._logger.log(I.Debug,"Sending handshake request."),await this._sendMessage(this._handshakeProtocol.writeHandshakeRequest(n)),this._logger.log(I.Information,`Using HubProtocol '${this._protocol.name}'.`),this._cleanupTimeout(),this._resetTimeoutPeriod(),this._resetKeepAliveInterval(),await t,this._stopDuringStartError)throw this._stopDuringStartError;(this.connection.features.reconnect||!1)&&(this._messageBuffer=new Sj(this._protocol,this.connection,this._statefulReconnectBufferSize),this.connection.features.disconnected=this._messageBuffer._disconnected.bind(this._messageBuffer),this.connection.features.resend=()=>{if(this._messageBuffer)return this._messageBuffer._resend()}),this.connection.features.inherentKeepAlive||await this._sendMessage(this._cachedPingMessage)}catch(r){throw this._logger.log(I.Debug,`Hub handshake failed with error '${r}' during start(). Stopping HubConnection.`),this._cleanupTimeout(),this._cleanupPingTimer(),await this.connection.stop(r),r}}async stop(){const t=this._startPromise;this.connection.features.reconnect=!1,this._stopPromise=this._stopInternal(),await this._stopPromise;try{await t}catch{}}_stopInternal(t){if(this._connectionState===we.Disconnected)return this._logger.log(I.Debug,`Call to HubConnection.stop(${t}) ignored because it is already in the disconnected state.`),Promise.resolve();if(this._connectionState===we.Disconnecting)return this._logger.log(I.Debug,`Call to HttpConnection.stop(${t}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;const r=this._connectionState;return this._connectionState=we.Disconnecting,this._logger.log(I.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(I.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(r===we.Connected&&this._sendCloseMessage(),this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=t||new Jt("The connection was stopped before the hub handshake could complete."),this.connection.stop(t))}async _sendCloseMessage(){try{await this._sendWithProtocol(this._createCloseMessage())}catch{}}stream(t,...r){const[n,a]=this._replaceStreamingParams(r),i=this._createStreamInvocation(t,r,a);let l;const o=new jj;return o.cancelCallback=()=>{const c=this._createCancelInvocation(i.invocationId);return delete this._callbacks[i.invocationId],l.then(()=>this._sendWithProtocol(c))},this._callbacks[i.invocationId]=(c,u)=>{if(u){o.error(u);return}else c&&(c.type===J.Completion?c.error?o.error(new Error(c.error)):o.complete():o.next(c.item))},l=this._sendWithProtocol(i).catch(c=>{o.error(c),delete this._callbacks[i.invocationId]}),this._launchStreams(n,l),o}_sendMessage(t){return this._resetKeepAliveInterval(),this.connection.send(t)}_sendWithProtocol(t){return this._messageBuffer?this._messageBuffer._send(t):this._sendMessage(this._protocol.writeMessage(t))}send(t,...r){const[n,a]=this._replaceStreamingParams(r),i=this._sendWithProtocol(this._createInvocation(t,r,!0,a));return this._launchStreams(n,i),i}invoke(t,...r){const[n,a]=this._replaceStreamingParams(r),i=this._createInvocation(t,r,!1,a);return new Promise((o,c)=>{this._callbacks[i.invocationId]=(h,d)=>{if(d){c(d);return}else h&&(h.type===J.Completion?h.error?c(new Error(h.error)):o(h.result):c(new Error(`Unexpected message type: ${h.type}`)))};const u=this._sendWithProtocol(i).catch(h=>{c(h),delete this._callbacks[i.invocationId]});this._launchStreams(n,u)})}on(t,r){!t||!r||(t=t.toLowerCase(),this._methods[t]||(this._methods[t]=[]),this._methods[t].indexOf(r)===-1&&this._methods[t].push(r))}off(t,r){if(!t)return;t=t.toLowerCase();const n=this._methods[t];if(n)if(r){const a=n.indexOf(r);a!==-1&&(n.splice(a,1),n.length===0&&delete this._methods[t])}else delete this._methods[t]}onclose(t){t&&this._closedCallbacks.push(t)}onreconnecting(t){t&&this._reconnectingCallbacks.push(t)}onreconnected(t){t&&this._reconnectedCallbacks.push(t)}_processIncomingData(t){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(t=this._processHandshakeResponse(t),this._receivedHandshakeResponse=!0),t){const r=this._protocol.parseMessages(t,this._logger);for(const n of r)if(!(this._messageBuffer&&!this._messageBuffer._shouldProcessMessage(n)))switch(n.type){case J.Invocation:this._invokeClientMethod(n).catch(a=>{this._logger.log(I.Error,`Invoke client method threw error: ${hc(a)}`)});break;case J.StreamItem:case J.Completion:{const a=this._callbacks[n.invocationId];if(a){n.type===J.Completion&&delete this._callbacks[n.invocationId];try{a(n)}catch(i){this._logger.log(I.Error,`Stream callback threw error: ${hc(i)}`)}}break}case J.Ping:break;case J.Close:{this._logger.log(I.Information,"Close message received from server.");const a=n.error?new Error("Server returned an error on close: "+n.error):void 0;n.allowReconnect===!0?this.connection.stop(a):this._stopPromise=this._stopInternal(a);break}case J.Ack:this._messageBuffer&&this._messageBuffer._ack(n);break;case J.Sequence:this._messageBuffer&&this._messageBuffer._resetSequence(n);break;default:this._logger.log(I.Warning,`Invalid message type: ${n.type}.`);break}}this._resetTimeoutPeriod()}_processHandshakeResponse(t){let r,n;try{[n,r]=this._handshakeProtocol.parseHandshakeResponse(t)}catch(a){const i="Error parsing handshake response: "+a;this._logger.log(I.Error,i);const l=new Error(i);throw this._handshakeRejecter(l),l}if(r.error){const a="Server returned handshake error: "+r.error;this._logger.log(I.Error,a);const i=new Error(a);throw this._handshakeRejecter(i),i}else this._logger.log(I.Debug,"Server handshake complete.");return this._handshakeResolver(),n}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=new Date().getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){if((!this.connection.features||!this.connection.features.inherentKeepAlive)&&(this._timeoutHandle=setTimeout(()=>this.serverTimeout(),this.serverTimeoutInMilliseconds),this._pingServerHandle===void 0)){let t=this._nextKeepAlive-new Date().getTime();t<0&&(t=0),this._pingServerHandle=setTimeout(async()=>{if(this._connectionState===we.Connected)try{await this._sendMessage(this._cachedPingMessage)}catch{this._cleanupPingTimer()}},t)}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}async _invokeClientMethod(t){const r=t.target.toLowerCase(),n=this._methods[r];if(!n){this._logger.log(I.Warning,`No client method with the name '${r}' found.`),t.invocationId&&(this._logger.log(I.Warning,`No result given for '${r}' method and invocation ID '${t.invocationId}'.`),await this._sendWithProtocol(this._createCompletionMessage(t.invocationId,"Client didn't provide a result.",null)));return}const a=n.slice(),i=!!t.invocationId;let l,o,c;for(const u of a)try{const h=l;l=await u.apply(this,t.arguments),i&&l&&h&&(this._logger.log(I.Error,`Multiple results provided for '${r}'. Sending error to server.`),c=this._createCompletionMessage(t.invocationId,"Client provided multiple results.",null)),o=void 0}catch(h){o=h,this._logger.log(I.Error,`A callback for the method '${r}' threw error '${h}'.`)}c?await this._sendWithProtocol(c):i?(o?c=this._createCompletionMessage(t.invocationId,`${o}`,null):l!==void 0?c=this._createCompletionMessage(t.invocationId,null,l):(this._logger.log(I.Warning,`No result given for '${r}' method and invocation ID '${t.invocationId}'.`),c=this._createCompletionMessage(t.invocationId,"Client didn't provide a result.",null)),await this._sendWithProtocol(c)):l&&this._logger.log(I.Error,`Result given for '${r}' method but server is not expecting a result.`)}_connectionClosed(t){this._logger.log(I.Debug,`HubConnection.connectionClosed(${t}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||t||new Jt("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(t||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===we.Disconnecting?this._completeClose(t):this._connectionState===we.Connected&&this._reconnectPolicy?this._reconnect(t):this._connectionState===we.Connected&&this._completeClose(t)}_completeClose(t){if(this._connectionStarted){this._connectionState=we.Disconnected,this._connectionStarted=!1,this._messageBuffer&&(this._messageBuffer._dispose(t??new Error("Connection closed.")),this._messageBuffer=void 0),Ne.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach(r=>r.apply(this,[t]))}catch(r){this._logger.log(I.Error,`An onclose callback called with error '${t}' threw error '${r}'.`)}}}async _reconnect(t){const r=Date.now();let n=0,a=t!==void 0?t:new Error("Attempting to reconnect due to a unknown error."),i=this._getNextRetryDelay(n++,0,a);if(i===null){this._logger.log(I.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),this._completeClose(t);return}if(this._connectionState=we.Reconnecting,t?this._logger.log(I.Information,`Connection reconnecting because of error '${t}'.`):this._logger.log(I.Information,"Connection reconnecting."),this._reconnectingCallbacks.length!==0){try{this._reconnectingCallbacks.forEach(l=>l.apply(this,[t]))}catch(l){this._logger.log(I.Error,`An onreconnecting callback called with error '${t}' threw error '${l}'.`)}if(this._connectionState!==we.Reconnecting){this._logger.log(I.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.");return}}for(;i!==null;){if(this._logger.log(I.Information,`Reconnect attempt number ${n} will start in ${i} ms.`),await new Promise(l=>{this._reconnectDelayHandle=setTimeout(l,i)}),this._reconnectDelayHandle=void 0,this._connectionState!==we.Reconnecting){this._logger.log(I.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");return}try{if(await this._startInternal(),this._connectionState=we.Connected,this._logger.log(I.Information,"HubConnection reconnected successfully."),this._reconnectedCallbacks.length!==0)try{this._reconnectedCallbacks.forEach(l=>l.apply(this,[this.connection.connectionId]))}catch(l){this._logger.log(I.Error,`An onreconnected callback called with connectionId '${this.connection.connectionId}; threw error '${l}'.`)}return}catch(l){if(this._logger.log(I.Information,`Reconnect attempt failed because of error '${l}'.`),this._connectionState!==we.Reconnecting){this._logger.log(I.Debug,`Connection moved to the '${this._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),this._connectionState===we.Disconnecting&&this._completeClose();return}a=l instanceof Error?l:new Error(l.toString()),i=this._getNextRetryDelay(n++,Date.now()-r,a)}}this._logger.log(I.Information,`Reconnect retries have been exhausted after ${Date.now()-r} ms and ${n} failed attempts. Connection disconnecting.`),this._completeClose()}_getNextRetryDelay(t,r,n){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:r,previousRetryCount:t,retryReason:n})}catch(a){return this._logger.log(I.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${t}, ${r}) threw error '${a}'.`),null}}_cancelCallbacksWithError(t){const r=this._callbacks;this._callbacks={},Object.keys(r).forEach(n=>{const a=r[n];try{a(null,t)}catch(i){this._logger.log(I.Error,`Stream 'error' callback called with '${t}' threw error: ${hc(i)}`)}})}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(t,r,n,a){if(n)return a.length!==0?{target:t,arguments:r,streamIds:a,type:J.Invocation}:{target:t,arguments:r,type:J.Invocation};{const i=this._invocationId;return this._invocationId++,a.length!==0?{target:t,arguments:r,invocationId:i.toString(),streamIds:a,type:J.Invocation}:{target:t,arguments:r,invocationId:i.toString(),type:J.Invocation}}}_launchStreams(t,r){if(t.length!==0){r||(r=Promise.resolve());for(const n in t)t[n].subscribe({complete:()=>{r=r.then(()=>this._sendWithProtocol(this._createCompletionMessage(n)))},error:a=>{let i;a instanceof Error?i=a.message:a&&a.toString?i=a.toString():i="Unknown error",r=r.then(()=>this._sendWithProtocol(this._createCompletionMessage(n,i)))},next:a=>{r=r.then(()=>this._sendWithProtocol(this._createStreamItemMessage(n,a)))}})}}_replaceStreamingParams(t){const r=[],n=[];for(let a=0;a<t.length;a++){const i=t[a];if(this._isObservable(i)){const l=this._invocationId;this._invocationId++,r[l]=i,n.push(l.toString()),t.splice(a,1)}}return[r,n]}_isObservable(t){return t&&t.subscribe&&typeof t.subscribe=="function"}_createStreamInvocation(t,r,n){const a=this._invocationId;return this._invocationId++,n.length!==0?{target:t,arguments:r,invocationId:a.toString(),streamIds:n,type:J.StreamInvocation}:{target:t,arguments:r,invocationId:a.toString(),type:J.StreamInvocation}}_createCancelInvocation(t){return{invocationId:t,type:J.CancelInvocation}}_createStreamItemMessage(t,r){return{invocationId:t,item:r,type:J.StreamItem}}_createCompletionMessage(t,r,n){return r?{error:r,invocationId:t,type:J.Completion}:{invocationId:t,result:n,type:J.Completion}}_createCloseMessage(){return{type:J.Close}}}const Tj=[0,2e3,1e4,3e4,null];class bg{constructor(t){this._retryDelays=t!==void 0?[...t,null]:Tj}nextRetryDelayInMilliseconds(t){return this._retryDelays[t.previousRetryCount]}}class Xn{}Xn.Authorization="Authorization";Xn.Cookie="Cookie";class Pj extends Mo{constructor(t,r){super(),this._innerClient=t,this._accessTokenFactory=r}async send(t){let r=!0;this._accessTokenFactory&&(!this._accessToken||t.url&&t.url.indexOf("/negotiate?")>0)&&(r=!1,this._accessToken=await this._accessTokenFactory()),this._setAuthorizationHeader(t);const n=await this._innerClient.send(t);return r&&n.statusCode===401&&this._accessTokenFactory?(this._accessToken=await this._accessTokenFactory(),this._setAuthorizationHeader(t),await this._innerClient.send(t)):n}_setAuthorizationHeader(t){t.headers||(t.headers={}),this._accessToken?t.headers[Xn.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&t.headers[Xn.Authorization]&&delete t.headers[Xn.Authorization]}getCookieString(t){return this._innerClient.getCookieString(t)}}var ze;(function(e){e[e.None=0]="None",e[e.WebSockets=1]="WebSockets",e[e.ServerSentEvents=2]="ServerSentEvents",e[e.LongPolling=4]="LongPolling"})(ze||(ze={}));var Ze;(function(e){e[e.Text=1]="Text",e[e.Binary=2]="Binary"})(Ze||(Ze={}));let Ij=class{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}};class kg{get pollAborted(){return this._pollAbort.aborted}constructor(t,r,n){this._httpClient=t,this._logger=r,this._pollAbort=new Ij,this._options=n,this._running=!1,this.onreceive=null,this.onclose=null}async connect(t,r){if(Oe.isRequired(t,"url"),Oe.isRequired(r,"transferFormat"),Oe.isIn(r,Ze,"transferFormat"),this._url=t,this._logger.log(I.Trace,"(LongPolling transport) Connecting."),r===Ze.Binary&&typeof XMLHttpRequest<"u"&&typeof new XMLHttpRequest().responseType!="string")throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");const[n,a]=as(),i={[n]:a,...this._options.headers},l={abortSignal:this._pollAbort.signal,headers:i,timeout:1e5,withCredentials:this._options.withCredentials};r===Ze.Binary&&(l.responseType="arraybuffer");const o=`${t}&_=${Date.now()}`;this._logger.log(I.Trace,`(LongPolling transport) polling: ${o}.`);const c=await this._httpClient.get(o,l);c.statusCode!==200?(this._logger.log(I.Error,`(LongPolling transport) Unexpected response code: ${c.statusCode}.`),this._closeError=new Gn(c.statusText||"",c.statusCode),this._running=!1):this._running=!0,this._receiving=this._poll(this._url,l)}async _poll(t,r){try{for(;this._running;)try{const n=`${t}&_=${Date.now()}`;this._logger.log(I.Trace,`(LongPolling transport) polling: ${n}.`);const a=await this._httpClient.get(n,r);a.statusCode===204?(this._logger.log(I.Information,"(LongPolling transport) Poll terminated by server."),this._running=!1):a.statusCode!==200?(this._logger.log(I.Error,`(LongPolling transport) Unexpected response code: ${a.statusCode}.`),this._closeError=new Gn(a.statusText||"",a.statusCode),this._running=!1):a.content?(this._logger.log(I.Trace,`(LongPolling transport) data received. ${gi(a.content,this._options.logMessageContent)}.`),this.onreceive&&this.onreceive(a.content)):this._logger.log(I.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(n){this._running?n instanceof hh?this._logger.log(I.Trace,"(LongPolling transport) Poll timed out, reissuing."):(this._closeError=n,this._running=!1):this._logger.log(I.Trace,`(LongPolling transport) Poll errored after shutdown: ${n.message}`)}}finally{this._logger.log(I.Trace,"(LongPolling transport) Polling complete."),this.pollAborted||this._raiseOnClose()}}async send(t){return this._running?_x(this._logger,"LongPolling",this._httpClient,this._url,t,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}async stop(){this._logger.log(I.Trace,"(LongPolling transport) Stopping polling."),this._running=!1,this._pollAbort.abort();try{await this._receiving,this._logger.log(I.Trace,`(LongPolling transport) sending DELETE request to ${this._url}.`);const t={},[r,n]=as();t[r]=n;const a={headers:{...t,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials};let i;try{await this._httpClient.delete(this._url,a)}catch(l){i=l}i?i instanceof Gn&&(i.statusCode===404?this._logger.log(I.Trace,"(LongPolling transport) A 404 response was returned from sending a DELETE request."):this._logger.log(I.Trace,`(LongPolling transport) Error sending a DELETE request: ${i}`)):this._logger.log(I.Trace,"(LongPolling transport) DELETE request accepted.")}finally{this._logger.log(I.Trace,"(LongPolling transport) Stop finished."),this._raiseOnClose()}}_raiseOnClose(){if(this.onclose){let t="(LongPolling transport) Firing onclose event.";this._closeError&&(t+=" Error: "+this._closeError),this._logger.log(I.Trace,t),this.onclose(this._closeError)}}}class Mj{constructor(t,r,n,a){this._httpClient=t,this._accessToken=r,this._logger=n,this._options=a,this.onreceive=null,this.onclose=null}async connect(t,r){return Oe.isRequired(t,"url"),Oe.isRequired(r,"transferFormat"),Oe.isIn(r,Ze,"transferFormat"),this._logger.log(I.Trace,"(SSE transport) Connecting."),this._url=t,this._accessToken&&(t+=(t.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(this._accessToken)}`),new Promise((n,a)=>{let i=!1;if(r!==Ze.Text){a(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"));return}let l;if(Ne.isBrowser||Ne.isWebWorker)l=new this._options.EventSource(t,{withCredentials:this._options.withCredentials});else{const o=this._httpClient.getCookieString(t),c={};c.Cookie=o;const[u,h]=as();c[u]=h,l=new this._options.EventSource(t,{withCredentials:this._options.withCredentials,headers:{...c,...this._options.headers}})}try{l.onmessage=o=>{if(this.onreceive)try{this._logger.log(I.Trace,`(SSE transport) data received. ${gi(o.data,this._options.logMessageContent)}.`),this.onreceive(o.data)}catch(c){this._close(c);return}},l.onerror=o=>{i?this._close():a(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},l.onopen=()=>{this._logger.log(I.Information,`SSE connected to ${this._url}`),this._eventSource=l,i=!0,n()}}catch(o){a(o);return}})}async send(t){return this._eventSource?_x(this._logger,"SSE",this._httpClient,this._url,t,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}stop(){return this._close(),Promise.resolve()}_close(t){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(t))}}class Rj{constructor(t,r,n,a,i,l){this._logger=n,this._accessTokenFactory=r,this._logMessageContent=a,this._webSocketConstructor=i,this._httpClient=t,this.onreceive=null,this.onclose=null,this._headers=l}async connect(t,r){Oe.isRequired(t,"url"),Oe.isRequired(r,"transferFormat"),Oe.isIn(r,Ze,"transferFormat"),this._logger.log(I.Trace,"(WebSockets transport) Connecting.");let n;return this._accessTokenFactory&&(n=await this._accessTokenFactory()),new Promise((a,i)=>{t=t.replace(/^http/,"ws");let l;const o=this._httpClient.getCookieString(t);let c=!1;if(Ne.isNode||Ne.isReactNative){const u={},[h,d]=as();u[h]=d,n&&(u[Xn.Authorization]=`Bearer ${n}`),o&&(u[Xn.Cookie]=o),l=new this._webSocketConstructor(t,void 0,{headers:{...u,...this._headers}})}else n&&(t+=(t.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(n)}`);l||(l=new this._webSocketConstructor(t)),r===Ze.Binary&&(l.binaryType="arraybuffer"),l.onopen=u=>{this._logger.log(I.Information,`WebSocket connected to ${t}.`),this._webSocket=l,c=!0,a()},l.onerror=u=>{let h=null;typeof ErrorEvent<"u"&&u instanceof ErrorEvent?h=u.error:h="There was an error with the transport",this._logger.log(I.Information,`(WebSockets transport) ${h}.`)},l.onmessage=u=>{if(this._logger.log(I.Trace,`(WebSockets transport) data received. ${gi(u.data,this._logMessageContent)}.`),this.onreceive)try{this.onreceive(u.data)}catch(h){this._close(h);return}},l.onclose=u=>{if(c)this._close(u);else{let h=null;typeof ErrorEvent<"u"&&u instanceof ErrorEvent?h=u.error:h="WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",i(new Error(h))}}})}send(t){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(I.Trace,`(WebSockets transport) sending data. ${gi(t,this._logMessageContent)}.`),this._webSocket.send(t),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(t){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(I.Trace,"(WebSockets transport) socket closed."),this.onclose&&(this._isCloseEvent(t)&&(t.wasClean===!1||t.code!==1e3)?this.onclose(new Error(`WebSocket closed with status code: ${t.code} (${t.reason||"no reason given"}).`)):t instanceof Error?this.onclose(t):this.onclose())}_isCloseEvent(t){return t&&typeof t.wasClean=="boolean"&&typeof t.code=="number"}}const wg=100;class Dj{constructor(t,r={}){if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,Oe.isRequired(t,"url"),this._logger=hj(r.logger),this.baseUrl=this._resolveUrl(t),r=r||{},r.logMessageContent=r.logMessageContent===void 0?!1:r.logMessageContent,typeof r.withCredentials=="boolean"||r.withCredentials===void 0)r.withCredentials=r.withCredentials===void 0?!0:r.withCredentials;else throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");r.timeout=r.timeout===void 0?100*1e3:r.timeout;let n=null,a=null;if(Ne.isNode&&typeof require<"u"){const i=typeof __webpack_require__=="function"?__non_webpack_require__:require;n=i("ws"),a=i("eventsource")}!Ne.isNode&&typeof WebSocket<"u"&&!r.WebSocket?r.WebSocket=WebSocket:Ne.isNode&&!r.WebSocket&&n&&(r.WebSocket=n),!Ne.isNode&&typeof EventSource<"u"&&!r.EventSource?r.EventSource=EventSource:Ne.isNode&&!r.EventSource&&typeof a<"u"&&(r.EventSource=a),this._httpClient=new Pj(r.httpClient||new kj(this._logger),r.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=r,this.onreceive=null,this.onclose=null}async start(t){if(t=t||Ze.Binary,Oe.isIn(t,Ze,"transferFormat"),this._logger.log(I.Debug,`Starting connection with transfer format '${Ze[t]}'.`),this._connectionState!=="Disconnected")return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(this._connectionState="Connecting",this._startInternalPromise=this._startInternal(t),await this._startInternalPromise,this._connectionState==="Disconnecting"){const r="Failed to start the HttpConnection before stop() was called.";return this._logger.log(I.Error,r),await this._stopPromise,Promise.reject(new Jt(r))}else if(this._connectionState!=="Connected"){const r="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return this._logger.log(I.Error,r),Promise.reject(new Jt(r))}this._connectionStarted=!0}send(t){return this._connectionState!=="Connected"?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new gh(this.transport)),this._sendQueue.send(t))}async stop(t){if(this._connectionState==="Disconnected")return this._logger.log(I.Debug,`Call to HttpConnection.stop(${t}) ignored because the connection is already in the disconnected state.`),Promise.resolve();if(this._connectionState==="Disconnecting")return this._logger.log(I.Debug,`Call to HttpConnection.stop(${t}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;this._connectionState="Disconnecting",this._stopPromise=new Promise(r=>{this._stopPromiseResolver=r}),await this._stopInternal(t),await this._stopPromise}async _stopInternal(t){this._stopError=t;try{await this._startInternalPromise}catch{}if(this.transport){try{await this.transport.stop()}catch(r){this._logger.log(I.Error,`HttpConnection.transport.stop() threw error '${r}'.`),this._stopConnection()}this.transport=void 0}else this._logger.log(I.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")}async _startInternal(t){let r=this.baseUrl;this._accessTokenFactory=this._options.accessTokenFactory,this._httpClient._accessTokenFactory=this._accessTokenFactory;try{if(this._options.skipNegotiation)if(this._options.transport===ze.WebSockets)this.transport=this._constructTransport(ze.WebSockets),await this._startTransport(r,t);else throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");else{let n=null,a=0;do{if(n=await this._getNegotiationResponse(r),this._connectionState==="Disconnecting"||this._connectionState==="Disconnected")throw new Jt("The connection was stopped during negotiation.");if(n.error)throw new Error(n.error);if(n.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(n.url&&(r=n.url),n.accessToken){const i=n.accessToken;this._accessTokenFactory=()=>i,this._httpClient._accessToken=i,this._httpClient._accessTokenFactory=void 0}a++}while(n.url&&a<wg);if(a===wg&&n.url)throw new Error("Negotiate redirection limit exceeded.");await this._createTransport(r,this._options.transport,n,t)}this.transport instanceof kg&&(this.features.inherentKeepAlive=!0),this._connectionState==="Connecting"&&(this._logger.log(I.Debug,"The HttpConnection connected successfully."),this._connectionState="Connected")}catch(n){return this._logger.log(I.Error,"Failed to start the connection: "+n),this._connectionState="Disconnected",this.transport=void 0,this._stopPromiseResolver(),Promise.reject(n)}}async _getNegotiationResponse(t){const r={},[n,a]=as();r[n]=a;const i=this._resolveNegotiateUrl(t);this._logger.log(I.Debug,`Sending negotiation request: ${i}.`);try{const l=await this._httpClient.post(i,{content:"",headers:{...r,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials});if(l.statusCode!==200)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${l.statusCode}'`));const o=JSON.parse(l.content);return(!o.negotiateVersion||o.negotiateVersion<1)&&(o.connectionToken=o.connectionId),o.useStatefulReconnect&&this._options._useStatefulReconnect!==!0?Promise.reject(new yg("Client didn't negotiate Stateful Reconnect but the server did.")):o}catch(l){let o="Failed to complete negotiation with the server: "+l;return l instanceof Gn&&l.statusCode===404&&(o=o+" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),this._logger.log(I.Error,o),Promise.reject(new yg(o))}}_createConnectUrl(t,r){return r?t+(t.indexOf("?")===-1?"?":"&")+`id=${r}`:t}async _createTransport(t,r,n,a){let i=this._createConnectUrl(t,n.connectionToken);if(this._isITransport(r)){this._logger.log(I.Debug,"Connection was provided an instance of ITransport, using that directly."),this.transport=r,await this._startTransport(i,a),this.connectionId=n.connectionId;return}const l=[],o=n.availableTransports||[];let c=n;for(const u of o){const h=this._resolveTransportOrError(u,r,a,(c==null?void 0:c.useStatefulReconnect)===!0);if(h instanceof Error)l.push(`${u.transport} failed:`),l.push(h);else if(this._isITransport(h)){if(this.transport=h,!c){try{c=await this._getNegotiationResponse(t)}catch(d){return Promise.reject(d)}i=this._createConnectUrl(t,c.connectionToken)}try{await this._startTransport(i,a),this.connectionId=c.connectionId;return}catch(d){if(this._logger.log(I.Error,`Failed to start the transport '${u.transport}': ${d}`),c=void 0,l.push(new oj(`${u.transport} failed: ${d}`,ze[u.transport])),this._connectionState!=="Connecting"){const g="Failed to select transport before stop() was called.";return this._logger.log(I.Debug,g),Promise.reject(new Jt(g))}}}}return l.length>0?Promise.reject(new cj(`Unable to connect to the server with any of the available transports. ${l.join(" ")}`,l)):Promise.reject(new Error("None of the transports supported by the client are supported by the server."))}_constructTransport(t){switch(t){case ze.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new Rj(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case ze.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new Mj(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case ze.LongPolling:return new kg(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${t}.`)}}_startTransport(t,r){return this.transport.onreceive=this.onreceive,this.features.reconnect?this.transport.onclose=async n=>{let a=!1;if(this.features.reconnect)try{this.features.disconnected(),await this.transport.connect(t,r),await this.features.resend()}catch{a=!0}else{this._stopConnection(n);return}a&&this._stopConnection(n)}:this.transport.onclose=n=>this._stopConnection(n),this.transport.connect(t,r)}_resolveTransportOrError(t,r,n,a){const i=ze[t.transport];if(i==null)return this._logger.log(I.Debug,`Skipping transport '${t.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${t.transport}' because it is not supported by this client.`);if(Lj(r,i))if(t.transferFormats.map(o=>Ze[o]).indexOf(n)>=0){if(i===ze.WebSockets&&!this._options.WebSocket||i===ze.ServerSentEvents&&!this._options.EventSource)return this._logger.log(I.Debug,`Skipping transport '${ze[i]}' because it is not supported in your environment.'`),new ij(`'${ze[i]}' is not supported in your environment.`,i);this._logger.log(I.Debug,`Selecting transport '${ze[i]}'.`);try{return this.features.reconnect=i===ze.WebSockets?a:void 0,this._constructTransport(i)}catch(o){return o}}else return this._logger.log(I.Debug,`Skipping transport '${ze[i]}' because it does not support the requested transfer format '${Ze[n]}'.`),new Error(`'${ze[i]}' does not support ${Ze[n]}.`);else return this._logger.log(I.Debug,`Skipping transport '${ze[i]}' because it was disabled by the client.`),new lj(`'${ze[i]}' is disabled by the client.`,i)}_isITransport(t){return t&&typeof t=="object"&&"connect"in t}_stopConnection(t){if(this._logger.log(I.Debug,`HttpConnection.stopConnection(${t}) called while in state ${this._connectionState}.`),this.transport=void 0,t=this._stopError||t,this._stopError=void 0,this._connectionState==="Disconnected"){this._logger.log(I.Debug,`Call to HttpConnection.stopConnection(${t}) was ignored because the connection is already in the disconnected state.`);return}if(this._connectionState==="Connecting")throw this._logger.log(I.Warning,`Call to HttpConnection.stopConnection(${t}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${t}) was called while the connection is still in the connecting state.`);if(this._connectionState==="Disconnecting"&&this._stopPromiseResolver(),t?this._logger.log(I.Error,`Connection disconnected with error '${t}'.`):this._logger.log(I.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch(r=>{this._logger.log(I.Error,`TransportSendQueue.stop() threw error '${r}'.`)}),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(t)}catch(r){this._logger.log(I.Error,`HttpConnection.onclose(${t}) threw error '${r}'.`)}}}_resolveUrl(t){if(t.lastIndexOf("https://",0)===0||t.lastIndexOf("http://",0)===0)return t;if(!Ne.isBrowser)throw new Error(`Cannot resolve '${t}'.`);const r=window.document.createElement("a");return r.href=t,this._logger.log(I.Information,`Normalizing '${t}' to '${r.href}'.`),r.href}_resolveNegotiateUrl(t){const r=new URL(t);r.pathname.endsWith("/")?r.pathname+="negotiate":r.pathname+="/negotiate";const n=new URLSearchParams(r.searchParams);return n.has("negotiateVersion")||n.append("negotiateVersion",this._negotiateVersion.toString()),n.has("useStatefulReconnect")?n.get("useStatefulReconnect")==="true"&&(this._options._useStatefulReconnect=!0):this._options._useStatefulReconnect===!0&&n.append("useStatefulReconnect","true"),r.search=n.toString(),r.toString()}}function Lj(e,t){return!e||(t&e)!==0}class gh{constructor(t){this._transport=t,this._buffer=[],this._executing=!0,this._sendBufferedData=new el,this._transportResult=new el,this._sendLoopPromise=this._sendLoop()}send(t){return this._bufferData(t),this._transportResult||(this._transportResult=new el),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(t){if(this._buffer.length&&typeof this._buffer[0]!=typeof t)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof t}`);this._buffer.push(t),this._sendBufferedData.resolve()}async _sendLoop(){for(;;){if(await this._sendBufferedData.promise,!this._executing){this._transportResult&&this._transportResult.reject("Connection stopped.");break}this._sendBufferedData=new el;const t=this._transportResult;this._transportResult=void 0;const r=typeof this._buffer[0]=="string"?this._buffer.join(""):gh._concatBuffers(this._buffer);this._buffer.length=0;try{await this._transport.send(r),t.resolve()}catch(n){t.reject(n)}}}static _concatBuffers(t){const r=t.map(i=>i.byteLength).reduce((i,l)=>i+l),n=new Uint8Array(r);let a=0;for(const i of t)n.set(new Uint8Array(i),a),a+=i.byteLength;return n.buffer}}class el{constructor(){this.promise=new Promise((t,r)=>[this._resolver,this._rejecter]=[t,r])}resolve(){this._resolver()}reject(t){this._rejecter(t)}}const Oj="json";class Aj{constructor(){this.name=Oj,this.version=2,this.transferFormat=Ze.Text}parseMessages(t,r){if(typeof t!="string")throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!t)return[];r===null&&(r=fi.instance);const n=_t.parse(t),a=[];for(const i of n){const l=JSON.parse(i);if(typeof l.type!="number")throw new Error("Invalid payload.");switch(l.type){case J.Invocation:this._isInvocationMessage(l);break;case J.StreamItem:this._isStreamItemMessage(l);break;case J.Completion:this._isCompletionMessage(l);break;case J.Ping:break;case J.Close:break;case J.Ack:this._isAckMessage(l);break;case J.Sequence:this._isSequenceMessage(l);break;default:r.log(I.Information,"Unknown message type '"+l.type+"' ignored.");continue}a.push(l)}return a}writeMessage(t){return _t.write(JSON.stringify(t))}_isInvocationMessage(t){this._assertNotEmptyString(t.target,"Invalid payload for Invocation message."),t.invocationId!==void 0&&this._assertNotEmptyString(t.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(t){if(this._assertNotEmptyString(t.invocationId,"Invalid payload for StreamItem message."),t.item===void 0)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(t){if(t.result&&t.error)throw new Error("Invalid payload for Completion message.");!t.result&&t.error&&this._assertNotEmptyString(t.error,"Invalid payload for Completion message."),this._assertNotEmptyString(t.invocationId,"Invalid payload for Completion message.")}_isAckMessage(t){if(typeof t.sequenceId!="number")throw new Error("Invalid SequenceId for Ack message.")}_isSequenceMessage(t){if(typeof t.sequenceId!="number")throw new Error("Invalid SequenceId for Sequence message.")}_assertNotEmptyString(t,r){if(typeof t!="string"||t==="")throw new Error(r)}}const Fj={trace:I.Trace,debug:I.Debug,info:I.Information,information:I.Information,warn:I.Warning,warning:I.Warning,error:I.Error,critical:I.Critical,none:I.None};function zj(e){const t=Fj[e.toLowerCase()];if(typeof t<"u")return t;throw new Error(`Unknown log level: ${e}`)}class Uj{configureLogging(t){if(Oe.isRequired(t,"logging"),$j(t))this.logger=t;else if(typeof t=="string"){const r=zj(t);this.logger=new to(r)}else this.logger=new to(t);return this}withUrl(t,r){return Oe.isRequired(t,"url"),Oe.isNotEmpty(t,"url"),this.url=t,typeof r=="object"?this.httpConnectionOptions={...this.httpConnectionOptions,...r}:this.httpConnectionOptions={...this.httpConnectionOptions,transport:r},this}withHubProtocol(t){return Oe.isRequired(t,"protocol"),this.protocol=t,this}withAutomaticReconnect(t){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return t?Array.isArray(t)?this.reconnectPolicy=new bg(t):this.reconnectPolicy=t:this.reconnectPolicy=new bg,this}withServerTimeout(t){return Oe.isRequired(t,"milliseconds"),this._serverTimeoutInMilliseconds=t,this}withKeepAliveInterval(t){return Oe.isRequired(t,"milliseconds"),this._keepAliveIntervalInMilliseconds=t,this}withStatefulReconnect(t){return this.httpConnectionOptions===void 0&&(this.httpConnectionOptions={}),this.httpConnectionOptions._useStatefulReconnect=!0,this._statefulReconnectBufferSize=t==null?void 0:t.bufferSize,this}build(){const t=this.httpConnectionOptions||{};if(t.logger===void 0&&(t.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");const r=new Dj(this.url,t);return fh.create(r,this.logger||fi.instance,this.protocol||new Aj,this.reconnectPolicy,this._serverTimeoutInMilliseconds,this._keepAliveIntervalInMilliseconds,this._statefulReconnectBufferSize)}}function $j(e){return e.log!==void 0}class Bj{constructor(){Oh(this,"connection",null)}async start(){const t=bn.getToken()||"",r=`${J1}/${Z1}`;console.log("[SignalR] starting, hubUrl =",r,"tokenPresent =",!!t),this.connection=new Uj().withUrl(r,{accessTokenFactory:()=>t}).withAutomaticReconnect().configureLogging(I.Information).build(),this.connection.on("connected",()=>{console.log("[SignalR] server acknowledged connection")});try{await this.connection.start(),console.log("[SignalR] connected")}catch(n){throw console.warn("[SignalR] connection failed",n),n}}stop(){return this.connection?this.connection.stop():Promise.resolve()}on(t,r){var n;console.log("[SignalR] register handler for",t),(n=this.connection)==null||n.on(t,r)}onReconnected(t){var r;(r=this.connection)==null||r.onreconnected(t)}onReconnecting(t){var r;(r=this.connection)==null||r.onreconnecting(()=>t())}onClose(t){var r;(r=this.connection)==null||r.onclose(()=>t())}getConnectionState(){var t;return((t=this.connection)==null?void 0:t.state)||"Disconnected"}}function kt(){const[e,t]=w.useState(null),[r,n]=w.useState(!0);w.useEffect(()=>{t(bn.getToken()),n(!1)},[]);const a=w.useCallback(async(l,o)=>{const c=await bn.login(l,o);return t(c.accessToken),c},[]),i=w.useCallback(()=>{bn.logout(),t(null)},[]);return{token:e,loading:r,login:a,logout:i,isAuthenticated:!!e}}const Tx=w.createContext({hub:null,isConnected:!1});function Hj({children:e}){const{token:t,loading:r}=kt(),[n]=w.useState(()=>new Bj),[a,i]=w.useState(!1);return w.useEffect(()=>{if(r||!t){i(!1);return}let l=!0;(async()=>{try{await n.start(),l&&i(!0)}catch(u){console.warn("[SignalR] Connection failed",u),l&&i(!1)}})(),n.onReconnected(()=>{l&&(console.log("[SignalR] Reconnected"),i(!0))}),n.onReconnecting(()=>{l&&(console.log("[SignalR] Reconnecting..."),i(!1))}),n.onClose(()=>{l&&(console.log("[SignalR] Connection closed"),i(!1))});const c=setInterval(()=>{if(l){const u=n.getConnectionState();i(u==="Connected")}},5e3);return()=>{l=!1,clearInterval(c),n.stop().catch(()=>{})}},[t,r,n]),s.jsx(Tx.Provider,{value:{hub:n,isConnected:a},children:e})}function _i(){return w.useContext(Tx)}function Ti(){const{isConnected:e}=_i();return s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:`h-2 w-2 rounded-full ${e?"bg-green-500 animate-pulse":"bg-gray-400 dark:bg-gray-600"}`}),s.jsx("span",{className:`text-sm font-medium ${e?"text-green-600 dark:text-green-400":"text-gray-500 dark:text-gray-400"}`,children:e?"Connected":"Connection Lost"})]})}async function Me(e,t){const r=bn.getToken(),n={"Content-Type":"application/json",...(t==null?void 0:t.headers)||{}};r&&(n.Authorization=`Bearer ${r}`);const a=await fetch(`${sr}${e}`,{...t,headers:n});if(a.status===401)throw bn.logout(),window.location.href="/login",new Error("Unauthorized - redirecting to login");if(!a.ok)throw new Error(`API ${a.status}: ${await a.text()}`);return a.json()}const Ve={getDashboardConsolidated:(e="24h")=>Me(`/dashboarddata/consolidated?timeRange=${e}`),getRecentSecurityEvents:(e=8)=>Me(`/security-events?limit=${e}&sort=timestamp&order=desc`),getSystemStatus:()=>Me("/system-status"),getMalwareStatus:()=>Me("/malware-rules/status").catch(()=>null),getTimeline:(e,t,r)=>Me(`/timeline?granularity=${encodeURIComponent(e)}&from=${encodeURIComponent(t)}&to=${encodeURIComponent(r)}`),getTimelineStats:(e,t)=>Me(`/timeline/stats?startTime=${encodeURIComponent(e)}&endTime=${encodeURIComponent(t)}`),getMitreTechniques:(e={})=>{const t=new URLSearchParams;return e.page&&t.append("page",e.page.toString()),e.perPage&&t.append("perPage",e.perPage.toString()),e.search&&t.append("search",e.search),e.tactic&&t.append("tactic",e.tactic),e.platform&&t.append("platform",e.platform),e.sort&&t.append("sort",e.sort),e.order&&t.append("order",e.order),Me(`/mitre/techniques?${t.toString()}`)},getMitreStatistics:()=>Me("/mitre/statistics"),importMitreTechniques:()=>Me("/mitre/import",{method:"POST"}),getMalwareRules:(e={})=>{const t=new URLSearchParams;return e.page&&t.append("page",e.page.toString()),e.perPage&&t.append("perPage",e.perPage.toString()),e.search&&t.append("q",e.search),e.category&&t.append("category",e.category),e.threatLevel&&t.append("threatLevel",e.threatLevel),e.isValid!==void 0&&t.append("isValid",e.isValid.toString()),e.isEnabled!==void 0&&t.append("isEnabled",e.isEnabled.toString()),Me(`/malware-rules?${t.toString()}`)},getMalwareStatistics:()=>Me("/malware-rules/statistics"),toggleMalwareRule:(e,t)=>Me(`/malware-rules/${e}/toggle`,{method:"POST",body:JSON.stringify({isEnabled:t})}),deleteMalwareRule:e=>Me(`/malware-rules/${e}`,{method:"DELETE"}),importMalwareRules:e=>Me("/malware-rules/import",{method:"POST",body:JSON.stringify(e)}),getThreatScans:(e={})=>{const t=new URLSearchParams;return e.page&&t.append("page",e.page.toString()),e.perPage&&t.append("perPage",e.perPage.toString()),e.sort&&t.append("sort",e.sort),e.order&&t.append("order",e.order),Me(`/threat-scanner?${t.toString()}`)},getScanProgress:()=>Me("/threat-scanner/progress"),startQuickScan:()=>Me("/threat-scanner/quick-scan?async=true",{method:"POST"}),startFullScan:()=>Me("/threat-scanner/full-scan?async=true",{method:"POST"}),cancelScan:()=>Me("/threat-scanner/cancel",{method:"POST"}),getLastScanResult:()=>Me("/threat-scanner/last-result")};function qj(){const{token:e,loading:t}=kt(),r=ct(),n=Ht(),{hub:a}=_i();w.useEffect(()=>{!t&&!e&&r("/login")},[e,t,r]);const i=Fe({queryKey:["dashboard","consolidated","24h"],queryFn:()=>Ve.getDashboardConsolidated("24h"),refetchInterval:3e4,enabled:!t&&!!e});w.useEffect(()=>{a&&(a.on("DashboardUpdate",o=>{n.setQueryData(["dashboard","consolidated","24h"],o)}),a.on("SecurityEvent",()=>{n.invalidateQueries({queryKey:["security-events"]})}),a.on("SystemStatusUpdate",()=>{n.invalidateQueries({queryKey:["system-status"]})}))},[a,n]);const l=w.useMemo(()=>{const o=i.data||{},c=o.data&&typeof o.data=="object"?o.data:o,u=c.securityEvents||{},h=u.totalEvents??0,d=Array.isArray(u.recentEvents)?u.recentEvents:[],g=u.riskLevelCounts||{},f=g.CRITICAL??g.critical??0,y=d.filter(O=>{const q=(O.status||"").toUpperCase();return q==="OPEN"||q==="INVESTIGATING"}).length,v=d.length??0,S=h,m=c.malware||c.yara||{},p=m.enabledRules??0,x=m.totalRules??0,b=m.recentMatches??0,j=c.threatScanner||{},C=j.totalScans??0,T=j.lastScanResult??"N/A",D=j.lastScanStatus??"unknown",U=c.systemStatus||{};let R="UNKNOWN";const P=U.healthyComponents??0,A=U.totalComponents??0;typeof U.totalComponents=="number"&&typeof U.healthyComponents=="number"&&(R=U.totalComponents>0&&U.healthyComponents===U.totalComponents?"OPERATIONAL":"DEGRADED");const Q=Object.keys(g).map(O=>({severity:O,count:g[O]})),L=Array.isArray(c.recentActivity)?c.recentActivity:[];return{events:{open:y,last24h:v,critical:f,events24h:S},malware:{enabledRules:p,totalRules:x,recentMatches:b},threatScans:{totalScans:C,lastScanResult:T,lastScanStatus:D},system:{status:R,healthyComponents:P,totalComponents:A},threatDistribution:Q,recentActivity:L}},[i.data]);return w.useEffect(()=>{i.data&&(console.group("[Dashboard] Consolidated data"),console.log(i.data),console.groupEnd())},[i.data]),i.isLoading?s.jsx(ua,{}):s.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:s.jsx("div",{className:"px-8 py-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Dashboard"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Real-time security platform overview"})]}),s.jsx(Ti,{})]})})}),s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx(Gt,{title:"Open Events",value:l.events.open,change:{value:l.events.last24h,period:"last 24h"},icon:bt,color:l.events.critical>0?"red":"green",description:"Security events requiring attention"}),s.jsx(Gt,{title:"Critical Threats",value:l.events.critical,icon:Le,color:"red",description:"High-priority security incidents"}),s.jsx(Gt,{title:"Malware Rules",value:`${l.malware.enabledRules}/${l.malware.totalRules}`,change:{value:l.malware.recentMatches,period:"matches today"},icon:fs,color:"blue",description:"Active malware detection rules"}),s.jsx(Gt,{title:"Threat Scans",value:l.threatScans.totalScans,change:{value:l.threatScans.lastScanResult,period:"last result"},icon:Nx,color:l.threatScans.lastScanStatus==="clean"?"green":l.threatScans.lastScanStatus==="threat"?"red":"gray",description:"Threat intelligence scans completed"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsx(Gt,{title:"Events/24h",value:l.events.events24h,icon:uh,color:"blue",description:"Total events in 24-hour window"}),s.jsx(Gt,{title:"System Status",value:`${l.system.healthyComponents}/${l.system.totalComponents}`,icon:eo,color:l.system.healthyComponents===l.system.totalComponents&&l.system.totalComponents>0?"green":"yellow",description:"Healthy components / Total components"}),s.jsx(Gt,{title:"Response Time",value:"2.3min",icon:dh,color:"green",description:"Average incident response time"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsx(aj,{events:l.recentActivity??[],isLoading:i.isLoading})}),s.jsx(sj,{data:l.threatDistribution??[],isLoading:i.isLoading})]})]})]})}function Wj(){const e=ct(),[t,r]=w.useState(""),[n,a]=w.useState(""),[i,l]=w.useState(null),[o,c]=w.useState(!1),u=async h=>{h.preventDefault(),c(!0),l(null);try{await bn.login(t,n),e("/",{replace:!0})}catch(d){l((d==null?void 0:d.message)||"Login failed")}finally{c(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:s.jsxs("form",{onSubmit:u,className:"w-full max-w-sm bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6 shadow-sm",children:[s.jsx("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Sign in"}),s.jsx("label",{className:"block text-sm text-gray-700 dark:text-gray-300 mb-1",children:"Username"}),s.jsx("input",{value:t,onChange:h=>r(h.target.value),className:"w-full mb-3 px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:"admin"}),s.jsx("label",{className:"block text-sm text-gray-700 dark:text-gray-300 mb-1",children:"Password"}),s.jsx("input",{value:n,onChange:h=>a(h.target.value),type:"password",className:"w-full mb-4 px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:""}),i&&s.jsx("div",{className:"text-sm text-red-600 mb-3",children:i}),s.jsx("button",{type:"submit",disabled:o,className:"w-full py-2 rounded-lg bg-blue-600 hover:bg-blue-700 text-white font-medium disabled:opacity-60",children:o?"Signing in":"Sign in"}),s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-3",children:"Local demo credentials: admin / CastellanAdmin2024!"})]})})}function Px(e){switch(e){case"CRITICAL":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"HIGH":return"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200";case"MEDIUM":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"LOW":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}}const Qj=({event:e,isOpen:t,onClose:r})=>{if(!t||!e)return null;const n=(e.riskLevel||e.level||"MEDIUM").toUpperCase(),a=(e.status||"Open").toUpperCase(),i=(e.correlationScore||0)>0;return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:r,children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",onClick:l=>l.stopPropagation(),children:[s.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Le,{className:"h-6 w-6 text-blue-600"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:e.eventType||"Security Event"}),s.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300 font-mono",children:["ID: ",e.id]})]})]}),s.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:s.jsx(Io,{className:"h-6 w-6"})})]})}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Risk Level"}),s.jsx("div",{className:"mt-1",children:s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${Px(n)}`,children:n})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Status"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-white font-medium",children:a})]}),e.eventId&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Event ID"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-white font-mono",children:e.eventId})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 flex items-center gap-2",children:[s.jsx(Ei,{className:"h-4 w-4"}),"Timestamp"]}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:new Date(e.timestamp||Date.now()).toLocaleString()})]}),e.source&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Source"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:e.source})]})]})]}),e.message&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Message"}),s.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:s.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:e.message})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"System Information"}),s.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.machine&&s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-blue-600 dark:text-blue-400 flex items-center gap-2",children:[s.jsx(W1,{className:"h-4 w-4"}),"Machine"]}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-white font-mono",children:e.machine})]}),e.user&&s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-green-600 dark:text-green-400 flex items-center gap-2",children:[s.jsx(Cx,{className:"h-4 w-4"}),"User"]}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:e.user})]})]})]}),e.mitreAttack&&e.mitreAttack.length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"MITRE ATT&CK Techniques"}),s.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:s.jsx("div",{className:"flex flex-wrap gap-2",children:e.mitreAttack.map((l,o)=>s.jsx("span",{className:"px-3 py-1 bg-purple-100 dark:bg-purple-900/20 text-purple-700 dark:text-purple-300 text-sm rounded border border-purple-200 dark:border-purple-800",children:l},o))})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Threat Analysis"}),s.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4 space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Confidence"}),s.jsxs("p",{className:"mt-1 text-lg font-bold text-gray-900 dark:text-white",children:[Math.round(e.confidence||0),"%"]})]}),i&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Correlation"}),s.jsx("p",{className:"mt-1 text-lg font-bold text-blue-600 dark:text-blue-400",children:(e.correlationScore||0).toFixed(2)})]}),(e.burstScore||0)>0&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Burst"}),s.jsx("p",{className:"mt-1 text-lg font-bold text-orange-600 dark:text-orange-400",children:(e.burstScore||0).toFixed(2)})]}),(e.anomalyScore||0)>0&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Anomaly"}),s.jsx("p",{className:"mt-1 text-lg font-bold text-red-600 dark:text-red-400",children:(e.anomalyScore||0).toFixed(2)})]})]})})]}),e.ipAddresses&&e.ipAddresses.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[s.jsx(bx,{className:"h-5 w-5"}),"IP Addresses"]}),s.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:s.jsx("div",{className:"flex flex-wrap gap-2",children:e.ipAddresses.map((l,o)=>s.jsx("span",{className:"px-3 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-sm rounded font-mono border",children:l},o))})})]}),e.notes&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Notes"}),s.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:s.jsx("p",{className:"text-gray-700 dark:text-gray-300 whitespace-pre-wrap",children:e.notes})})]}),e.assignedTo&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Assignment"}),s.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:s.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["Assigned to: ",s.jsx("span",{className:"font-medium",children:e.assignedTo})]})})]})]})]})})};function Vj(){const{token:e,loading:t}=kt(),r=ct(),n=Ht(),{hub:a}=_i(),[i,l]=w.useState(null),[o,c]=w.useState(!1);w.useEffect(()=>{!t&&!e&&r("/login")},[e,t,r]);const u=Fe({queryKey:["security-events",{limit:25}],queryFn:()=>Ve.getRecentSecurityEvents(25),refetchInterval:3e4,enabled:!t&&!!e}),h=Fe({queryKey:["dashboard","consolidated","24h"],queryFn:()=>Ve.getDashboardConsolidated("24h"),refetchInterval:3e4,enabled:!t&&!!e,staleTime:15e3});w.useEffect(()=>{a&&a.on("SecurityEvent",()=>{n.invalidateQueries({queryKey:["security-events"]})})},[a,n]);const d=w.useMemo(()=>{const f=u.data||{};return Array.isArray(f)?f:f.data||[]},[u.data]),g=w.useMemo(()=>{var R;const f=h.data||{},y=f.data&&typeof f.data=="object"?f.data:f,v=y.securityEvents||y.SecurityEvents||{},S=v.totalEvents||v.TotalEvents,m=((R=u.data)==null?void 0:R.total)??0,p=(d==null?void 0:d.length)||0,x=m>0?m:typeof S=="number"?S:p,b=v.riskLevelCounts||v.RiskLevelCounts||{},j=b.CRITICAL??b.critical??b.Critical;let C=0,T=0;d==null||d.forEach(P=>{const A=(P.status||"").toUpperCase();(A==="OPEN"||A==="INVESTIGATING")&&C++,T+=P.riskScore||0});const D=((d==null?void 0:d.length)??0)>0?Math.round(T/((d==null?void 0:d.length)??1)):0,U=typeof j=="number"?j:(d==null?void 0:d.filter(P=>(P.severity||"").toUpperCase()==="CRITICAL").length)??0;return{total:x,open:C,critical:U,avgRisk:D}},[d,u.data,h.data]);return u.isLoading?s.jsx(ua,{}):s.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"px-8 py-6 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Security Events"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Real-time threat detection and incident response"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ti,{}),s.jsx("button",{className:"px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",children:"Filters"})]})]})}),s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx(Gt,{title:"Total Events",value:g.total,icon:jn,color:"blue",description:"All security events detected"}),s.jsx(Gt,{title:"Open Events",value:g.open,icon:bt,color:g.critical>0?"red":"yellow",description:"Events requiring attention"}),s.jsx(Gt,{title:"Critical Threats",value:g.critical,icon:Le,color:"red",description:"High-priority security incidents"}),s.jsx(Gt,{title:"Average Risk",value:g.avgRisk,icon:jn,color:g.avgRisk>=75?"red":g.avgRisk>=50?"yellow":"green",description:"Mean risk score across all events"})]}),s.jsxs("div",{className:"space-y-5",children:[u.isLoading&&s.jsx("div",{className:"space-y-3",children:[...Array(4)].map((f,y)=>s.jsx("div",{className:"h-28 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 animate-pulse"},y))}),!u.isLoading&&(d==null?void 0:d.map(f=>{const y=(f.riskLevel||f.level||"MEDIUM").toUpperCase(),v=(f.status||"Open").toUpperCase(),S=(f.correlationScore||0)>0;return s.jsx("div",{onClick:()=>{l(f),c(!0)},className:"rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 p-5 cursor-pointer hover:shadow-lg hover:border-blue-300 dark:hover:border-blue-600 transition-all duration-200",children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[s.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-full ${Px(y)}`,children:y}),s.jsx("div",{className:"text-gray-900 dark:text-gray-100 font-semibold",children:f.eventType||"Security Event"}),f.eventId&&s.jsxs("span",{className:"text-xs px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded font-mono",children:["Event ",f.eventId]}),S&&s.jsx("span",{className:"text-xs px-2 py-1 bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200 rounded-full flex items-center gap-1",children:" Correlated"}),v&&s.jsx("span",{className:"text-xs font-medium text-blue-600 dark:text-blue-400",children:v}),s.jsxs("span",{className:"text-xs text-gray-400 dark:text-gray-500 font-mono ml-auto",children:[f.id.substring(0,8),"..."]})]}),s.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-3",children:f.message||""}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-3 text-xs",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Machine:"})," ",s.jsx("span",{className:"text-gray-900 dark:text-gray-100 font-medium",children:f.machine||""})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"User:"})," ",s.jsx("span",{className:"text-gray-900 dark:text-gray-100 font-medium",children:f.user||""})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Source:"})," ",s.jsx("span",{className:"text-gray-900 dark:text-gray-100 font-medium",children:f.source||""})]})]}),f.mitreAttack&&f.mitreAttack.length>0&&s.jsxs("div",{className:"mb-3",children:[s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 mr-2",children:"MITRE:"}),s.jsx("div",{className:"inline-flex flex-wrap gap-1",children:f.mitreAttack.map((m,p)=>s.jsx("span",{className:"text-xs px-2 py-1 bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200 rounded",children:m},p))})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-xs text-gray-500 dark:text-gray-400",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-gray-400"}),new Date(f.timestamp||Date.now()).toLocaleString()]}),s.jsxs("div",{children:["Confidence: ",s.jsxs("span",{className:"text-gray-900 dark:text-gray-100 font-semibold",children:[Math.round(f.confidence||0),"%"]})]}),S&&s.jsxs("div",{children:["Correlation: ",s.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-semibold",children:(f.correlationScore||0).toFixed(2)})]}),(f.burstScore||0)>0&&s.jsxs("div",{children:["Burst: ",s.jsx("span",{className:"text-orange-600 dark:text-orange-400 font-semibold",children:(f.burstScore||0).toFixed(2)})]}),(f.anomalyScore||0)>0&&s.jsxs("div",{children:["Anomaly: ",s.jsx("span",{className:"text-red-600 dark:text-red-400 font-semibold",children:(f.anomalyScore||0).toFixed(2)})]})]}),f.ipAddresses&&f.ipAddresses.length>0&&s.jsxs("div",{className:"mt-2 text-xs",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400 mr-2",children:"IPs:"}),f.ipAddresses.slice(0,3).map((m,p)=>s.jsx("span",{className:"text-gray-700 dark:text-gray-300 font-mono mr-2",children:m},p)),f.ipAddresses.length>3&&s.jsxs("span",{className:"text-gray-500",children:["+",f.ipAddresses.length-3," more"]})]})]})})},f.id)}))]})]}),s.jsx(Qj,{event:i,isOpen:o,onClose:()=>c(!1)})]})}function Kj(e){switch(e){case"CRITICAL":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200 border-red-300";case"HIGH":return"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200 border-orange-300";case"MEDIUM":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200 border-yellow-300";case"LOW":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200 border-green-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200 border-gray-300"}}function Yj(){const{id:e}=Lk(),t=ct(),{token:r,loading:n}=kt();w.useEffect(()=>{!n&&!r&&t("/login")},[r,n,t]);const a=Fe({queryKey:["security-event",e],queryFn:async()=>{const c=await fetch(`/api/security-events/${e}`,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}});if(!c.ok)throw new Error("Failed to fetch event");const u=await c.json();return u.data||u},enabled:!n&&!!r&&!!e}),i=a.data,l=((i==null?void 0:i.riskLevel)||(i==null?void 0:i.level)||"MEDIUM").toUpperCase(),o=((i==null?void 0:i.correlationScore)||0)>0;return a.isLoading?s.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Loading event details..."})]})}):a.isError||!i?s.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(bt,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Event Not Found"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"The security event you're looking for doesn't exist."}),s.jsx("button",{onClick:()=>t("/security-events"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Back to Events"})]})}):s.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"px-8 py-6",children:[s.jsxs("button",{onClick:()=>t("/security-events"),className:"flex items-center gap-2 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white mb-4",children:[s.jsx(L1,{className:"h-4 w-4"}),"Back to Security Events"]}),s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-semibold border ${Kj(l)}`,children:l}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:i.eventType||"Security Event"}),o&&s.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200 rounded-full text-sm flex items-center gap-1",children:" Correlated Event"})]}),s.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Event ID: ",e]})]})})]})}),s.jsx("div",{className:"p-8 max-w-7xl mx-auto",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Event Summary"}),s.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:i.message||"No message available"})]}),i.mitreAttack&&i.mitreAttack.length>0&&s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"MITRE ATT&CK Techniques"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:i.mitreAttack.map((c,u)=>s.jsx("div",{className:"px-3 py-2 bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200 rounded-lg border border-purple-200 dark:border-purple-800",children:c},u))})]}),i.ipAddresses&&i.ipAddresses.length>0&&s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"IP Addresses"}),s.jsx("div",{className:"space-y-2",children:i.ipAddresses.map((c,u)=>{var d;const h=(d=i.enrichedIPs)==null?void 0:d.find(g=>g.IP===c||g.ip===c);return s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[s.jsx("span",{className:"font-mono text-gray-900 dark:text-white",children:c}),h&&s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 dark:text-gray-400",children:[h.country&&s.jsx("span",{children:h.country}),h.city&&s.jsx("span",{children:h.city}),h.isHighRisk&&s.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200 rounded text-xs font-semibold",children:"High Risk"})]})]},u)})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Event Details"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Timestamp"}),s.jsx("p",{className:"text-gray-900 dark:text-white font-medium mt-1",children:i.timestamp?new Date(i.timestamp).toLocaleString():""})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Machine"}),s.jsx("p",{className:"text-gray-900 dark:text-white font-medium mt-1",children:i.machine||""})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"User"}),s.jsx("p",{className:"text-gray-900 dark:text-white font-medium mt-1",children:i.user||""})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Source"}),s.jsx("p",{className:"text-gray-900 dark:text-white font-medium mt-1",children:i.source||""})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Windows Event ID"}),s.jsx("p",{className:"text-gray-900 dark:text-white font-medium mt-1 font-mono",children:i.eventId||""})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Status"}),s.jsx("p",{className:"text-blue-600 dark:text-blue-400 font-medium mt-1",children:i.status||"Open"})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Analysis Scores"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Confidence"}),s.jsxs("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:[Math.round(i.confidence||0),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${i.confidence||0}%`}})})]}),o&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Correlation"}),s.jsx("span",{className:"text-sm font-semibold text-blue-600 dark:text-blue-400",children:(i.correlationScore||0).toFixed(2)})]}),s.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${Math.min((i.correlationScore||0)*100,100)}%`}})})]}),(i.burstScore||0)>0&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Burst"}),s.jsx("span",{className:"text-sm font-semibold text-orange-600 dark:text-orange-400",children:(i.burstScore||0).toFixed(2)})]}),s.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:s.jsx("div",{className:"bg-orange-600 h-2 rounded-full",style:{width:`${Math.min((i.burstScore||0)*100,100)}%`}})})]}),(i.anomalyScore||0)>0&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Anomaly"}),s.jsx("span",{className:"text-sm font-semibold text-red-600 dark:text-red-400",children:(i.anomalyScore||0).toFixed(2)})]}),s.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:s.jsx("div",{className:"bg-red-600 h-2 rounded-full",style:{width:`${Math.min((i.anomalyScore||0)*100,100)}%`}})})]})]})]})]})]})})]})}function jg(e){return e.toISOString()}function Sg(e){return e.toString().padStart(2,"0")}function Gj(e){const t=new Date(e);return`${t.getMonth()+1}/${t.getDate()}/${t.getFullYear()}, ${(t.getHours()+11)%12+1}:${Sg(t.getMinutes())}:${Sg(t.getSeconds())} ${t.getHours()>=12?"PM":"AM"}`}function Xj(){const{token:e,loading:t}=kt(),r=ct(),n=Ht(),{hub:a}=_i();w.useEffect(()=>{!t&&!e&&r("/login")},[e,t,r]);const[i,l]=w.useState("hour"),[o,c]=w.useState(()=>{const b=new Date;return b.setHours(b.getHours()-24),b}),[u,h]=w.useState(()=>new Date),d=w.useMemo(()=>jg(o),[o]),g=w.useMemo(()=>jg(u),[u]),f=Fe({queryKey:["timeline",i,d,g],queryFn:async()=>{const b=await Ve.getTimeline(i,d,g);return Array.isArray(b)?b:b.data||[]},enabled:!t&&!!e}),y=Fe({queryKey:["timeline-stats",d,g],queryFn:()=>Ve.getTimelineStats(d,g),enabled:!t&&!!e});w.useEffect(()=>{a&&a.on("SecurityEvent",()=>{n.invalidateQueries({queryKey:["timeline"]}),n.invalidateQueries({queryKey:["timeline-stats"]})})},[a,n]);const v=w.useMemo(()=>(f.data||[]).map(j=>({label:Gj(j.timestamp),count:j.count})),[f.data]),S=(()=>{const b=y.data||{};return b.total??b.totalEvents??v.reduce((j,C)=>j+C.count,0)})(),m=(()=>{const j=(y.data||{}).eventsByRiskLevel||{};return{critical:j.Critical??j.critical??0,high:j.High??j.high??0,medium:j.Medium??j.medium??0,low:j.Low??j.low??0,info:j.Info??j.info??0}})(),p=(()=>{const j=(y.data||{}).eventsByType||{};return Object.entries(j).map(([C,T])=>({type:C,count:T})).sort((C,T)=>T.count-C.count).slice(0,5)})(),x=()=>{};return w.useEffect(()=>{},[]),f.isLoading?s.jsx(ua,{}):s.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"px-8 py-6 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Timeline"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Security events over time (24-hour rolling window)"})]}),s.jsx(Ti,{})]})}),s.jsxs("div",{className:"p-8 pt-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4 mb-6 flex items-end gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-400",children:"Granularity"}),s.jsxs("select",{value:i,onChange:b=>l(b.target.value),className:"mt-1 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 py-2 text-sm",children:[s.jsx("option",{value:"day",children:"Day"}),s.jsx("option",{value:"hour",children:"Hour"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-400",children:"From"}),s.jsx("input",{type:"datetime-local",value:new Date(o).toISOString().slice(0,16),onChange:b=>c(new Date(b.target.value)),className:"mt-1 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 py-2 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-400",children:"To"}),s.jsx("input",{type:"datetime-local",value:new Date(u).toISOString().slice(0,16),onChange:b=>h(new Date(b.target.value)),className:"mt-1 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 py-2 text-sm"})]}),s.jsx("button",{onClick:x,className:"h-9 px-4 rounded-lg bg-blue-600 hover:bg-blue-700 text-white text-sm",children:"REFRESH"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Security Events Over Time"}),s.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-6",children:["Granularity: ",i]}),s.jsxs("div",{className:"space-y-3",children:[f.isLoading&&[...Array(4)].map((b,j)=>s.jsx("div",{className:"h-5 rounded bg-gray-200 dark:bg-gray-700 animate-pulse"},j)),!f.isLoading&&v.map((b,j)=>s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-72 text-sm text-gray-700 dark:text-gray-300",children:b.label}),s.jsx("div",{className:"flex-1",children:s.jsx("div",{className:"h-3 w-full bg-gray-200 dark:bg-gray-700 rounded-full",children:s.jsx("div",{className:"h-3 bg-blue-600 rounded-full",style:{width:`${Math.min(100,b.count/Math.max(1,Math.max(...v.map(C=>C.count)))*100)}%`}})})}),s.jsx("div",{className:"w-10 text-right text-sm text-gray-600 dark:text-gray-400",children:b.count})]},j))]})]})}),s.jsx("div",{children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Summary"}),y.isLoading?s.jsx("div",{className:"space-y-3",children:[...Array(4)].map((b,j)=>s.jsx("div",{className:"h-5 rounded bg-gray-200 dark:bg-gray-700 animate-pulse"},j))}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-3",children:[s.jsx("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Total Events"}),s.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:S.toLocaleString()})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[m.critical>0&&s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"h-2 w-2 rounded-full bg-red-500"}),s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Critical"})]}),s.jsx("span",{className:"text-gray-900 dark:text-gray-100 font-medium",children:m.critical})]}),m.high>0&&s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"h-2 w-2 rounded-full bg-orange-500"}),s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"High"})]}),s.jsx("span",{className:"text-gray-900 dark:text-gray-100 font-medium",children:m.high})]}),m.medium>0&&s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"h-2 w-2 rounded-full bg-yellow-500"}),s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Medium"})]}),s.jsx("span",{className:"text-gray-900 dark:text-gray-100 font-medium",children:m.medium})]}),m.low>0&&s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"h-2 w-2 rounded-full bg-green-500"}),s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Low"})]}),s.jsx("span",{className:"text-gray-900 dark:text-gray-100 font-medium",children:m.low})]}),m.info>0&&s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"h-2 w-2 rounded-full bg-blue-500"}),s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Info"})]}),s.jsx("span",{className:"text-gray-900 dark:text-gray-100 font-medium",children:m.info})]})]})]}),p.length>0&&s.jsxs("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:[s.jsx("div",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Top Event Types"}),s.jsx("div",{className:"space-y-2 text-sm",children:p.map(({type:b,count:j})=>s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400 truncate mr-2",children:b}),s.jsx("span",{className:"text-gray-900 dark:text-gray-100 font-medium whitespace-nowrap",children:j})]},b))})]})]})]})})]})]})]})}const Jj={reconnaissance:"bg-blue-100 text-blue-800 border-blue-200","resource-development":"bg-purple-100 text-purple-800 border-purple-200","initial-access":"bg-yellow-100 text-yellow-800 border-yellow-200",execution:"bg-red-100 text-red-800 border-red-200",persistence:"bg-red-100 text-red-800 border-red-200","privilege-escalation":"bg-red-100 text-red-800 border-red-200","defense-evasion":"bg-yellow-100 text-yellow-800 border-yellow-200","credential-access":"bg-red-100 text-red-800 border-red-200",discovery:"bg-blue-100 text-blue-800 border-blue-200","lateral-movement":"bg-yellow-100 text-yellow-800 border-yellow-200",collection:"bg-blue-100 text-blue-800 border-blue-200","command-and-control":"bg-yellow-100 text-yellow-800 border-yellow-200",exfiltration:"bg-red-100 text-red-800 border-red-200",impact:"bg-red-100 text-red-800 border-red-200"},Ix=e=>{const t=(e==null?void 0:e.toLowerCase().replace(/\s+/g,"-"))||"";return Jj[t]||"bg-gray-100 text-gray-800 border-gray-200"},Zj=async e=>Ve.getMitreTechniques(e),eS=async()=>Ve.getMitreStatistics(),tS=({technique:e,onClick:t})=>{var n;const r=((n=e.platform)==null?void 0:n.split(",").map(a=>a.trim()))||[];return s.jsxs("div",{onClick:t,className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:shadow-md transition-shadow cursor-pointer",children:[s.jsx("div",{className:"flex items-start justify-between mb-3",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx("span",{className:"text-sm font-mono text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/20 px-2 py-1 rounded",children:e.techniqueId}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${Ix(e.tactic)}`,children:e.tactic})]}),s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2 line-clamp-2",children:e.name}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 line-clamp-2",children:e.description})]})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex flex-wrap gap-1",children:[r.slice(0,3).map((a,i)=>s.jsx("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs rounded",children:a},i)),r.length>3&&s.jsxs("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs rounded",children:["+",r.length-3," more"]})]}),s.jsx(vx,{className:"h-4 w-4 text-gray-400"})]})]})},rS=({technique:e,isOpen:t,onClose:r})=>{var o;if(!t||!e)return null;const n=((o=e.platform)==null?void 0:o.split(",").map(c=>c.trim()))||[],a=e.dataSources||[],i=e.mitigations||[],l=e.examples||[];return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Le,{className:"h-6 w-6 text-blue-600"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:e.techniqueId}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:e.name})]})]}),s.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:s.jsx(Io,{className:"h-6 w-6"})})]})}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Tactic"}),s.jsx("div",{className:"mt-1",children:s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium border ${Ix(e.tactic)}`,children:e.tactic})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Platforms"}),s.jsx("div",{className:"mt-1 flex flex-wrap gap-2",children:n.map((c,u)=>s.jsx("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-sm rounded",children:c},u))})]})]}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Added to Database"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:new Date(e.createdAt).toLocaleString()})]})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Description"}),s.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:s.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed whitespace-pre-wrap",children:e.description||"No description available"})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Technical Details"}),s.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-blue-600 dark:text-blue-400 mb-2",children:"Data Sources"}),a.length>0?s.jsx("div",{className:"flex flex-wrap gap-2",children:a.map((c,u)=>s.jsx("span",{className:"px-2 py-1 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 text-sm rounded border border-blue-200 dark:border-blue-800",children:c},u))}):s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.dataSources||"No data sources specified"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-green-600 dark:text-green-400 mb-2",children:"Mitigations"}),i.length>0?s.jsx("div",{className:"flex flex-wrap gap-2",children:i.map((c,u)=>s.jsx("span",{className:"px-2 py-1 bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-300 text-sm rounded border border-green-200 dark:border-green-800",children:c},u))}):s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.mitigations||"No mitigations specified"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-purple-600 dark:text-purple-400 mb-2",children:"Examples"}),l.length>0?s.jsx("div",{className:"flex flex-wrap gap-2",children:l.map((c,u)=>s.jsx("span",{className:"px-2 py-1 bg-purple-50 dark:bg-purple-900/20 text-purple-700 dark:text-purple-300 text-sm rounded border border-purple-200 dark:border-purple-800",children:c},u))}):s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.examples||"No examples specified"})]})]})]}),e.associatedApplications&&e.associatedApplications.length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Associated Applications"}),s.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:s.jsx("div",{className:"flex flex-wrap gap-2",children:e.associatedApplications.map((c,u)=>s.jsxs("span",{className:"px-3 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-sm rounded border",children:[c.ApplicationName," (",c.Confidence,"%)"]},u))})})]})]})]})})},nS=()=>{var D,U,R;const{token:e,loading:t}=kt(),r=ct(),[n,a]=w.useState(null),[i,l]=w.useState(!1),[o,c]=w.useState(""),[u,h]=w.useState(""),[d,g]=w.useState(""),[f,y]=w.useState(1);w.useEffect(()=>{!t&&!e&&r("/login")},[e,t,r]);const v=Fe({queryKey:["mitre-techniques",f,o,u,d],queryFn:async()=>{console.log("[MitreAttack] Fetching techniques with params:",{page:f,perPage:25,search:o||void 0,tactic:u||void 0,platform:d||void 0});const P=await Zj({page:f,perPage:25,search:o||void 0,tactic:u||void 0,platform:d||void 0,sort:"techniqueId",order:"ASC"});console.log("[MitreAttack] Raw API response:",P);const A=P.techniques||P.data||[],Q=P.totalCount||P.total||A.length;return console.log("[MitreAttack] Parsed techniques:",A.length,"Total:",Q),{techniques:A.map(O=>({...O,id:O.id||O.techniqueId})),totalCount:Q,totalPages:Math.ceil(Q/25)}},enabled:!t&&!!e,staleTime:5*60*1e3,gcTime:30*60*1e3}),S=Fe({queryKey:["mitre-statistics"],queryFn:eS,enabled:!t&&!!e,staleTime:10*60*1e3,gcTime:30*60*1e3}),m=((D=v.data)==null?void 0:D.techniques)||[],p=((U=v.data)==null?void 0:U.totalCount)||0,x=((R=v.data)==null?void 0:R.totalPages)||1,b=S.data||null,j=v.isLoading,C=v.error?v.error.message:null,T=P=>{a(P),l(!0)};return j?s.jsx(ua,{}):s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"MITRE ATT&CK Techniques"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Threat Intelligence Database"})]}),b&&s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Database Statistics"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(rr,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{className:"text-sm text-gray-500",children:"Cached"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:b.totalTechniques}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Total Techniques"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Last Updated"}),s.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:b.lastUpdated?new Date(b.lastUpdated).toLocaleString():"Unknown"})]}),s.jsx("div",{children:s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:" Instant load from cache"})})]}),b.shouldImport&&s.jsx("div",{className:"mt-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(Xl,{className:"h-5 w-5 text-blue-600 mr-2 mt-0.5"}),s.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-300",children:"The MITRE database appears to be empty or outdated. Consider importing the latest techniques."})]})})]}),s.jsx("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 flex-1",children:[s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx(fs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search techniques...",value:o,onChange:P=>c(P.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("select",{value:u,onChange:P=>h(P.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"All Tactics"}),s.jsx("option",{value:"reconnaissance",children:"Reconnaissance"}),s.jsx("option",{value:"resource-development",children:"Resource Development"}),s.jsx("option",{value:"initial-access",children:"Initial Access"}),s.jsx("option",{value:"execution",children:"Execution"}),s.jsx("option",{value:"persistence",children:"Persistence"}),s.jsx("option",{value:"privilege-escalation",children:"Privilege Escalation"}),s.jsx("option",{value:"defense-evasion",children:"Defense Evasion"}),s.jsx("option",{value:"credential-access",children:"Credential Access"}),s.jsx("option",{value:"discovery",children:"Discovery"}),s.jsx("option",{value:"lateral-movement",children:"Lateral Movement"}),s.jsx("option",{value:"collection",children:"Collection"}),s.jsx("option",{value:"command-and-control",children:"Command and Control"}),s.jsx("option",{value:"exfiltration",children:"Exfiltration"}),s.jsx("option",{value:"impact",children:"Impact"})]}),s.jsxs("select",{value:d,onChange:P=>g(P.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"All Platforms"}),s.jsx("option",{value:"Windows",children:"Windows"}),s.jsx("option",{value:"Linux",children:"Linux"}),s.jsx("option",{value:"macOS",children:"macOS"}),s.jsx("option",{value:"Network",children:"Network"}),s.jsx("option",{value:"Cloud",children:"Cloud"}),s.jsx("option",{value:"Mobile",children:"Mobile"})]})]})]})}),C&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(pr,{className:"h-5 w-5 text-red-600 mr-2"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading techniques"}),s.jsx("p",{className:"text-sm text-red-700 mt-1",children:C}),s.jsx("p",{className:"text-xs text-red-600 mt-2",children:"Check the browser console for more details. Make sure the backend API is running on port 5000."})]})]})}),j?s.jsxs("div",{className:"flex items-center justify-center py-12",children:[s.jsx(sa,{className:"h-8 w-8 animate-spin text-blue-600"}),s.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-300",children:"Loading techniques..."})]}):m.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(To,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No techniques found"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:o||u||d?"Try adjusting your search or filters":"No MITRE techniques are available. Consider importing them."}),!o&&!u&&!d&&s.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["To import techniques, go to ",s.jsx("button",{onClick:()=>r("/configuration"),className:"text-blue-600 hover:underline",children:"Configuration  MITRE Techniques"})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map(P=>s.jsx(tS,{technique:P,onClick:()=>T(P)},P.id))}),x>1&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Showing ",(f-1)*25+1," to ",Math.min(f*25,p)," of ",p," techniques"]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>y(P=>Math.max(1,P-1)),disabled:f===1,className:"px-3 py-1 border border-gray-300 dark:border-gray-600 rounded text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),s.jsxs("span",{className:"px-3 py-1 text-gray-700 dark:text-gray-300",children:["Page ",f," of ",x]}),s.jsx("button",{onClick:()=>y(P=>Math.min(x,P+1)),disabled:f===x,className:"px-3 py-1 border border-gray-300 dark:border-gray-600 rounded text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),s.jsx(rS,{technique:n,isOpen:i,onClose:()=>l(!1)})]})},Mx=[{id:"Malware",name:"Malware"},{id:"Ransomware",name:"Ransomware"},{id:"Trojan",name:"Trojan"},{id:"Backdoor",name:"Backdoor"},{id:"Suspicious",name:"Suspicious"},{id:"PUA",name:"Potentially Unwanted Application"},{id:"Exploit",name:"Exploit"},{id:"Custom",name:"Custom"}],aS=[{id:"Low",name:"Low"},{id:"Medium",name:"Medium"},{id:"High",name:"High"},{id:"Critical",name:"Critical"}],Rx=e=>{switch(e==null?void 0:e.toLowerCase()){case"critical":return"bg-red-100 text-red-800 border-red-200";case"high":return"bg-orange-100 text-orange-800 border-orange-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},sS=async e=>Ve.getMalwareRules(e),iS=async()=>Ve.getMalwareStatistics(),lS=async(e,t)=>Ve.toggleMalwareRule(e,t),oS=async e=>Ve.deleteMalwareRule(e),cS=async e=>Ve.importMalwareRules(e),uS=({isOpen:e,onClose:t,importMutation:r})=>{const[n,a]=w.useState(""),[i,l]=w.useState("Custom"),[o,c]=w.useState("Imported"),[u,h]=w.useState(!0),[d,g]=w.useState(!1),[f,y]=w.useState(null),v=m=>{var x;const p=(x=m.target.files)==null?void 0:x[0];if(p){const b=new FileReader;b.onload=j=>{var C;a((C=j.target)==null?void 0:C.result)},b.readAsText(p)}},S=async()=>{if(!n.trim()){alert("Please enter or upload rule content");return}y(null);try{const m=await r.mutateAsync({ruleContent:n,category:i,author:o,skipDuplicates:u,enableByDefault:d});y(m.data||m)}catch(m){y({success:!1,message:m.message,details:m.toString()})}};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:s.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Import Malware Rules"})}),s.jsx("div",{className:"p-6 space-y-4",children:r.isPending?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(sa,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-blue-600"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Importing malware rules..."})]}):f?s.jsx("div",{className:"space-y-4",children:f.success!==!1?s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(rr,{className:"h-5 w-5 text-green-600 mr-2"}),s.jsx("h3",{className:"text-lg font-medium text-green-800",children:"Import Successful!"})]}),s.jsxs("div",{className:"mt-2 text-sm text-green-700",children:[s.jsxs("p",{children:[" ",f.importedCount||0," rules imported"]}),s.jsxs("p",{children:[" ",f.skippedCount||0," rules skipped"]}),s.jsxs("p",{children:[" ",f.failedCount||0," rules failed"]})]})]}):s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(pr,{className:"h-5 w-5 text-red-600 mr-2"}),s.jsx("h3",{className:"text-lg font-medium text-red-800",children:"Import Failed"})]}),s.jsx("p",{className:"mt-2 text-sm text-red-700",children:f.message})]})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Default Category"}),s.jsx("select",{value:i,onChange:m=>l(m.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:Mx.map(m=>s.jsx("option",{value:m.id,children:m.name},m.id))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Default Author"}),s.jsx("input",{type:"text",value:o,onChange:m=>c(m.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:u,onChange:m=>h(m.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Skip Duplicates"})]}),s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:d,onChange:m=>g(m.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Enable Rules by Default"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Upload Malware File"}),s.jsx("input",{type:"file",accept:".yar,.yara,.txt",onChange:v,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Malware Rules Content"}),s.jsx("textarea",{value:n,onChange:m=>a(m.target.value),rows:10,placeholder:"Paste malware rules here or upload a file...",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white font-mono text-sm"})]})]})}),s.jsxs("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700 flex justify-end space-x-3",children:[s.jsx("button",{onClick:t,disabled:r.isPending,className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg disabled:opacity-50",children:f?"Close":"Cancel"}),!f&&s.jsxs("button",{onClick:S,disabled:r.isPending,className:"px-4 py-2 bg-blue-600 text-white hover:bg-blue-700 rounded-lg disabled:opacity-50 flex items-center",children:[s.jsx($u,{className:"h-4 w-4 mr-2"}),"Import"]})]})]})}):null},dS=({rule:e,isOpen:t,onClose:r,onToggle:n,onDelete:a})=>!t||!e?null:s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:e.name}),s.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${Rx(e.threatLevel)}`,children:e.threatLevel}),s.jsx("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs rounded",children:e.category}),e.isValid?s.jsxs("span",{className:"flex items-center text-xs text-green-600",children:[s.jsx(rr,{className:"h-3 w-3 mr-1"}),"Valid"]}):s.jsxs("span",{className:"flex items-center text-xs text-red-600",children:[s.jsx(cn,{className:"h-3 w-3 mr-1"}),"Invalid"]}),e.isEnabled?s.jsxs("span",{className:"flex items-center text-xs text-blue-600",children:[s.jsx(Uu,{className:"h-3 w-3 mr-1"}),"Enabled"]}):s.jsxs("span",{className:"flex items-center text-xs text-gray-500",children:[s.jsx(zu,{className:"h-3 w-3 mr-1"}),"Disabled"]})]})]}),s.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:s.jsx(Io,{className:"h-6 w-6"})})]})}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Author"}),s.jsx("p",{className:"mt-1 text-gray-900 dark:text-white",children:e.author||"Unknown"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Priority"}),s.jsx("p",{className:"mt-1 text-gray-900 dark:text-white",children:e.priority||0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Hit Count"}),s.jsx("p",{className:"mt-1 text-gray-900 dark:text-white",children:e.hitCount||0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Last Match"}),s.jsx("p",{className:"mt-1 text-gray-900 dark:text-white",children:e.lastMatch?new Date(e.lastMatch).toLocaleString():"Never"})]})]}),e.tags&&e.tags.length>0&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Tags"}),s.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:e.tags.map((i,l)=>s.jsx("span",{className:"px-2 py-1 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 text-sm rounded border border-blue-200 dark:border-blue-800",children:i},l))})]}),e.description&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Description"}),s.jsx("p",{className:"mt-1 text-gray-700 dark:text-gray-300",children:e.description})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Rule Content"}),s.jsx("pre",{className:"mt-2 p-4 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg overflow-x-auto text-sm font-mono text-gray-900 dark:text-gray-100",children:e.ruleContent})]}),!e.isValid&&e.validationError&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(pr,{className:"h-5 w-5 text-red-600 mr-2 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-red-800",children:"Validation Error"}),s.jsx("p",{className:"text-sm text-red-700 mt-1",children:e.validationError})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Created"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:new Date(e.createdAt).toLocaleString()})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Updated"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:new Date(e.updatedAt).toLocaleString()})]})]})]}),s.jsxs("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700 flex justify-between",children:[s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>n(e.id,!e.isEnabled),className:`px-4 py-2 rounded-lg flex items-center ${e.isEnabled?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-blue-600 text-white hover:bg-blue-700"}`,children:e.isEnabled?s.jsxs(s.Fragment,{children:[s.jsx(zu,{className:"h-4 w-4 mr-2"}),"Disable"]}):s.jsxs(s.Fragment,{children:[s.jsx(Uu,{className:"h-4 w-4 mr-2"}),"Enable"]})}),s.jsxs("button",{onClick:()=>{confirm("Are you sure you want to delete this rule?")&&(a(e.id),r())},className:"px-4 py-2 bg-red-600 text-white hover:bg-red-700 rounded-lg flex items-center",children:[s.jsx(Po,{className:"h-4 w-4 mr-2"}),"Delete"]})]}),s.jsx("button",{onClick:r,className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:"Close"})]})]})}),hS=({rule:e,onClick:t,onToggle:r})=>s.jsx("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex-1 cursor-pointer",onClick:t,children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:e.name}),e.isValid?s.jsx(rr,{className:"h-4 w-4 text-green-500"}):s.jsx(cn,{className:"h-4 w-4 text-red-500"})]}),s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${Rx(e.threatLevel)}`,children:e.threatLevel}),s.jsx("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs rounded",children:e.category})]}),e.description&&s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 line-clamp-2 mb-2",children:e.description}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400",children:[s.jsxs("span",{children:["Hits: ",e.hitCount||0]}),s.jsxs("span",{children:["Updated: ",new Date(e.updatedAt).toLocaleDateString()]})]})]}),s.jsx("button",{onClick:n=>{n.stopPropagation(),r(e.id,!e.isEnabled)},className:`ml-4 p-2 rounded-lg ${e.isEnabled?"bg-blue-50 text-blue-600 hover:bg-blue-100":"bg-gray-100 text-gray-500 hover:bg-gray-200"}`,children:e.isEnabled?s.jsx(Uu,{className:"h-4 w-4"}):s.jsx(zu,{className:"h-4 w-4"})})]})}),fS=()=>{var k,ae,oe,E;const{token:e,loading:t}=kt(),r=ct(),n=Ht(),[a,i]=w.useState(!1),[l,o]=w.useState(null),[c,u]=w.useState(!1),[h,d]=w.useState(""),[g,f]=w.useState(""),[y,v]=w.useState(""),[S,m]=w.useState(void 0),[p,x]=w.useState(1),b=25;w.useEffect(()=>{!t&&!e&&r("/login")},[e,t,r]),w.useEffect(()=>{x(1)},[h,g,y,S]);const j=Fe({queryKey:["malware-rules",p,h,g,y,S],queryFn:async()=>{const H=await sS({page:p,perPage:b,search:h||void 0,category:g||void 0,threatLevel:y||void 0,isEnabled:S}),re=H.data||H.rules||[],ce=H.total||H.totalCount||re.length,jt=H.pageSize||H.perPage||re.length||b;return{rules:re,totalCount:ce,totalPages:Math.ceil(ce/jt),pageSize:jt}},enabled:!t&&!!e,staleTime:5*60*1e3,gcTime:30*60*1e3}),C=Fe({queryKey:["malware-statistics"],queryFn:async()=>{const H=await iS();console.log("[MalwareRules] Statistics response:",H);const re=H.data||H,ce={totalRules:re.totalRules||re.TotalRules||0,enabledRules:re.enabledRules||re.EnabledRules||0,disabledRules:re.disabledRules||re.DisabledRules||0,validRules:re.validRules||re.ValidRules||0,invalidRules:re.invalidRules||re.InvalidRules||0,rulesByCategory:re.rulesByCategory||re.RulesByCategory||{},rulesByThreatLevel:re.rulesByThreatLevel||re.RulesByThreatLevel||{},topPerformingRules:re.topPerformingRules||re.TopPerformingRules||[],slowestRules:re.slowestRules||re.SlowestRules||[]};return console.log("[MalwareRules] Mapped statistics:",ce),ce},enabled:!t&&!!e,staleTime:10*60*1e3,gcTime:30*60*1e3}),T=mr({mutationFn:({id:H,enabled:re})=>lS(H,re),onSuccess:()=>{n.invalidateQueries({queryKey:["malware-rules"]}),n.invalidateQueries({queryKey:["malware-statistics"]})},onError:H=>{alert(`Failed to toggle rule: ${H.message}`)}}),D=mr({mutationFn:oS,onSuccess:()=>{n.invalidateQueries({queryKey:["malware-rules"]}),n.invalidateQueries({queryKey:["malware-statistics"]})},onError:H=>{alert(`Failed to delete rule: ${H.message}`)}}),U=mr({mutationFn:cS,onSuccess:()=>{n.invalidateQueries({queryKey:["malware-rules"]}),n.invalidateQueries({queryKey:["malware-statistics"]})}}),R=(H,re)=>{T.mutate({id:H,enabled:re})},P=H=>{D.mutate(H)},A=((k=j.data)==null?void 0:k.rules)||[],Q=((ae=j.data)==null?void 0:ae.totalCount)||0,L=((oe=j.data)==null?void 0:oe.totalPages)||1,O=((E=j.data)==null?void 0:E.pageSize)||b,q=C.data||null,te=j.isLoading,_=j.error?j.error.message:null,K=H=>{o(H),u(!0)};return te?s.jsx(ua,{}):s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Malware Detection"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Detection Rules & Signatures"})]}),q&&s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Statistics"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-6",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:q.totalRules||0}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Total Rules"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:q.enabledRules||0}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Enabled"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:q.disabledRules||0}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Disabled"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:q.validRules||0}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Valid"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:q.invalidRules||0}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Invalid"})]})]})]}),s.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-center justify-between",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 flex-1",children:[s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx(fs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search rules...",value:h,onChange:H=>d(H.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("select",{value:g,onChange:H=>f(H.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"All Categories"}),Mx.map(H=>s.jsx("option",{value:H.id,children:H.name},H.id))]}),s.jsxs("select",{value:y,onChange:H=>v(H.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"All Threat Levels"}),aS.map(H=>s.jsx("option",{value:H.id,children:H.name},H.id))]}),s.jsxs("select",{value:S===void 0?"":S?"true":"false",onChange:H=>m(H.target.value===""?void 0:H.target.value==="true"),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"All Status"}),s.jsx("option",{value:"true",children:"Enabled"}),s.jsx("option",{value:"false",children:"Disabled"})]})]})]}),s.jsx("div",{className:"flex gap-2",children:s.jsxs("button",{onClick:()=>i(!0),className:"px-4 py-2 bg-blue-600 text-white hover:bg-blue-700 rounded-lg flex items-center space-x-2 transition-colors",children:[s.jsx($u,{className:"h-4 w-4"}),s.jsx("span",{children:"Import"})]})})]}),_&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(pr,{className:"h-5 w-5 text-red-600 mr-2"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading rules"}),s.jsx("p",{className:"text-sm text-red-700 mt-1",children:_})]})]})}),te?s.jsxs("div",{className:"flex items-center justify-center py-12",children:[s.jsx(sa,{className:"h-8 w-8 animate-spin text-blue-600"}),s.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-300",children:"Loading rules..."})]}):A.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Le,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No rules found"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:h||g||y?"Try adjusting your search or filters":"No malware rules are available. Consider importing them."}),!h&&!g&&!y&&s.jsxs("button",{onClick:()=>i(!0),className:"px-4 py-2 bg-blue-600 text-white hover:bg-blue-700 rounded-lg flex items-center space-x-2 mx-auto",children:[s.jsx($u,{className:"h-4 w-4"}),s.jsx("span",{children:"Import Rules"})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:A.map(H=>s.jsx(hS,{rule:H,onClick:()=>K(H),onToggle:R},H.id))}),Q>0&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Showing ",A.length>0?(p-1)*O+1:0," to ",Math.min((p-1)*O+A.length,Q)," of ",Q," rules"]}),L>1&&s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>x(H=>Math.max(1,H-1)),disabled:p===1,className:"px-3 py-1 border border-gray-300 dark:border-gray-600 rounded text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),s.jsxs("span",{className:"px-3 py-1 text-gray-700 dark:text-gray-300",children:["Page ",p," of ",L]}),s.jsx("button",{onClick:()=>x(H=>Math.min(L,H+1)),disabled:p===L,className:"px-3 py-1 border border-gray-300 dark:border-gray-600 rounded text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),s.jsx(uS,{isOpen:a,onClose:()=>i(!1),importMutation:U}),s.jsx(dS,{rule:l,isOpen:c,onClose:()=>u(!1),onToggle:R,onDelete:P})]})};function gS(){var q,te;const{token:e,loading:t}=kt(),r=ct(),n=Ht(),{hub:a}=_i(),[i,l]=w.useState(!1),[o,c]=w.useState(""),[u,h]=w.useState(!1),[d,g]=w.useState(null),[f,y]=w.useState(""),[v,S]=w.useState(""),[m,p]=w.useState("");w.useEffect(()=>{!t&&!e&&r("/login")},[e,t,r]);const x=Fe({queryKey:["threat-scans"],queryFn:()=>Ve.getThreatScans(),enabled:!t&&!!e,refetchInterval:5e3}),b=Fe({queryKey:["scan-progress"],queryFn:()=>Ve.getScanProgress(),enabled:!t&&!!e,refetchInterval:2e3});w.useEffect(()=>{var _,K;if((_=b.data)!=null&&_.progress){const k=(K=b.data.progress.status)==null?void 0:K.toLowerCase();h(k==="running"||k==="initializing"),c(b.data.progress.scanType||"Scan")}else h(!1)},[b.data]),w.useEffect(()=>{a&&(a.on("ScanProgressUpdate",()=>{n.invalidateQueries({queryKey:["scan-progress"]})}),a.on("ScanCompleted",()=>{n.invalidateQueries({queryKey:["threat-scans"]}),n.invalidateQueries({queryKey:["scan-progress"]})}))},[a,n]);const j=async()=>{try{await Ve.startQuickScan(),c("Quick Scan"),l(!0),n.invalidateQueries({queryKey:["threat-scans"]}),n.invalidateQueries({queryKey:["scan-progress"]})}catch(_){console.error("Failed to start quick scan:",_)}},C=async()=>{try{await Ve.startFullScan(),c("Full Scan"),l(!0),n.invalidateQueries({queryKey:["threat-scans"]}),n.invalidateQueries({queryKey:["scan-progress"]})}catch(_){console.error("Failed to start full scan:",_)}},T=async()=>{try{await Ve.cancelScan(),n.invalidateQueries({queryKey:["scan-progress"]}),n.invalidateQueries({queryKey:["threat-scans"]}),l(!1)}catch(_){console.error("Failed to cancel scan:",_)}},D=_=>{switch(_==null?void 0:_.toLowerCase()){case"completed":return"text-green-600 bg-green-50 dark:bg-green-900/20 dark:text-green-400";case"completedwiththreats":return"text-orange-600 bg-orange-50 dark:bg-orange-900/20 dark:text-orange-400";case"running":return"text-blue-600 bg-blue-50 dark:bg-blue-900/20 dark:text-blue-400";case"failed":return"text-red-600 bg-red-50 dark:bg-red-900/20 dark:text-red-400";case"cancelled":return"text-gray-600 bg-gray-50 dark:bg-gray-700/20 dark:text-gray-400";default:return"text-gray-600 bg-gray-50 dark:bg-gray-700/20 dark:text-gray-400"}},U=_=>{switch(_==null?void 0:_.toLowerCase()){case"completed":return"Clean";case"completedwiththreats":return"Findings Detected";case"running":return"Scanning";case"failed":return"Failed";case"cancelled":return"Cancelled";default:return _}},R=_=>{switch(_==null?void 0:_.toLowerCase()){case"completed":return s.jsx(rr,{className:"h-4 w-4"});case"completedwiththreats":return s.jsx(bt,{className:"h-4 w-4"});case"running":return s.jsx(jn,{className:"h-4 w-4 animate-spin"});case"failed":return s.jsx(cn,{className:"h-4 w-4"});case"cancelled":return s.jsx(cn,{className:"h-4 w-4"});default:return s.jsx(Le,{className:"h-4 w-4"})}},P=_=>{switch(_==null?void 0:_.toLowerCase()){case"critical":return"text-red-600 dark:text-red-400";case"high":return"text-orange-600 dark:text-orange-400";case"medium":return"text-yellow-600 dark:text-yellow-400";case"low":return"text-green-600 dark:text-green-400";default:return"text-gray-600 dark:text-gray-400"}},A=_=>_<1?`${Math.round(_*60)}s`:_<60?`${Math.round(_)}m`:`${Math.round(_/60)}h ${Math.round(_%60)}m`,Q=((q=x.data)==null?void 0:q.data)||[],L=Q.filter(_=>!(f&&_.scanType!==f||v&&_.status.toLowerCase()!==v.toLowerCase()||m&&_.riskLevel!==m)),O=d?Q.find(_=>_.id===d):null;return x.isLoading?s.jsx(ua,{}):s.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:s.jsx("div",{className:"px-8 py-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Threat Scanner"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Security scanning and malware detection"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[u&&s.jsxs("button",{onClick:()=>l(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/40 transition-colors",children:[s.jsx(sa,{className:"h-4 w-4 animate-spin"}),s.jsxs("span",{className:"text-sm font-medium",children:[o," in progress..."]})]}),s.jsx(Ti,{}),s.jsxs("button",{onClick:j,disabled:u,className:"flex items-center space-x-2 px-4 py-2 border border-blue-600 text-blue-600 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(mg,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"Quick Scan"})]}),s.jsxs("button",{onClick:C,disabled:u,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(Le,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"Full Scan"})]})]})]})})}),i&&((te=b.data)==null?void 0:te.progress)&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Le,{className:"h-6 w-6 text-blue-600"}),s.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:[o," Progress"]})]}),s.jsx("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(cn,{className:"h-6 w-6"})})]})}),s.jsx("div",{className:"p-6 space-y-4",children:s.jsx(mS,{progress:b.data.progress,onCancel:T})}),s.jsx("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700 flex justify-end",children:s.jsx("button",{onClick:()=>l(!1),className:"px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",children:"Hide"})})]})}),O&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Le,{className:"h-6 w-6 text-blue-600"}),s.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Scan Details"})]}),s.jsx("button",{onClick:()=>g(null),className:"text-gray-400 hover:text-gray-600",children:s.jsx(cn,{className:"h-6 w-6"})})]})}),s.jsx("div",{className:"p-6 space-y-6",children:s.jsx(pS,{scan:O})}),s.jsx("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700 flex justify-end",children:s.jsx("button",{onClick:()=>g(null),className:"px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",children:"Close"})})]})}),s.jsx("div",{className:"p-8",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Scan History"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(B1,{className:"h-5 w-5 text-gray-400"}),s.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Filters"})]})]}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Scan Type"}),s.jsxs("select",{value:f,onChange:_=>y(_.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[s.jsx("option",{value:"",children:"All Types"}),s.jsx("option",{value:"QuickScan",children:"Quick Scan"}),s.jsx("option",{value:"FullScan",children:"Full Scan"}),s.jsx("option",{value:"DirectoryScan",children:"Directory Scan"}),s.jsx("option",{value:"FileScan",children:"File Scan"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Status"}),s.jsxs("select",{value:v,onChange:_=>S(_.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[s.jsx("option",{value:"",children:"All Statuses"}),s.jsx("option",{value:"Completed",children:"Clean"}),s.jsx("option",{value:"CompletedWithThreats",children:"Findings Detected"}),s.jsx("option",{value:"Running",children:"Scanning"}),s.jsx("option",{value:"Failed",children:"Failed"}),s.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Risk Level"}),s.jsxs("select",{value:m,onChange:_=>p(_.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[s.jsx("option",{value:"",children:"All Levels"}),s.jsx("option",{value:"Low",children:"Low"}),s.jsx("option",{value:"Medium",children:"Medium"}),s.jsx("option",{value:"High",children:"High"}),s.jsx("option",{value:"Critical",children:"Critical"})]})]})]})]}),x.isLoading?s.jsxs("div",{className:"p-12 text-center",children:[s.jsx(sa,{className:"h-8 w-8 animate-spin mx-auto text-gray-400"}),s.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Loading scan history..."})]}):L.length===0?s.jsxs("div",{className:"p-12 text-center",children:[s.jsx(Le,{className:"h-12 w-12 mx-auto text-gray-400"}),s.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900 dark:text-white",children:Q.length===0?"No scan history yet":"No matching scans found"}),s.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:Q.length===0?"Start a security scan to check for threats":"Try adjusting your filters"}),s.jsxs("div",{className:"mt-6 flex items-center justify-center space-x-3",children:[s.jsxs("button",{onClick:j,className:"flex items-center space-x-2 px-4 py-2 border border-blue-600 text-blue-600 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors",children:[s.jsx(mg,{className:"h-5 w-5"}),s.jsx("span",{children:"Quick Scan"})]}),s.jsxs("button",{onClick:C,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(Le,{className:"h-5 w-5"}),s.jsx("span",{children:"Full Scan"})]})]})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700/50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Started"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Duration"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Files"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Results"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Risk"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:L.map(_=>s.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:_.scanType})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:`inline-flex items-center space-x-2 px-2.5 py-1 rounded-full text-xs font-medium ${D(_.status)}`,children:[R(_.status),s.jsx("span",{children:U(_.status)})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:new Date(_.startTime).toLocaleString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:A(_.duration)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:_.filesScanned.toLocaleString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:_.threatsFound===0?s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-green-600 dark:text-green-400",children:[s.jsx(rr,{className:"h-4 w-4"}),s.jsx("span",{children:"Clean"})]}):s.jsxs("div",{className:"text-sm",children:[s.jsxs("div",{className:"flex items-center space-x-2 text-orange-600 dark:text-orange-400 font-medium",children:[s.jsx(bt,{className:"h-4 w-4"}),s.jsxs("span",{children:[_.threatsFound," finding",_.threatsFound!==1?"s":""]})]}),s.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:[_.malwareDetected+_.backdoorsDetected>0&&s.jsxs("span",{className:"font-medium text-red-600 dark:text-red-400",children:[_.malwareDetected+_.backdoorsDetected," threat",_.malwareDetected+_.backdoorsDetected!==1?"s":""]}),_.malwareDetected+_.backdoorsDetected>0&&_.suspiciousFiles>0&&", ",_.suspiciousFiles>0&&`${_.suspiciousFiles} flagged`]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`text-sm font-medium ${P(_.riskLevel)}`,children:_.riskLevel})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("button",{onClick:()=>g(_.id),className:"flex items-center space-x-1 text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300",children:[s.jsx(Eo,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm font-medium",children:"View"})]})})]},_.id))})]})})]})})]})}function mS({progress:e,onCancel:t}){var n;const r=((n=e.status)==null?void 0:n.toLowerCase())==="running";return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.scanPhase}),s.jsxs("span",{className:"text-sm font-bold text-gray-900 dark:text-white",children:[e.percentComplete.toFixed(1),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${e.percentComplete}%`}})}),s.jsxs("div",{className:"mt-3 space-y-1",children:[s.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 truncate",children:[s.jsx("span",{className:"font-medium",children:"Current file:"})," ",e.currentFile||"Initializing..."]}),s.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 truncate",children:[s.jsx("span",{className:"font-medium",children:"Directory:"})," ",e.currentDirectory||"N/A"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4 text-center",children:[s.jsx($1,{className:"h-6 w-6 mx-auto text-blue-600 dark:text-blue-400 mb-2"}),s.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.filesScanned.toLocaleString()}),s.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Files Scanned"}),s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:["of ",e.totalEstimatedFiles.toLocaleString()]})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4 text-center",children:[s.jsx(kx,{className:"h-6 w-6 mx-auto text-blue-600 dark:text-blue-400 mb-2"}),s.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.directoriesScanned.toLocaleString()}),s.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Directories"})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4 text-center",children:[s.jsx(bt,{className:`h-6 w-6 mx-auto mb-2 ${e.threatsFound>0?"text-orange-600 dark:text-orange-400":"text-green-600 dark:text-green-400"}`}),s.jsx("div",{className:`text-2xl font-bold ${e.threatsFound>0?"text-orange-600 dark:text-orange-400":"text-green-600 dark:text-green-400"}`,children:e.threatsFound.toLocaleString()}),s.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Findings"})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4 text-center",children:[s.jsx(Ei,{className:"h-6 w-6 mx-auto text-blue-600 dark:text-blue-400 mb-2"}),s.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.elapsedTime}),s.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Elapsed"}),e.estimatedTimeRemaining&&s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:["~",e.estimatedTimeRemaining," left"]})]})]}),s.jsx("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:s.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[s.jsx("span",{className:"font-medium",children:"Data Scanned:"})," ",(e.bytesScanned/(1024*1024*1024)).toFixed(2)," GB"]})}),r&&s.jsx("button",{onClick:t,className:"w-full px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium",children:"Cancel Scan"})]})}function pS({scan:e}){const t=i=>{switch(i==null?void 0:i.toLowerCase()){case"critical":return"text-red-600 dark:text-red-400";case"high":return"text-orange-600 dark:text-orange-400";case"medium":return"text-yellow-600 dark:text-yellow-400";case"low":return"text-green-600 dark:text-green-400";default:return"text-gray-600 dark:text-gray-400"}},r=i=>{switch(i==null?void 0:i.toLowerCase()){case"completed":return"text-green-600 bg-green-50 dark:bg-green-900/20 dark:text-green-400";case"completedwiththreats":return"text-orange-600 bg-orange-50 dark:bg-orange-900/20 dark:text-orange-400";case"running":return"text-blue-600 bg-blue-50 dark:bg-blue-900/20 dark:text-blue-400";case"failed":return"text-red-600 bg-red-50 dark:bg-red-900/20 dark:text-red-400";case"cancelled":return"text-gray-600 bg-gray-50 dark:bg-gray-700/20 dark:text-gray-400";default:return"text-gray-600 bg-gray-50 dark:bg-gray-700/20 dark:text-gray-400"}},n=i=>{switch(i==null?void 0:i.toLowerCase()){case"completed":return"Clean";case"completedwiththreats":return"Findings Detected";case"running":return"Scanning";case"failed":return"Failed";case"cancelled":return"Cancelled";default:return i}},a=i=>(i/1073741824).toFixed(2)+" GB";return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Basic Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Scan ID"}),s.jsx("p",{className:"text-sm text-gray-900 dark:text-white font-mono",children:e.id})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Scan Type"}),s.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:e.scanType})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Status"}),s.jsx("div",{className:`inline-flex items-center space-x-2 px-2.5 py-1 rounded-full text-xs font-medium ${r(e.status)}`,children:s.jsx("span",{children:n(e.status)})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Risk Level"}),s.jsx("p",{className:`text-sm font-bold ${t(e.riskLevel)}`,children:e.riskLevel})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Start Time"}),s.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:new Date(e.startTime).toLocaleString()})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"End Time"}),s.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:e.endTime?new Date(e.endTime).toLocaleString():"N/A"})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Scan Statistics"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Files Scanned"}),s.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:e.filesScanned.toLocaleString()})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Directories"}),s.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:e.directoriesScanned.toLocaleString()})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Data Scanned"}),s.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:a(e.bytesScanned)})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Duration"}),s.jsxs("div",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:[Math.round(e.duration)," min"]})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Security Analysis"}),e.threatsFound===0?s.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(rr,{className:"h-6 w-6 text-green-600 dark:text-green-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-bold text-green-900 dark:text-green-300",children:"System Clean"}),s.jsx("p",{className:"text-xs text-green-700 dark:text-green-400",children:"No security findings detected"})]})]})}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(bt,{className:"h-6 w-6 text-orange-600 dark:text-orange-400"}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-bold text-orange-900 dark:text-orange-300",children:[e.threatsFound," Security Finding",e.threatsFound!==1?"s":""," Detected"]}),s.jsxs("p",{className:"text-xs text-orange-700 dark:text-orange-400",children:[e.malwareDetected+e.backdoorsDetected>0&&s.jsxs("span",{className:"font-medium",children:[e.malwareDetected+e.backdoorsDetected," threat",e.malwareDetected+e.backdoorsDetected!==1?"s":""," (",e.malwareDetected," malware, ",e.backdoorsDetected," backdoors)"]}),e.malwareDetected+e.backdoorsDetected>0&&e.suspiciousFiles>0&&", ",e.suspiciousFiles>0&&`${e.suspiciousFiles} suspicious file${e.suspiciousFiles!==1?"s":""}`]})]})]})}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-4 text-center border border-red-200 dark:border-red-800",children:[s.jsx("div",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:e.malwareDetected}),s.jsx("div",{className:"text-xs text-red-700 dark:text-red-400 font-medium",children:"Malware"})]}),s.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-4 text-center border border-red-200 dark:border-red-800",children:[s.jsx("div",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:e.backdoorsDetected}),s.jsx("div",{className:"text-xs text-red-700 dark:text-red-400 font-medium",children:"Backdoors"})]}),s.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 rounded-lg p-4 text-center border border-yellow-200 dark:border-yellow-800",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:e.suspiciousFiles}),s.jsx("div",{className:"text-xs text-yellow-700 dark:text-yellow-400 font-medium",children:"Suspicious"})]})]})]})]}),e.summary&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Summary"}),s.jsx("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:s.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:e.summary})})]}),e.errorMessage&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Error Details"}),s.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:s.jsx("p",{className:"text-sm text-red-900 dark:text-red-300 font-mono",children:e.errorMessage})})]})]})}const xS=(e,t)=>{if(t)return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200 border-green-300";switch(e==null?void 0:e.toLowerCase()){case"error":case"failed":case"down":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200 border-red-300";case"warning":case"degraded":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200 border-yellow-300";default:return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200 border-blue-300"}},yS=(e,t)=>{if(t)return s.jsx(rr,{className:"h-4 w-4"});switch(e==null?void 0:e.toLowerCase()){case"error":case"failed":case"down":return s.jsx(cn,{className:"h-4 w-4"});case"warning":case"degraded":return s.jsx(bt,{className:"h-4 w-4"});default:return s.jsx(Xl,{className:"h-4 w-4"})}},vS=e=>{const t=(e==null?void 0:e.toLowerCase())||"";return t.includes("qdrant")||t.includes("vector")||t.includes("database")?s.jsx(F1,{className:"h-5 w-5"}):t.includes("ollama")||t.includes("llm")||t.includes("ai")?s.jsx(dh,{className:"h-5 w-5"}):t.includes("security")||t.includes("detector")||t.includes("yara")?s.jsx(Le,{className:"h-5 w-5"}):t.includes("cloud")||t.includes("connector")||t.includes("threat")?s.jsx(A1,{className:"h-5 w-5"}):t.includes("event")||t.includes("log")||t.includes("collector")?s.jsx(jn,{className:"h-5 w-5"}):t.includes("storage")||t.includes("disk")?s.jsx(kx,{className:"h-5 w-5"}):t.includes("performance")||t.includes("monitor")?s.jsx(uh,{className:"h-5 w-5"}):s.jsx(eo,{className:"h-5 w-5"})},bS=e=>e<=50?"text-green-600 dark:text-green-400":e<=150?"text-blue-600 dark:text-blue-400":e<=500?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400",kS=e=>e<=50?"Excellent":e<=150?"Good":e<=500?"Fair":"Poor",wS=e=>{const t=parseFloat(e.replace("%",""));return t>=99?"text-green-600 dark:text-green-400":t>=95?"text-blue-600 dark:text-blue-400":t>=90?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400"};function jS(){const{token:e,loading:t}=kt(),r=ct();w.useEffect(()=>{!t&&!e&&r("/login")},[e,t,r]);const n=Fe({queryKey:["system-status"],queryFn:async()=>{const l=await fetch("/api/system-status",{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!l.ok)throw new Error("Failed to fetch system status");const o=await l.json();console.log("[SystemStatus] Raw API response:",o);const c=o.data||o;return Array.isArray(c)?c:Array.isArray(o)?o:(console.warn("[SystemStatus] Response is not an array:",c),[])},enabled:!t&&!!e,refetchInterval:3e4}),a=Array.isArray(n.data)?n.data:[],i={total:a.length,healthy:a.filter(l=>l.isHealthy).length,warning:a.filter(l=>{var o;return((o=l.status)==null?void 0:o.toLowerCase())==="warning"||l.warningCount>0}).length,error:a.filter(l=>{var o;return!l.isHealthy&&((o=l.status)==null?void 0:o.toLowerCase())==="error"}).length,avgResponseTime:a.length>0?Math.round(a.reduce((l,o)=>l+o.responseTime,0)/a.length):0};return n.isLoading?s.jsx(ua,{}):s.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"px-8 py-6 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"System Status"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Platform health and component monitoring"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-green-600 dark:text-green-400",children:[s.jsx(K1,{className:"h-5 w-5"}),s.jsx("span",{className:"text-sm font-medium",children:"Live Monitoring"})]}),s.jsxs("button",{onClick:()=>n.refetch(),disabled:n.isRefetching,className:"px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 flex items-center gap-2",children:[s.jsx(Zl,{className:`h-4 w-4 ${n.isRefetching?"animate-spin":""}`}),"Refresh"]})]})]})}),s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(eo,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"}),s.jsx("span",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:i.total})]}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Components"})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(rr,{className:"h-8 w-8 text-green-600 dark:text-green-400"}),s.jsx("span",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:i.healthy})]}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Healthy"})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(bt,{className:"h-8 w-8 text-yellow-600 dark:text-yellow-400"}),s.jsx("span",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:i.warning})]}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Warnings"})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(cn,{className:"h-8 w-8 text-red-600 dark:text-red-400"}),s.jsx("span",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:i.error})]}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Errors"})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(dh,{className:"h-8 w-8 text-purple-600 dark:text-purple-400"}),s.jsxs("span",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:[i.avgResponseTime,"ms"]})]}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avg Response"})]})]}),n.isLoading?s.jsx("div",{className:"space-y-4",children:[...Array(4)].map((l,o)=>s.jsx("div",{className:"h-32 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 animate-pulse"},o))}):a.length===0?s.jsxs("div",{className:"text-center py-12 bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700",children:[s.jsx(eo,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Components Found"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"System status data is not available"})]}):s.jsx("div",{className:"space-y-4",children:a.map(l=>s.jsx("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6 hover:shadow-lg transition-shadow",children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:vS(l.component)}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:l.component}),s.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-semibold border flex items-center gap-1 ${xS(l.status,l.isHealthy)}`,children:[yS(l.status,l.isHealthy),l.status]})]}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4",children:l.details}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Last Check"}),s.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white mt-1",children:new Date(l.lastCheck).toLocaleTimeString()})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Response Time"}),s.jsxs("p",{className:`text-sm font-semibold mt-1 ${bS(l.responseTime)}`,children:[l.responseTime,"ms",s.jsxs("span",{className:"text-xs ml-1 font-normal",children:["(",kS(l.responseTime),")"]})]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Uptime"}),s.jsx("p",{className:`text-sm font-semibold mt-1 ${wS(l.uptime)}`,children:l.uptime})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Errors"}),s.jsx("p",{className:`text-sm font-semibold mt-1 ${l.errorCount>0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:l.errorCount})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Warnings"}),s.jsx("p",{className:`text-sm font-semibold mt-1 ${l.warningCount>0?"text-yellow-600 dark:text-yellow-400":"text-green-600 dark:text-green-400"}`,children:l.warningCount})]})]})]})})},l.id))})]})]})}function SS({config:e,onSave:t,isSaving:r}){const n={autoUpdate:{enabled:!1,updateFrequencyDays:7,lastUpdate:null,nextUpdate:null},sources:{enabled:!0,urls:["https://raw.githubusercontent.com/Yara-Rules/rules/master/malware/APT_APT1.yar","https://raw.githubusercontent.com/Neo23x0/signature-base/master/yara/apt_cobalt_strike.yar","https://raw.githubusercontent.com/Yara-Rules/rules/master/malware/MALW_Zeus.yar"],maxRulesPerSource:50},rules:{enabledByDefault:!0,autoValidation:!0,performanceThresholdMs:1e3},import:{lastImportDate:null,totalRules:0,enabledRules:0,failedRules:0}},[a,i]=w.useState(n),[l,o]=w.useState(!1),{token:c}=kt();w.useEffect(()=>{e&&e.autoUpdate&&e.sources&&e.rules&&e.import?i({autoUpdate:{...n.autoUpdate,...e.autoUpdate},sources:{...n.sources,...e.sources},rules:{...n.rules,...e.rules},import:{...n.import,...e.import}}):i(n)},[e]);const u=y=>{y.preventDefault(),t(a)},h=async()=>{o(!0);try{const y=await fetch("/api/yara-configuration/import",{method:"POST",headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"}});if(y.ok){const v=await y.json(),S=v.data||v;i(m=>({...m,import:{lastImportDate:new Date().toISOString(),totalRules:S.totalRules||S.importedCount||m.import.totalRules,enabledRules:S.enabledRules||S.importedCount||m.import.enabledRules,failedRules:S.failedRules||S.failedCount||0}}))}}catch(y){console.error("Error importing YARA rules:",y)}finally{o(!1)}},d=()=>{i({...a,sources:{...a.sources,urls:[...a.sources.urls,""]}})},g=y=>{i({...a,sources:{...a.sources,urls:a.sources.urls.filter((v,S)=>S!==y)}})},f=(y,v)=>{const S=[...a.sources.urls];S[y]=v,i({...a,sources:{...a.sources,urls:S}})};return s.jsxs("form",{onSubmit:u,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Zl,{className:"h-5 w-5 text-blue-600"}),s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Auto Update Settings"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:a.autoUpdate.enabled,onChange:y=>i({...a,autoUpdate:{...a.autoUpdate,enabled:y.target.checked}}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Enable automatic rule updates"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Update Frequency (days)"}),s.jsx("input",{type:"number",min:"1",max:"365",value:a.autoUpdate.updateFrequencyDays,onChange:y=>i({...a,autoUpdate:{...a.autoUpdate,updateFrequencyDays:parseInt(y.target.value)||7}}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"How often to check for new YARA rules (1-365 days)"})]}),a.autoUpdate.lastUpdate&&s.jsx("div",{className:"bg-blue-50 border border-blue-200 dark:bg-blue-900/20 dark:border-blue-800 rounded-lg p-3",children:s.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[s.jsx("strong",{children:"Last Update:"})," ",new Date(a.autoUpdate.lastUpdate).toLocaleString()]})})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Fu,{className:"h-5 w-5 text-blue-600"}),s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Rule Sources"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:a.sources.enabled,onChange:y=>i({...a,sources:{...a.sources,enabled:y.target.checked}}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Enable rule source downloads"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Max Rules Per Source"}),s.jsx("input",{type:"number",min:"1",max:"1000",value:a.sources.maxRulesPerSource,onChange:y=>i({...a,sources:{...a.sources,maxRulesPerSource:parseInt(y.target.value)||50}}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Maximum rules to import from each source"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Active Sources: ",a.sources.urls.length," configured"]}),s.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto pr-2",children:a.sources.urls.map((y,v)=>s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"url",placeholder:`Source ${v+1}`,value:y,onChange:S=>f(v,S.target.value),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-xs"}),s.jsx("button",{type:"button",onClick:()=>g(v),disabled:a.sources.urls.length<=1,className:"px-3 py-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(Po,{className:"h-4 w-4"})})]},v))}),s.jsxs("button",{type:"button",onClick:d,className:"mt-2 flex items-center gap-2 px-3 py-2 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg text-sm",children:[s.jsx(Jl,{className:"h-4 w-4"}),"Add Source"]})]})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Import Statistics"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Rules:"}),s.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200 rounded-full font-semibold",children:a.import.totalRules})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Enabled Rules:"}),s.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200 rounded-full font-semibold",children:a.import.enabledRules})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Failed Rules:"}),s.jsx("span",{className:`px-3 py-1 rounded-full font-semibold ${a.import.failedRules>0?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-400"}`,children:a.import.failedRules})]}),a.import.lastImportDate&&s.jsxs("div",{className:"pt-3 border-t border-gray-200 dark:border-gray-700",children:[s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Last Import Date:"}),s.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white mt-1",children:new Date(a.import.lastImportDate).toLocaleString()})]})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[s.jsx("button",{type:"button",onClick:h,disabled:l,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-green-600 text-white hover:bg-green-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:l?s.jsxs(s.Fragment,{children:[s.jsx(Zl,{className:"h-5 w-5 animate-spin"}),"Importing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Fu,{className:"h-5 w-5"}),"Import YARA Rules"]})}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 text-center",children:"Download and import YARA rules from all configured sources"})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Rule Settings"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:a.rules.enabledByDefault,onChange:y=>i({...a,rules:{...a.rules,enabledByDefault:y.target.checked}}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Enable rules by default"})]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:a.rules.autoValidation,onChange:y=>i({...a,rules:{...a.rules,autoValidation:y.target.checked}}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Auto-validate rules"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Performance Threshold (ms)"}),s.jsx("input",{type:"number",min:"100",max:"10000",value:a.rules.performanceThresholdMs,onChange:y=>i({...a,rules:{...a.rules,performanceThresholdMs:parseInt(y.target.value)||1e3}}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Warn if rule execution exceeds this threshold"})]})]})]})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsxs("button",{type:"submit",disabled:r,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white hover:bg-blue-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(hs,{className:"h-4 w-4"}),r?"Saving...":"Save YARA Configuration"]})})]})}function NS({className:e="h-6 w-6"}){return s.jsx("img",{src:"/microsoft-teams-1.svg",alt:"Microsoft Teams",className:e})}function CS({className:e="h-6 w-6"}){return s.jsx("img",{src:"/slack-new-logo.svg",alt:"Slack",className:e})}const ES=[{id:"threat-intelligence",label:"Threat Intelligence",icon:Le},{id:"notifications",label:"Notifications",icon:yx},{id:"ip-enrichment",label:"IP Enrichment",icon:bx},{id:"malware",label:"Malware Rules",icon:_o},{id:"mitre",label:"MITRE Techniques",icon:To},{id:"threat-scanner",label:"Threat Scanner",icon:jn},{id:"performance",label:"Performance",icon:ch,disabled:!0}];function _S(){const{token:e,loading:t}=kt(),r=ct(),n=Ht(),[a,i]=w.useState("threat-intelligence"),[l,o]=w.useState(!1),[c,u]=w.useState(!1);w.useEffect(()=>{!t&&!e&&r("/login")},[e,t,r]);const h=a!=="mitre"&&a!=="threat-scanner"&&a!=="performance",d=Fe({queryKey:["configuration",a],queryFn:async()=>{const v=await fetch(`/api${{"threat-intelligence":"/settings/threat-intelligence",notifications:"/notifications/config","ip-enrichment":"/settings/ip-enrichment",malware:"/yara-configuration",mitre:"/mitre/config","threat-scanner":"/threat-scanner/config",performance:"/performance/config"}[a]}`,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!v.ok)throw new Error("Failed to fetch configuration");const S=await v.json();if(a==="notifications"){const m=S.data||[];return m.length>0?m[0]:null}return S.data||S},enabled:!t&&!!e&&h}),g=mr({mutationFn:async y=>{const v={"threat-intelligence":"/settings/threat-intelligence",notifications:"/notifications/config","ip-enrichment":"/settings/ip-enrichment",malware:"/yara-configuration",mitre:"/mitre/config","threat-scanner":"/threat-scanner/config",performance:"/performance/config"};if(a==="notifications"){const m=y.id?"PUT":"POST",p=y.id?`/api${v[a]}/${y.id}`:`/api${v[a]}`,x=await fetch(p,{method:m,headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify(y)});if(!x.ok)throw new Error("Failed to save configuration");return x.json()}const S=await fetch(`/api${v[a]}`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify(y)});if(!S.ok)throw new Error("Failed to save configuration");return S.json()},onSuccess:()=>{n.invalidateQueries({queryKey:["configuration",a]}),u(!0),setTimeout(()=>u(!1),3e3)}}),f=y=>{g.mutate(y)};return s.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"px-8 py-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(ch,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"System Configuration"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Configure integrations and platform settings"})]})]}),s.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:ES.map(y=>s.jsxs("button",{onClick:()=>!y.disabled&&i(y.id),disabled:y.disabled,className:`flex items-center gap-2 px-4 py-2 rounded-lg whitespace-nowrap transition-colors ${a===y.id?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-200":y.disabled?"text-gray-400 dark:text-gray-600 cursor-not-allowed":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[s.jsx(y.icon,{className:"h-4 w-4"}),y.label]},y.id))})]})}),s.jsxs("div",{className:"p-8 max-w-6xl mx-auto",children:[c&&s.jsxs("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-lg p-4 flex items-center gap-2",children:[s.jsx(lh,{className:"h-5 w-5 text-green-600"}),s.jsx("span",{className:"text-green-800 font-medium",children:"Configuration saved successfully!"})]}),h&&d.isLoading?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):h&&d.isError?s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 flex items-start gap-3",children:[s.jsx(pr,{className:"h-5 w-5 text-red-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-red-800 font-medium",children:"Failed to load configuration"}),s.jsx("p",{className:"text-red-700 text-sm mt-1",children:d.error.message})]})]}):s.jsxs(s.Fragment,{children:[a==="threat-intelligence"&&s.jsx(TS,{config:d.data,onSave:f,showApiKeys:l,onToggleApiKeys:()=>o(!l),isSaving:g.isPending}),a==="notifications"&&s.jsx(PS,{config:d.data,onSave:f,showApiKeys:l,onToggleApiKeys:()=>o(!l),isSaving:g.isPending}),a==="ip-enrichment"&&s.jsx(IS,{config:d.data,onSave:f,showApiKeys:l,onToggleApiKeys:()=>o(!l),isSaving:g.isPending}),a==="malware"&&s.jsx(SS,{config:d.data,onSave:f,isSaving:g.isPending}),a==="mitre"&&s.jsx(RS,{onSaveSuccess:()=>{u(!0),setTimeout(()=>u(!1),3e3)}}),a==="threat-scanner"&&s.jsx(MS,{})]})]})]})}function TS({config:e,onSave:t,showApiKeys:r,onToggleApiKeys:n,isSaving:a}){const i={virusTotal:{enabled:!1,apiKey:"",rateLimitPerMinute:4,cacheEnabled:!0,cacheTtlMinutes:60},malwareBazaar:{enabled:!1,rateLimitPerMinute:10,cacheEnabled:!0,cacheTtlMinutes:60},alienVaultOtx:{enabled:!1,apiKey:"",rateLimitPerMinute:10,cacheEnabled:!0,cacheTtlMinutes:60}},[l,o]=w.useState(i);w.useEffect(()=>{e&&e.virusTotal&&e.malwareBazaar&&e.alienVaultOtx?o({virusTotal:{...i.virusTotal,...e.virusTotal},malwareBazaar:{...i.malwareBazaar,...e.malwareBazaar},alienVaultOtx:{...i.alienVaultOtx,...e.alienVaultOtx}}):o(i)},[e]);const c=u=>{u.preventDefault(),t(l)};return s.jsxs("form",{onSubmit:c,className:"space-y-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"VirusTotal"}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.virusTotal.enabled,onChange:u=>o({...l,virusTotal:{...l.virusTotal,enabled:u.target.checked}}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Enabled"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"API Key"}),s.jsx("input",{type:r?"text":"password",value:l.virusTotal.apiKey,onChange:u=>o({...l,virusTotal:{...l.virusTotal,apiKey:u.target.value}}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Enter VirusTotal API key"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Rate Limit (per minute)"}),s.jsx("input",{type:"number",value:l.virusTotal.rateLimitPerMinute,onChange:u=>o({...l,virusTotal:{...l.virusTotal,rateLimitPerMinute:parseInt(u.target.value)}}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.virusTotal.cacheEnabled,onChange:u=>o({...l,virusTotal:{...l.virusTotal,cacheEnabled:u.target.checked}}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Cache Enabled"})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Cache TTL (minutes)"}),s.jsx("input",{type:"number",value:l.virusTotal.cacheTtlMinutes,onChange:u=>o({...l,virusTotal:{...l.virusTotal,cacheTtlMinutes:parseInt(u.target.value)}}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"MalwareBazaar"}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.malwareBazaar.enabled,onChange:u=>o({...l,malwareBazaar:{...l.malwareBazaar,enabled:u.target.checked}}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Enabled"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Rate Limit (per minute)"}),s.jsx("input",{type:"number",value:l.malwareBazaar.rateLimitPerMinute,onChange:u=>o({...l,malwareBazaar:{...l.malwareBazaar,rateLimitPerMinute:parseInt(u.target.value)}}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.malwareBazaar.cacheEnabled,onChange:u=>o({...l,malwareBazaar:{...l.malwareBazaar,cacheEnabled:u.target.checked}}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Cache Enabled"})]})})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"AlienVault OTX"}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.alienVaultOtx.enabled,onChange:u=>o({...l,alienVaultOtx:{...l.alienVaultOtx,enabled:u.target.checked}}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Enabled"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"API Key"}),s.jsx("input",{type:r?"text":"password",value:l.alienVaultOtx.apiKey,onChange:u=>o({...l,alienVaultOtx:{...l.alienVaultOtx,apiKey:u.target.value}}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Enter AlienVault OTX API key"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Rate Limit (per minute)"}),s.jsx("input",{type:"number",value:l.alienVaultOtx.rateLimitPerMinute,onChange:u=>o({...l,alienVaultOtx:{...l.alienVaultOtx,rateLimitPerMinute:parseInt(u.target.value)}}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("button",{type:"button",onClick:n,className:"flex items-center gap-2 px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:[r?s.jsx(oh,{className:"h-4 w-4"}):s.jsx(Eo,{className:"h-4 w-4"}),r?"Hide":"Show"," API Keys"]}),s.jsxs("button",{type:"submit",disabled:a,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white hover:bg-blue-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(hs,{className:"h-4 w-4"}),a?"Saving...":"Save Configuration"]})]})]})}function PS({config:e,onSave:t,showApiKeys:r,onToggleApiKeys:n,isSaving:a}){const i={id:void 0,name:"Default Notification Configuration",teams:{enabled:!1,webhookUrl:"",castellanUrl:"http://localhost:3000",rateLimitSettings:{criticalThrottleMinutes:0,highThrottleMinutes:5,mediumThrottleMinutes:15,lowThrottleMinutes:60}},slack:{enabled:!1,webhookUrl:"",castellanUrl:"http://localhost:3000",defaultChannel:"#security-alerts",criticalChannel:"",highChannel:"",rateLimitSettings:{criticalThrottleMinutes:0,highThrottleMinutes:5,mediumThrottleMinutes:15,lowThrottleMinutes:60}}},[l,o]=w.useState(i);w.useEffect(()=>{e&&e.teams&&e.slack?o({id:e.id,name:e.name||i.name,teams:{...i.teams,...e.teams,rateLimitSettings:{...i.teams.rateLimitSettings,...e.teams.rateLimitSettings}},slack:{...i.slack,...e.slack,rateLimitSettings:{...i.slack.rateLimitSettings,...e.slack.rateLimitSettings}}}):o(i)},[e]);const c=u=>{u.preventDefault(),t(l)};return s.jsxs("form",{onSubmit:c,className:"space-y-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(NS,{className:"h-6 w-6"}),s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Microsoft Teams"})]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.teams.enabled,onChange:u=>o({...l,teams:{...l.teams,enabled:u.target.checked}}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Enabled"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Webhook URL"}),s.jsx("input",{type:r?"text":"password",value:l.teams.webhookUrl,onChange:u=>o({...l,teams:{...l.teams,webhookUrl:u.target.value}}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"https://outlook.office.com/webhook/..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Castellan URL"}),s.jsx("input",{type:"text",value:l.teams.castellanUrl,onChange:u=>o({...l,teams:{...l.teams,castellanUrl:u.target.value}}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"http://localhost:3000"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Base URL for Castellan instance (used in notification links)"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Rate Limit Settings (minutes between alerts)"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Critical"}),s.jsx("input",{type:"number",min:"0",value:l.teams.rateLimitSettings.criticalThrottleMinutes,onChange:u=>o({...l,teams:{...l.teams,rateLimitSettings:{...l.teams.rateLimitSettings,criticalThrottleMinutes:parseInt(u.target.value)||0}}}),className:"w-full px-2 py-1 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-400 mb-1",children:"High"}),s.jsx("input",{type:"number",min:"0",value:l.teams.rateLimitSettings.highThrottleMinutes,onChange:u=>o({...l,teams:{...l.teams,rateLimitSettings:{...l.teams.rateLimitSettings,highThrottleMinutes:parseInt(u.target.value)||0}}}),className:"w-full px-2 py-1 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Medium"}),s.jsx("input",{type:"number",min:"0",value:l.teams.rateLimitSettings.mediumThrottleMinutes,onChange:u=>o({...l,teams:{...l.teams,rateLimitSettings:{...l.teams.rateLimitSettings,mediumThrottleMinutes:parseInt(u.target.value)||0}}}),className:"w-full px-2 py-1 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Low"}),s.jsx("input",{type:"number",min:"0",value:l.teams.rateLimitSettings.lowThrottleMinutes,onChange:u=>o({...l,teams:{...l.teams,rateLimitSettings:{...l.teams.rateLimitSettings,lowThrottleMinutes:parseInt(u.target.value)||0}}}),className:"w-full px-2 py-1 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm"})]})]})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(CS,{className:"h-6 w-6"}),s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Slack"})]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.slack.enabled,onChange:u=>o({...l,slack:{...l.slack,enabled:u.target.checked}}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Enabled"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Webhook URL"}),s.jsx("input",{type:r?"text":"password",value:l.slack.webhookUrl,onChange:u=>o({...l,slack:{...l.slack,webhookUrl:u.target.value}}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"https://hooks.slack.com/services/..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Castellan URL"}),s.jsx("input",{type:"text",value:l.slack.castellanUrl,onChange:u=>o({...l,slack:{...l.slack,castellanUrl:u.target.value}}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"http://localhost:3000"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Base URL for Castellan instance (used in notification links)"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Default Channel"}),s.jsx("input",{type:"text",value:l.slack.defaultChannel,onChange:u=>o({...l,slack:{...l.slack,defaultChannel:u.target.value}}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"#security-alerts"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Critical Channel"}),s.jsx("input",{type:"text",value:l.slack.criticalChannel,onChange:u=>o({...l,slack:{...l.slack,criticalChannel:u.target.value}}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"#critical-alerts"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Optional"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"High Priority Channel"}),s.jsx("input",{type:"text",value:l.slack.highChannel,onChange:u=>o({...l,slack:{...l.slack,highChannel:u.target.value}}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"#high-alerts"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Optional"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Rate Limit Settings (minutes between alerts)"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Critical"}),s.jsx("input",{type:"number",min:"0",value:l.slack.rateLimitSettings.criticalThrottleMinutes,onChange:u=>o({...l,slack:{...l.slack,rateLimitSettings:{...l.slack.rateLimitSettings,criticalThrottleMinutes:parseInt(u.target.value)||0}}}),className:"w-full px-2 py-1 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-400 mb-1",children:"High"}),s.jsx("input",{type:"number",min:"0",value:l.slack.rateLimitSettings.highThrottleMinutes,onChange:u=>o({...l,slack:{...l.slack,rateLimitSettings:{...l.slack.rateLimitSettings,highThrottleMinutes:parseInt(u.target.value)||0}}}),className:"w-full px-2 py-1 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Medium"}),s.jsx("input",{type:"number",min:"0",value:l.slack.rateLimitSettings.mediumThrottleMinutes,onChange:u=>o({...l,slack:{...l.slack,rateLimitSettings:{...l.slack.rateLimitSettings,mediumThrottleMinutes:parseInt(u.target.value)||0}}}),className:"w-full px-2 py-1 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Low"}),s.jsx("input",{type:"number",min:"0",value:l.slack.rateLimitSettings.lowThrottleMinutes,onChange:u=>o({...l,slack:{...l.slack,rateLimitSettings:{...l.slack.rateLimitSettings,lowThrottleMinutes:parseInt(u.target.value)||0}}}),className:"w-full px-2 py-1 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm"})]})]})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("button",{type:"button",onClick:n,className:"flex items-center gap-2 px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:[r?s.jsx(oh,{className:"h-4 w-4"}):s.jsx(Eo,{className:"h-4 w-4"}),r?"Hide":"Show"," Webhook URLs"]}),s.jsxs("button",{type:"submit",disabled:a,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white hover:bg-blue-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(hs,{className:"h-4 w-4"}),a?"Saving...":"Save Configuration"]})]})]})}function IS({config:e,onSave:t,showApiKeys:r,onToggleApiKeys:n,isSaving:a}){const i={enabled:!1,provider:"Disabled",maxMind:{licenseKey:"",accountId:"",autoUpdate:!1,updateFrequencyDays:7},ipInfo:{apiKey:""}},[l,o]=w.useState(i);w.useEffect(()=>{e&&typeof e.enabled<"u"&&e.maxMind&&e.ipInfo?o({...i,...e,maxMind:{...i.maxMind,...e.maxMind},ipInfo:{...i.ipInfo,...e.ipInfo}}):o(i)},[e]);const c=u=>{u.preventDefault(),t(l)};return s.jsxs("form",{onSubmit:c,className:"space-y-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"General Settings"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.enabled,onChange:u=>o({...l,enabled:u.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Enable IP Enrichment"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Provider"}),s.jsxs("select",{value:l.provider,onChange:u=>o({...l,provider:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[s.jsx("option",{value:"Disabled",children:"Disabled"}),s.jsx("option",{value:"MaxMind",children:"MaxMind GeoIP2"}),s.jsx("option",{value:"IPInfo",children:"IPInfo"})]})]})]})]}),l.provider==="MaxMind"&&s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"MaxMind Configuration"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"License Key"}),s.jsx("input",{type:r?"text":"password",value:l.maxMind.licenseKey,onChange:u=>o({...l,maxMind:{...l.maxMind,licenseKey:u.target.value}}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Enter MaxMind license key"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Account ID"}),s.jsx("input",{type:"text",value:l.maxMind.accountId,onChange:u=>o({...l,maxMind:{...l.maxMind,accountId:u.target.value}}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Enter account ID"})]}),s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.maxMind.autoUpdate,onChange:u=>o({...l,maxMind:{...l.maxMind,autoUpdate:u.target.checked}}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Auto Update"})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Update Frequency (days)"}),s.jsx("input",{type:"number",value:l.maxMind.updateFrequencyDays,onChange:u=>o({...l,maxMind:{...l.maxMind,updateFrequencyDays:parseInt(u.target.value)}}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]})]}),l.provider==="IPInfo"&&s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"IPInfo Configuration"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"API Key"}),s.jsx("input",{type:r?"text":"password",value:l.ipInfo.apiKey,onChange:u=>o({...l,ipInfo:{...l.ipInfo,apiKey:u.target.value}}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Enter IPInfo API key"})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("button",{type:"button",onClick:n,className:"flex items-center gap-2 px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:[r?s.jsx(oh,{className:"h-4 w-4"}):s.jsx(Eo,{className:"h-4 w-4"}),r?"Hide":"Show"," API Keys"]}),s.jsxs("button",{type:"submit",disabled:a,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white hover:bg-blue-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(hs,{className:"h-4 w-4"}),a?"Saving...":"Save Configuration"]})]})]})}function MS(){var A,Q;const{token:e}=kt(),t=Ht(),[r,n]=w.useState(""),[a,i]=w.useState(""),[l,o]=w.useState(!1),[c,u]=w.useState(null),h={enabled:!1,scheduledScanInterval:"1.00:00:00",defaultScanType:0,quarantineThreats:!1,quarantineDirectory:"C:\\Castellan\\Quarantine",maxFileSizeMB:100,maxConcurrentFiles:10,notificationThreshold:2,excludedDirectories:[],excludedExtensions:[],enableRealTimeProtection:!1},[d,g]=w.useState(h),f=Fe({queryKey:["threat-scanner-config"],queryFn:async()=>{console.log("[ThreatScanner] Fetching config from API...");const L=await fetch("/api/scheduledscan/config",{headers:{Authorization:`Bearer ${e}`}});if(!L.ok)throw new Error("Failed to fetch scanner config");const O=await L.json(),q=O.data||O;console.log("[ThreatScanner] Raw config from API:",q);const te={enabled:q.enabled??!1,scheduledScanInterval:q.scheduledScanInterval||"1.00:00:00",defaultScanType:q.defaultScanType??0,quarantineThreats:q.quarantineThreats??!1,quarantineDirectory:q.quarantineDirectory||"",maxFileSizeMB:q.maxFileSizeMB??100,maxConcurrentFiles:q.maxConcurrentFiles??10,notificationThreshold:q.notificationThreshold??2,excludedDirectories:q.excludedDirectories||[],excludedExtensions:q.excludedExtensions||[],enableRealTimeProtection:q.enableRealTimeProtection??!1};return console.log("[ThreatScanner] Normalized config:",te),te},enabled:!!e});w.useEffect(()=>{f.data&&(console.log("[ThreatScanner] useEffect updating formData with:",f.data),g(f.data))},[f.data]);const y=Fe({queryKey:["threat-scanner-status"],queryFn:async()=>{const L=await fetch("/api/scheduledscan/status",{headers:{Authorization:`Bearer ${e}`}});if(!L.ok)throw new Error("Failed to fetch scanner status");const O=await L.json();return O.data||O},enabled:!!e,refetchInterval:3e4}),v=mr({mutationFn:async L=>{console.log("[ThreatScanner] Saving config:",L);const O={Enabled:L.enabled,ScheduledScanInterval:L.scheduledScanInterval,DefaultScanType:L.defaultScanType,QuarantineThreats:L.quarantineThreats,QuarantineDirectory:L.quarantineDirectory,MaxFileSizeMB:L.maxFileSizeMB,MaxConcurrentFiles:L.maxConcurrentFiles,NotificationThreshold:L.notificationThreshold,ExcludedDirectories:L.excludedDirectories,ExcludedExtensions:L.excludedExtensions,EnableRealTimeProtection:L.enableRealTimeProtection};console.log("[ThreatScanner] Sending to backend:",O);const q=await fetch("/api/scheduledscan/config",{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify(O)});if(console.log("[ThreatScanner] Response status:",q.status),!q.ok){const _=await q.text();throw console.error("[ThreatScanner] Save failed:",_),new Error("Failed to save configuration")}const te=await q.json();return console.log("[ThreatScanner] Save successful, response:",te),te},onSuccess:()=>{console.log("[ThreatScanner] Save mutation onSuccess, invalidating queries..."),t.invalidateQueries({queryKey:["threat-scanner-config"]}),o(!0),u(null),setTimeout(()=>o(!1),3e3)},onError:L=>{console.error("[ThreatScanner] Save mutation onError:",L),u(L.message),o(!1)}}),S=y.data||{isEnabled:!1,lastScanTime:null,nextScanTime:null,currentStatus:"Idle"},m=L=>{if(!L)return{days:1,hours:0};const O=L.split(":");if(O.length===3){const[q,te]=O[0].split(".");return{days:parseInt(q||"0",10),hours:parseInt(O[0].includes(".")?te:O[0],10)}}return{days:1,hours:0}},p=(L,O)=>`${L}.${O.toString().padStart(2,"0")}:00:00`,[x,b]=w.useState(m(d.scheduledScanInterval||"1.00:00:00").days),[j,C]=w.useState(m(d.scheduledScanInterval||"1.00:00:00").hours);w.useEffect(()=>{const L=m(d.scheduledScanInterval);b(L.days),C(L.hours)},[d.scheduledScanInterval]);const T=L=>{L.preventDefault();const O={...d,scheduledScanInterval:p(x,j)};v.mutate(O)},D=()=>{r.trim()&&(g({...d,excludedDirectories:[...d.excludedDirectories||[],r.trim()]}),n(""))},U=L=>{g({...d,excludedDirectories:d.excludedDirectories.filter(O=>O!==L)})},R=()=>{if(a.trim()){const L=a.trim().startsWith(".")?a.trim():`.${a.trim()}`;g({...d,excludedExtensions:[...d.excludedExtensions||[],L]}),i("")}},P=L=>{g({...d,excludedExtensions:d.excludedExtensions.filter(O=>O!==L)})};return f.isLoading||y.isLoading?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):f.isError||y.isError?s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 flex items-start gap-3",children:[s.jsx(pr,{className:"h-5 w-5 text-red-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-red-800 font-medium",children:"Failed to load configuration"}),s.jsx("p",{className:"text-red-700 text-sm mt-1",children:((A=f.error)==null?void 0:A.message)||((Q=y.error)==null?void 0:Q.message)})]})]}):s.jsxs("form",{onSubmit:T,className:"space-y-6",children:[l&&s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-center gap-2",children:[s.jsx(lh,{className:"h-5 w-5 text-green-600"}),s.jsx("span",{className:"text-green-800 font-medium",children:"Configuration saved successfully!"})]}),c&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(pr,{className:"h-5 w-5 text-red-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-red-800 font-medium",children:"Failed to save configuration"}),s.jsx("p",{className:"text-red-700 text-sm mt-1",children:c})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Scanner Status"}),s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${S.currentStatus==="Running"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-200":S.isEnabled?"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-200":"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300"}`,children:S.currentStatus||"Idle"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Last Scan"}),s.jsx("p",{className:"text-gray-900 dark:text-white",children:S.lastScanTime?new Date(S.lastScanTime).toLocaleString():"Never"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Next Scan"}),s.jsx("p",{className:"text-gray-900 dark:text-white",children:S.nextScanTime?new Date(S.nextScanTime).toLocaleString():"Not scheduled"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Scheduler Status"}),s.jsx("p",{className:"text-gray-900 dark:text-white",children:S.isEnabled?"Enabled":"Disabled"})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Scheduled Scans"}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:d.enabled,onChange:L=>g({...d,enabled:L.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Enabled"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Scan Interval (Days)"}),s.jsx("input",{type:"number",min:"0",max:"365",value:x,onChange:L=>b(parseInt(L.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Scan Interval (Hours)"}),s.jsx("input",{type:"number",min:"0",max:"23",value:j,onChange:L=>C(parseInt(L.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Default Scan Type"}),s.jsxs("select",{value:d.defaultScanType,onChange:L=>g({...d,defaultScanType:parseInt(L.target.value)}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[s.jsx("option",{value:"0",children:"Quick Scan"}),s.jsx("option",{value:"1",children:"Full Scan"})]})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Quarantine Settings"}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:d.quarantineThreats,onChange:L=>g({...d,quarantineThreats:L.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Enabled"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Quarantine Directory"}),s.jsx("input",{type:"text",value:d.quarantineDirectory||"",onChange:L=>g({...d,quarantineDirectory:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"C:\\Castellan\\Quarantine"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Suspicious files will be moved to this directory for analysis"})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Performance Settings"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Max Concurrent Files"}),s.jsx("input",{type:"number",min:"1",max:"100",value:d.maxConcurrentFiles||10,onChange:L=>g({...d,maxConcurrentFiles:parseInt(L.target.value)}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Number of files to scan simultaneously"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Max File Size (MB)"}),s.jsx("input",{type:"number",min:"1",max:"1000",value:d.maxFileSizeMB||100,onChange:L=>g({...d,maxFileSizeMB:parseInt(L.target.value)}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Skip files larger than this size"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Notification Threshold"}),s.jsx("input",{type:"number",min:"1",max:"100",value:d.notificationThreshold||10,onChange:L=>g({...d,notificationThreshold:parseInt(L.target.value)}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Notify when threats exceed this count"})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Scan Exclusions"}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Excluded Directories"}),s.jsxs("div",{className:"flex gap-2 mb-3",children:[s.jsx("input",{type:"text",value:r,onChange:L=>n(L.target.value),onKeyPress:L=>L.key==="Enter"&&D(),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"C:\\Windows\\System32"}),s.jsxs("button",{type:"button",onClick:D,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white hover:bg-blue-700 rounded-lg",children:[s.jsx(Jl,{className:"h-4 w-4"}),"Add"]})]}),s.jsxs("div",{className:"space-y-2",children:[(d.excludedDirectories||[]).map((L,O)=>s.jsxs("div",{className:"flex items-center justify-between bg-gray-50 dark:bg-gray-700 px-3 py-2 rounded-lg",children:[s.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300 font-mono",children:L}),s.jsx("button",{type:"button",onClick:()=>U(L),className:"text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300",children:s.jsx(Po,{className:"h-4 w-4"})})]},O)),(!d.excludedDirectories||d.excludedDirectories.length===0)&&s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 italic",children:"No excluded directories"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Excluded File Extensions"}),s.jsxs("div",{className:"flex gap-2 mb-3",children:[s.jsx("input",{type:"text",value:a,onChange:L=>i(L.target.value),onKeyPress:L=>L.key==="Enter"&&R(),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:".tmp, .log"}),s.jsxs("button",{type:"button",onClick:R,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white hover:bg-blue-700 rounded-lg",children:[s.jsx(Jl,{className:"h-4 w-4"}),"Add"]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[(d.excludedExtensions||[]).map((L,O)=>s.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 dark:bg-gray-700 px-3 py-1 rounded-full",children:[s.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300 font-mono",children:L}),s.jsx("button",{type:"button",onClick:()=>P(L),className:"text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300",children:s.jsx(Io,{className:"h-3 w-3"})})]},O)),(!d.excludedExtensions||d.excludedExtensions.length===0)&&s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 italic",children:"No excluded extensions"})]})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsxs("button",{type:"submit",disabled:v.isPending,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white hover:bg-blue-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(hs,{className:"h-4 w-4"}),v.isPending?"Saving...":"Save Configuration"]})})]})}function RS({onSaveSuccess:e}){var b,j,C,T,D,U,R,P,A,Q,L;const{token:t}=kt(),r=Ht(),n=ct(),a=Fe({queryKey:["mitre-statistics"],queryFn:async()=>{const O=await fetch("/api/mitre/statistics",{headers:{Authorization:`Bearer ${t}`}});if(!O.ok)throw new Error("Failed to fetch statistics");return await O.json()},enabled:!!t}),i=Fe({queryKey:["mitre-config"],queryFn:async()=>{const O=await fetch("/api/mitre/config",{headers:{Authorization:`Bearer ${t}`}});if(!O.ok)throw new Error("Failed to fetch MITRE config");const q=await O.json();return q.data||q},enabled:!!t}),l=mr({mutationFn:async O=>{const q=await fetch("/api/mitre/config",{method:"PUT",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify(O)});if(!q.ok)throw new Error("Failed to save configuration");return q.json()},onSuccess:()=>{r.invalidateQueries({queryKey:["mitre-config"]}),e==null||e()}}),o=i.data||{autoUpdate:{enabled:!1,updateFrequencyDays:30,lastUpdate:null,nextUpdate:null}},c=a.data||{totalTechniques:0,lastUpdated:null},[u,h]=w.useState(((b=o.autoUpdate)==null?void 0:b.enabled)||!1),[d,g]=w.useState(((j=o.autoUpdate)==null?void 0:j.updateFrequencyDays)||30);w.useEffect(()=>{var O,q;h(((O=o.autoUpdate)==null?void 0:O.enabled)||!1),g(((q=o.autoUpdate)==null?void 0:q.updateFrequencyDays)||30)},[o]);const f=()=>{var q,te;const O={autoUpdate:{enabled:u,updateFrequencyDays:d,lastUpdate:(q=o.autoUpdate)==null?void 0:q.lastUpdate,nextUpdate:(te=o.autoUpdate)==null?void 0:te.nextUpdate}};l.mutate(O)},v=fg({filters:{mutationKey:["mitre-import"],status:"pending"}}).length>0,S=mr({mutationKey:["mitre-import"],mutationFn:async()=>{const O=await fetch("/api/mitre/import",{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!O.ok)throw new Error("Failed to import MITRE techniques");return O.json()},onSuccess:()=>{r.invalidateQueries({queryKey:["mitre-statistics"]}),r.invalidateQueries({queryKey:["mitre-config"]})}}),m=()=>{S.mutate()},p=fg({filters:{mutationKey:["mitre-import"]},select:O=>({status:O.state.status,data:O.state.data,error:O.state.error})}),x=p[p.length-1];return i.isLoading||a.isLoading?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Database Statistics"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:c.totalTechniques||0}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Total Techniques"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Last Updated"}),s.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:c.lastUpdated?new Date(c.lastUpdated).toLocaleString():"Never"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Next Update"}),s.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:(C=o.autoUpdate)!=null&&C.nextUpdate?new Date(o.autoUpdate.nextUpdate).toLocaleString():"Not scheduled"})]})]}),c.totalTechniques===0&&s.jsx("div",{className:"mt-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(Xl,{className:"h-5 w-5 text-blue-600 mr-2 mt-0.5"}),s.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-300",children:'The MITRE database appears to be empty. Click "Import MITRE Techniques" to download the latest techniques from the official source.'})]})})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Auto Update Settings"}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:u,onChange:O=>h(O.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Enabled"})]})]}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Update Frequency (days)"}),s.jsx("input",{type:"number",min:"1",max:"365",value:d,onChange:O=>g(parseInt(O.target.value)||30),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Automatically check for and import new MITRE ATT&CK techniques every N days"})]})})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Manual Import"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Import MITRE ATT&CK techniques from the official MITRE repository. This will download and process all current techniques and sub-techniques."}),s.jsx("button",{onClick:m,disabled:v,className:"flex items-center gap-2 px-6 py-3 bg-green-600 text-white hover:bg-green-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium",children:v?s.jsxs(s.Fragment,{children:[s.jsx(Zl,{className:"h-5 w-5 animate-spin"}),"Importing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Fu,{className:"h-5 w-5"}),"Import MITRE Techniques"]})}),x&&x.status==="success"&&x.data?s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(lh,{className:"h-5 w-5 text-green-600 mr-2"}),s.jsx("h3",{className:"text-lg font-medium text-green-800",children:"Import Successful!"})]}),s.jsxs("div",{className:"mt-2 text-sm text-gray-700",children:[s.jsxs("p",{children:[" ",((D=(T=x.data)==null?void 0:T.result)==null?void 0:D.techniquesImported)||0," new techniques imported"]}),s.jsxs("p",{children:[" ",((R=(U=x.data)==null?void 0:U.result)==null?void 0:R.techniquesUpdated)||0," existing techniques updated"]}),((Q=(A=(P=x.data)==null?void 0:P.result)==null?void 0:A.errors)==null?void 0:Q.length)>0&&s.jsxs("p",{className:"text-yellow-700",children:[" ",x.data.result.errors.length," techniques had errors"]})]})]}):null,x&&x.status==="error"&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(pr,{className:"h-5 w-5 text-red-600 mr-2"}),s.jsx("h3",{className:"text-lg font-medium text-red-800",children:"Import Failed"})]}),s.jsx("p",{className:"mt-2 text-sm text-red-700",children:((L=x.error)==null?void 0:L.message)||"Failed to import techniques"})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Quick Links"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:()=>n("/mitre-attack"),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg transition-colors",children:[s.jsx(To,{className:"h-4 w-4"}),"Browse Techniques"]}),s.jsxs("button",{onClick:()=>window.open("https://attack.mitre.org/","_blank"),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg transition-colors",children:[s.jsx(Xl,{className:"h-4 w-4"}),"MITRE ATT&CK Framework"]})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsxs("button",{onClick:f,disabled:l.isPending,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white hover:bg-blue-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(hs,{className:"h-4 w-4"}),l.isPending?"Saving...":"Save Configuration"]})})]})}const pa={async sendMessage(e){const t=localStorage.getItem("auth_token"),r=new AbortController,n=setTimeout(()=>r.abort(),12e4);try{const a=await fetch(`${sr}/chat/message`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(e),signal:r.signal});if(clearTimeout(n),!a.ok){const l=await a.text();throw new Error(`Failed to send message: ${a.statusText} - ${l}`)}return await a.json()}catch(a){throw clearTimeout(n),a.name==="AbortError"?new Error("Request timeout - the AI is taking too long to respond. Please try again."):a}},async getConversations(){const e=localStorage.getItem("auth_token"),t=await fetch(`${sr}/chat/conversations`,{method:"GET",headers:{Authorization:`Bearer ${e}`}});if(!t.ok)throw new Error(`Failed to get conversations: ${t.statusText}`);const r=await t.json();return Array.isArray(r)?r:r.data||[]},async getConversation(e){const t=localStorage.getItem("auth_token"),r=await fetch(`${sr}/chat/conversations/${e}`,{method:"GET",headers:{Authorization:`Bearer ${t}`}});if(!r.ok)throw new Error(`Failed to get conversation: ${r.statusText}`);return await r.json()},async createConversation(){const e=localStorage.getItem("auth_token"),t=await fetch(`${sr}/chat/conversations`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({title:"New Conversation"})});if(!t.ok)throw new Error(`Failed to create conversation: ${t.statusText}`);return t.json()},async deleteConversation(e){const t=localStorage.getItem("auth_token"),r=await fetch(`${sr}/chat/conversations/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}});if(!r.ok)throw new Error(`Failed to delete conversation: ${r.statusText}`)},async archiveConversation(e){const t=localStorage.getItem("auth_token"),r=await fetch(`${sr}/chat/conversations/${e}/archive`,{method:"POST",headers:{Authorization:`Bearer ${t}`}});if(!r.ok)throw new Error(`Failed to archive conversation: ${r.statusText}`)},async getSuggestedFollowups(e){const t=localStorage.getItem("auth_token"),r=await fetch(`${sr}/chat/conversations/${e}/suggested-followups`,{method:"GET",headers:{Authorization:`Bearer ${t}`}});if(!r.ok)throw new Error(`Failed to get suggested followups: ${r.statusText}`);const n=await r.json();return Array.isArray(n)?n:n.suggestions||[]},async submitFeedback(e,t,r){const n=localStorage.getItem("auth_token"),a=await fetch(`${sr}/chat/conversations/${e}/feedback`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({rating:t,comment:r})});if(!a.ok)throw new Error(`Failed to submit feedback: ${a.statusText}`)}};function DS(e,t){const r={};return(e[e.length-1]===""?[...e,""]:e).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}const LS=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,OS=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,AS={};function Ng(e,t){return(AS.jsx?OS:LS).test(e)}const FS=/[ \t\n\f\r]/g;function zS(e){return typeof e=="object"?e.type==="text"?Cg(e.value):!1:Cg(e)}function Cg(e){return e.replace(FS,"")===""}class Pi{constructor(t,r,n){this.normal=r,this.property=t,n&&(this.space=n)}}Pi.prototype.normal={};Pi.prototype.property={};Pi.prototype.space=void 0;function Dx(e,t){const r={},n={};for(const a of e)Object.assign(r,a.property),Object.assign(n,a.normal);return new Pi(r,n,t)}function Bu(e){return e.toLowerCase()}class wt{constructor(t,r){this.attribute=r,this.property=t}}wt.prototype.attribute="";wt.prototype.booleanish=!1;wt.prototype.boolean=!1;wt.prototype.commaOrSpaceSeparated=!1;wt.prototype.commaSeparated=!1;wt.prototype.defined=!1;wt.prototype.mustUseProperty=!1;wt.prototype.number=!1;wt.prototype.overloadedBoolean=!1;wt.prototype.property="";wt.prototype.spaceSeparated=!1;wt.prototype.space=void 0;let US=0;const Z=da(),Re=da(),Hu=da(),z=da(),me=da(),Aa=da(),Nt=da();function da(){return 2**++US}const qu=Object.freeze(Object.defineProperty({__proto__:null,boolean:Z,booleanish:Re,commaOrSpaceSeparated:Nt,commaSeparated:Aa,number:z,overloadedBoolean:Hu,spaceSeparated:me},Symbol.toStringTag,{value:"Module"})),fc=Object.keys(qu);class mh extends wt{constructor(t,r,n,a){let i=-1;if(super(t,r),Eg(this,"space",a),typeof n=="number")for(;++i<fc.length;){const l=fc[i];Eg(this,fc[i],(n&qu[l])===qu[l])}}}mh.prototype.defined=!0;function Eg(e,t,r){r&&(e[t]=r)}function gs(e){const t={},r={};for(const[n,a]of Object.entries(e.properties)){const i=new mh(n,e.transform(e.attributes||{},n),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(n)&&(i.mustUseProperty=!0),t[n]=i,r[Bu(n)]=n,r[Bu(i.attribute)]=n}return new Pi(t,r,e.space)}const Lx=gs({properties:{ariaActiveDescendant:null,ariaAtomic:Re,ariaAutoComplete:null,ariaBusy:Re,ariaChecked:Re,ariaColCount:z,ariaColIndex:z,ariaColSpan:z,ariaControls:me,ariaCurrent:null,ariaDescribedBy:me,ariaDetails:null,ariaDisabled:Re,ariaDropEffect:me,ariaErrorMessage:null,ariaExpanded:Re,ariaFlowTo:me,ariaGrabbed:Re,ariaHasPopup:null,ariaHidden:Re,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:me,ariaLevel:z,ariaLive:null,ariaModal:Re,ariaMultiLine:Re,ariaMultiSelectable:Re,ariaOrientation:null,ariaOwns:me,ariaPlaceholder:null,ariaPosInSet:z,ariaPressed:Re,ariaReadOnly:Re,ariaRelevant:null,ariaRequired:Re,ariaRoleDescription:me,ariaRowCount:z,ariaRowIndex:z,ariaRowSpan:z,ariaSelected:Re,ariaSetSize:z,ariaSort:null,ariaValueMax:z,ariaValueMin:z,ariaValueNow:z,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function Ox(e,t){return t in e?e[t]:t}function Ax(e,t){return Ox(e,t.toLowerCase())}const $S=gs({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Aa,acceptCharset:me,accessKey:me,action:null,allow:null,allowFullScreen:Z,allowPaymentRequest:Z,allowUserMedia:Z,alt:null,as:null,async:Z,autoCapitalize:null,autoComplete:me,autoFocus:Z,autoPlay:Z,blocking:me,capture:null,charSet:null,checked:Z,cite:null,className:me,cols:z,colSpan:null,content:null,contentEditable:Re,controls:Z,controlsList:me,coords:z|Aa,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Z,defer:Z,dir:null,dirName:null,disabled:Z,download:Hu,draggable:Re,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Z,formTarget:null,headers:me,height:z,hidden:Hu,high:z,href:null,hrefLang:null,htmlFor:me,httpEquiv:me,id:null,imageSizes:null,imageSrcSet:null,inert:Z,inputMode:null,integrity:null,is:null,isMap:Z,itemId:null,itemProp:me,itemRef:me,itemScope:Z,itemType:me,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Z,low:z,manifest:null,max:null,maxLength:z,media:null,method:null,min:null,minLength:z,multiple:Z,muted:Z,name:null,nonce:null,noModule:Z,noValidate:Z,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Z,optimum:z,pattern:null,ping:me,placeholder:null,playsInline:Z,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Z,referrerPolicy:null,rel:me,required:Z,reversed:Z,rows:z,rowSpan:z,sandbox:me,scope:null,scoped:Z,seamless:Z,selected:Z,shadowRootClonable:Z,shadowRootDelegatesFocus:Z,shadowRootMode:null,shape:null,size:z,sizes:null,slot:null,span:z,spellCheck:Re,src:null,srcDoc:null,srcLang:null,srcSet:null,start:z,step:null,style:null,tabIndex:z,target:null,title:null,translate:null,type:null,typeMustMatch:Z,useMap:null,value:Re,width:z,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:me,axis:null,background:null,bgColor:null,border:z,borderColor:null,bottomMargin:z,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Z,declare:Z,event:null,face:null,frame:null,frameBorder:null,hSpace:z,leftMargin:z,link:null,longDesc:null,lowSrc:null,marginHeight:z,marginWidth:z,noResize:Z,noHref:Z,noShade:Z,noWrap:Z,object:null,profile:null,prompt:null,rev:null,rightMargin:z,rules:null,scheme:null,scrolling:Re,standby:null,summary:null,text:null,topMargin:z,valueType:null,version:null,vAlign:null,vLink:null,vSpace:z,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Z,disableRemotePlayback:Z,prefix:null,property:null,results:z,security:null,unselectable:null},space:"html",transform:Ax}),BS=gs({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Nt,accentHeight:z,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:z,amplitude:z,arabicForm:null,ascent:z,attributeName:null,attributeType:null,azimuth:z,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:z,by:null,calcMode:null,capHeight:z,className:me,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:z,diffuseConstant:z,direction:null,display:null,dur:null,divisor:z,dominantBaseline:null,download:Z,dx:null,dy:null,edgeMode:null,editable:null,elevation:z,enableBackground:null,end:null,event:null,exponent:z,externalResourcesRequired:null,fill:null,fillOpacity:z,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Aa,g2:Aa,glyphName:Aa,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:z,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:z,horizOriginX:z,horizOriginY:z,id:null,ideographic:z,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:z,k:z,k1:z,k2:z,k3:z,k4:z,kernelMatrix:Nt,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:z,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:z,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:z,overlineThickness:z,paintOrder:null,panose1:null,path:null,pathLength:z,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:me,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:z,pointsAtY:z,pointsAtZ:z,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Nt,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Nt,rev:Nt,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Nt,requiredFeatures:Nt,requiredFonts:Nt,requiredFormats:Nt,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:z,specularExponent:z,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:z,strikethroughThickness:z,string:null,stroke:null,strokeDashArray:Nt,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:z,strokeOpacity:z,strokeWidth:null,style:null,surfaceScale:z,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Nt,tabIndex:z,tableValues:null,target:null,targetX:z,targetY:z,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Nt,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:z,underlineThickness:z,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:z,values:null,vAlphabetic:z,vMathematical:z,vectorEffect:null,vHanging:z,vIdeographic:z,version:null,vertAdvY:z,vertOriginX:z,vertOriginY:z,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:z,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Ox}),Fx=gs({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),zx=gs({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Ax}),Ux=gs({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),HS={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},qS=/[A-Z]/g,_g=/-[a-z]/g,WS=/^data[-\w.:]+$/i;function QS(e,t){const r=Bu(t);let n=t,a=wt;if(r in e.normal)return e.property[e.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&WS.test(t)){if(t.charAt(4)==="-"){const i=t.slice(5).replace(_g,KS);n="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=t.slice(4);if(!_g.test(i)){let l=i.replace(qS,VS);l.charAt(0)!=="-"&&(l="-"+l),t="data"+l}}a=mh}return new a(n,t)}function VS(e){return"-"+e.toLowerCase()}function KS(e){return e.charAt(1).toUpperCase()}const YS=Dx([Lx,$S,Fx,zx,Ux],"html"),ph=Dx([Lx,BS,Fx,zx,Ux],"svg");function GS(e){return e.join(" ").trim()}var xh={},Tg=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,XS=/\n/g,JS=/^\s*/,ZS=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,e2=/^:\s*/,t2=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,r2=/^[;\s]*/,n2=/^\s+|\s+$/g,a2=`
`,Pg="/",Ig="*",Dn="",s2="comment",i2="declaration",l2=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var r=1,n=1;function a(y){var v=y.match(XS);v&&(r+=v.length);var S=y.lastIndexOf(a2);n=~S?y.length-S:n+y.length}function i(){var y={line:r,column:n};return function(v){return v.position=new l(y),u(),v}}function l(y){this.start=y,this.end={line:r,column:n},this.source=t.source}l.prototype.content=e;function o(y){var v=new Error(t.source+":"+r+":"+n+": "+y);if(v.reason=y,v.filename=t.source,v.line=r,v.column=n,v.source=e,!t.silent)throw v}function c(y){var v=y.exec(e);if(v){var S=v[0];return a(S),e=e.slice(S.length),v}}function u(){c(JS)}function h(y){var v;for(y=y||[];v=d();)v!==!1&&y.push(v);return y}function d(){var y=i();if(!(Pg!=e.charAt(0)||Ig!=e.charAt(1))){for(var v=2;Dn!=e.charAt(v)&&(Ig!=e.charAt(v)||Pg!=e.charAt(v+1));)++v;if(v+=2,Dn===e.charAt(v-1))return o("End of comment missing");var S=e.slice(2,v-2);return n+=2,a(S),e=e.slice(v),n+=2,y({type:s2,comment:S})}}function g(){var y=i(),v=c(ZS);if(v){if(d(),!c(e2))return o("property missing ':'");var S=c(t2),m=y({type:i2,property:Mg(v[0].replace(Tg,Dn)),value:S?Mg(S[0].replace(Tg,Dn)):Dn});return c(r2),m}}function f(){var y=[];h(y);for(var v;v=g();)v!==!1&&(y.push(v),h(y));return y}return u(),f()};function Mg(e){return e?e.replace(n2,Dn):Dn}var o2=kl&&kl.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xh,"__esModule",{value:!0});xh.default=u2;const c2=o2(l2);function u2(e,t){let r=null;if(!e||typeof e!="string")return r;const n=(0,c2.default)(e),a=typeof t=="function";return n.forEach(i=>{if(i.type!=="declaration")return;const{property:l,value:o}=i;a?t(l,o,i):o&&(r=r||{},r[l]=o)}),r}var Ro={};Object.defineProperty(Ro,"__esModule",{value:!0});Ro.camelCase=void 0;var d2=/^--[a-zA-Z0-9_-]+$/,h2=/-([a-z])/g,f2=/^[^-]+$/,g2=/^-(webkit|moz|ms|o|khtml)-/,m2=/^-(ms)-/,p2=function(e){return!e||f2.test(e)||d2.test(e)},x2=function(e,t){return t.toUpperCase()},Rg=function(e,t){return"".concat(t,"-")},y2=function(e,t){return t===void 0&&(t={}),p2(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(m2,Rg):e=e.replace(g2,Rg),e.replace(h2,x2))};Ro.camelCase=y2;var v2=kl&&kl.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},b2=v2(xh),k2=Ro;function Wu(e,t){var r={};return!e||typeof e!="string"||(0,b2.default)(e,function(n,a){n&&a&&(r[(0,k2.camelCase)(n,t)]=a)}),r}Wu.default=Wu;var w2=Wu;const j2=td(w2),$x=Bx("end"),yh=Bx("start");function Bx(e){return t;function t(r){const n=r&&r.position&&r.position[e]||{};if(typeof n.line=="number"&&n.line>0&&typeof n.column=="number"&&n.column>0)return{line:n.line,column:n.column,offset:typeof n.offset=="number"&&n.offset>-1?n.offset:void 0}}}function S2(e){const t=yh(e),r=$x(e);if(t&&r)return{start:t,end:r}}function qs(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Dg(e.position):"start"in e||"end"in e?Dg(e):"line"in e||"column"in e?Qu(e):""}function Qu(e){return Lg(e&&e.line)+":"+Lg(e&&e.column)}function Dg(e){return Qu(e&&e.start)+"-"+Qu(e&&e.end)}function Lg(e){return e&&typeof e=="number"?e:1}class tt extends Error{constructor(t,r,n){super(),typeof r=="string"&&(n=r,r=void 0);let a="",i={},l=!1;if(r&&("line"in r&&"column"in r?i={place:r}:"start"in r&&"end"in r?i={place:r}:"type"in r?i={ancestors:[r],place:r.position}:i={...r}),typeof t=="string"?a=t:!i.cause&&t&&(l=!0,a=t.message,i.cause=t),!i.ruleId&&!i.source&&typeof n=="string"){const c=n.indexOf(":");c===-1?i.ruleId=n:(i.source=n.slice(0,c),i.ruleId=n.slice(c+1))}if(!i.place&&i.ancestors&&i.ancestors){const c=i.ancestors[i.ancestors.length-1];c&&(i.place=c.position)}const o=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=a,this.line=o?o.line:void 0,this.name=qs(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=l&&i.cause&&typeof i.cause.stack=="string"?i.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}tt.prototype.file="";tt.prototype.name="";tt.prototype.reason="";tt.prototype.message="";tt.prototype.stack="";tt.prototype.column=void 0;tt.prototype.line=void 0;tt.prototype.ancestors=void 0;tt.prototype.cause=void 0;tt.prototype.fatal=void 0;tt.prototype.place=void 0;tt.prototype.ruleId=void 0;tt.prototype.source=void 0;const vh={}.hasOwnProperty,N2=new Map,C2=/[A-Z]/g,E2=new Set(["table","tbody","thead","tfoot","tr"]),_2=new Set(["td","th"]),Hx="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function T2(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const r=t.filePath||void 0;let n;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");n=A2(r,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");n=O2(r,t.jsx,t.jsxs)}const a={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:n,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:r,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?ph:YS,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},i=qx(a,e,void 0);return i&&typeof i!="string"?i:a.create(e,a.Fragment,{children:i||void 0},void 0)}function qx(e,t,r){if(t.type==="element")return P2(e,t,r);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return I2(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return R2(e,t,r);if(t.type==="mdxjsEsm")return M2(e,t);if(t.type==="root")return D2(e,t,r);if(t.type==="text")return L2(e,t)}function P2(e,t,r){const n=e.schema;let a=n;t.tagName.toLowerCase()==="svg"&&n.space==="html"&&(a=ph,e.schema=a),e.ancestors.push(t);const i=Qx(e,t.tagName,!1),l=F2(e,t);let o=kh(e,t);return E2.has(t.tagName)&&(o=o.filter(function(c){return typeof c=="string"?!zS(c):!0})),Wx(e,l,i,t),bh(l,o),e.ancestors.pop(),e.schema=n,e.create(t,i,l,r)}function I2(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}mi(e,t.position)}function M2(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);mi(e,t.position)}function R2(e,t,r){const n=e.schema;let a=n;t.name==="svg"&&n.space==="html"&&(a=ph,e.schema=a),e.ancestors.push(t);const i=t.name===null?e.Fragment:Qx(e,t.name,!0),l=z2(e,t),o=kh(e,t);return Wx(e,l,i,t),bh(l,o),e.ancestors.pop(),e.schema=n,e.create(t,i,l,r)}function D2(e,t,r){const n={};return bh(n,kh(e,t)),e.create(t,e.Fragment,n,r)}function L2(e,t){return t.value}function Wx(e,t,r,n){typeof r!="string"&&r!==e.Fragment&&e.passNode&&(t.node=n)}function bh(e,t){if(t.length>0){const r=t.length>1?t:t[0];r&&(e.children=r)}}function O2(e,t,r){return n;function n(a,i,l,o){const u=Array.isArray(l.children)?r:t;return o?u(i,l,o):u(i,l)}}function A2(e,t){return r;function r(n,a,i,l){const o=Array.isArray(i.children),c=yh(n);return t(a,i,l,o,{columnNumber:c?c.column-1:void 0,fileName:e,lineNumber:c?c.line:void 0},void 0)}}function F2(e,t){const r={};let n,a;for(a in t.properties)if(a!=="children"&&vh.call(t.properties,a)){const i=U2(e,a,t.properties[a]);if(i){const[l,o]=i;e.tableCellAlignToStyle&&l==="align"&&typeof o=="string"&&_2.has(t.tagName)?n=o:r[l]=o}}if(n){const i=r.style||(r.style={});i[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=n}return r}function z2(e,t){const r={};for(const n of t.attributes)if(n.type==="mdxJsxExpressionAttribute")if(n.data&&n.data.estree&&e.evaluater){const i=n.data.estree.body[0];i.type;const l=i.expression;l.type;const o=l.properties[0];o.type,Object.assign(r,e.evaluater.evaluateExpression(o.argument))}else mi(e,t.position);else{const a=n.name;let i;if(n.value&&typeof n.value=="object")if(n.value.data&&n.value.data.estree&&e.evaluater){const o=n.value.data.estree.body[0];o.type,i=e.evaluater.evaluateExpression(o.expression)}else mi(e,t.position);else i=n.value===null?!0:n.value;r[a]=i}return r}function kh(e,t){const r=[];let n=-1;const a=e.passKeys?new Map:N2;for(;++n<t.children.length;){const i=t.children[n];let l;if(e.passKeys){const c=i.type==="element"?i.tagName:i.type==="mdxJsxFlowElement"||i.type==="mdxJsxTextElement"?i.name:void 0;if(c){const u=a.get(c)||0;l=c+"-"+u,a.set(c,u+1)}}const o=qx(e,i,l);o!==void 0&&r.push(o)}return r}function U2(e,t,r){const n=QS(e.schema,t);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=n.commaSeparated?DS(r):GS(r)),n.property==="style"){let a=typeof r=="object"?r:$2(e,String(r));return e.stylePropertyNameCase==="css"&&(a=B2(a)),["style",a]}return[e.elementAttributeNameCase==="react"&&n.space?HS[n.property]||n.property:n.attribute,r]}}function $2(e,t){try{return j2(t,{reactCompat:!0})}catch(r){if(e.ignoreInvalidStyle)return{};const n=r,a=new tt("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:n,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=e.filePath||void 0,a.url=Hx+"#cannot-parse-style-attribute",a}}function Qx(e,t,r){let n;if(!r)n={type:"Literal",value:t};else if(t.includes(".")){const a=t.split(".");let i=-1,l;for(;++i<a.length;){const o=Ng(a[i])?{type:"Identifier",name:a[i]}:{type:"Literal",value:a[i]};l=l?{type:"MemberExpression",object:l,property:o,computed:!!(i&&o.type==="Literal"),optional:!1}:o}n=l}else n=Ng(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(n.type==="Literal"){const a=n.value;return vh.call(e.components,a)?e.components[a]:a}if(e.evaluater)return e.evaluater.evaluateExpression(n);mi(e)}function mi(e,t){const r=new tt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=Hx+"#cannot-handle-mdx-estrees-without-createevaluater",r}function B2(e){const t={};let r;for(r in e)vh.call(e,r)&&(t[H2(r)]=e[r]);return t}function H2(e){let t=e.replace(C2,q2);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function q2(e){return"-"+e.toLowerCase()}const gc={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},W2={};function Q2(e,t){const r=W2,n=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,a=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return Vx(e,n,a)}function Vx(e,t,r){if(V2(e)){if("value"in e)return e.type==="html"&&!r?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Og(e.children,t,r)}return Array.isArray(e)?Og(e,t,r):""}function Og(e,t,r){const n=[];let a=-1;for(;++a<e.length;)n[a]=Vx(e[a],t,r);return n.join("")}function V2(e){return!!(e&&typeof e=="object")}const Ag=document.createElement("i");function wh(e){const t="&"+e+";";Ag.innerHTML=t;const r=Ag.textContent;return r.charCodeAt(r.length-1)===59&&e!=="semi"||r===t?!1:r}function xr(e,t,r,n){const a=e.length;let i=0,l;if(t<0?t=-t>a?0:a+t:t=t>a?a:t,r=r>0?r:0,n.length<1e4)l=Array.from(n),l.unshift(t,r),e.splice(...l);else for(r&&e.splice(t,r);i<n.length;)l=n.slice(i,i+1e4),l.unshift(t,0),e.splice(...l),i+=1e4,t+=1e4}function Ft(e,t){return e.length>0?(xr(e,e.length,0,t),e):t}const Fg={}.hasOwnProperty;function K2(e){const t={};let r=-1;for(;++r<e.length;)Y2(t,e[r]);return t}function Y2(e,t){let r;for(r in t){const a=(Fg.call(e,r)?e[r]:void 0)||(e[r]={}),i=t[r];let l;if(i)for(l in i){Fg.call(a,l)||(a[l]=[]);const o=i[l];G2(a[l],Array.isArray(o)?o:o?[o]:[])}}}function G2(e,t){let r=-1;const n=[];for(;++r<t.length;)(t[r].add==="after"?e:n).push(t[r]);xr(e,0,0,n)}function Kx(e,t){const r=Number.parseInt(e,t);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"":String.fromCodePoint(r)}function Fa(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const dr=Tn(/[A-Za-z]/),Tt=Tn(/[\dA-Za-z]/),X2=Tn(/[#-'*+\--9=?A-Z^-~]/);function Vu(e){return e!==null&&(e<32||e===127)}const Ku=Tn(/\d/),J2=Tn(/[\dA-Fa-f]/),Z2=Tn(/[!-/:-@[-`{-~]/);function G(e){return e!==null&&e<-2}function vt(e){return e!==null&&(e<0||e===32)}function ue(e){return e===-2||e===-1||e===32}const eN=Tn(new RegExp("\\p{P}|\\p{S}","u")),tN=Tn(/\s/);function Tn(e){return t;function t(r){return r!==null&&r>-1&&e.test(String.fromCharCode(r))}}function ms(e){const t=[];let r=-1,n=0,a=0;for(;++r<e.length;){const i=e.charCodeAt(r);let l="";if(i===37&&Tt(e.charCodeAt(r+1))&&Tt(e.charCodeAt(r+2)))a=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(l=String.fromCharCode(i));else if(i>55295&&i<57344){const o=e.charCodeAt(r+1);i<56320&&o>56319&&o<57344?(l=String.fromCharCode(i,o),a=1):l=""}else l=String.fromCharCode(i);l&&(t.push(e.slice(n,r),encodeURIComponent(l)),n=r+a+1,l=""),a&&(r+=a,a=0)}return t.join("")+e.slice(n)}function xe(e,t,r,n){const a=n?n-1:Number.POSITIVE_INFINITY;let i=0;return l;function l(c){return ue(c)?(e.enter(r),o(c)):t(c)}function o(c){return ue(c)&&i++<a?(e.consume(c),o):(e.exit(r),t(c))}}const rN={tokenize:nN};function nN(e){const t=e.attempt(this.parser.constructs.contentInitial,n,a);let r;return t;function n(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),xe(e,t,"linePrefix")}function a(o){return e.enter("paragraph"),i(o)}function i(o){const c=e.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=c),r=c,l(o)}function l(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return G(o)?(e.consume(o),e.exit("chunkText"),i):(e.consume(o),l)}}const aN={tokenize:sN},zg={tokenize:iN};function sN(e){const t=this,r=[];let n=0,a,i,l;return o;function o(x){if(n<r.length){const b=r[n];return t.containerState=b[1],e.attempt(b[0].continuation,c,u)(x)}return u(x)}function c(x){if(n++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,a&&p();const b=t.events.length;let j=b,C;for(;j--;)if(t.events[j][0]==="exit"&&t.events[j][1].type==="chunkFlow"){C=t.events[j][1].end;break}m(n);let T=b;for(;T<t.events.length;)t.events[T][1].end={...C},T++;return xr(t.events,j+1,0,t.events.slice(b)),t.events.length=T,u(x)}return o(x)}function u(x){if(n===r.length){if(!a)return g(x);if(a.currentConstruct&&a.currentConstruct.concrete)return y(x);t.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(zg,h,d)(x)}function h(x){return a&&p(),m(n),g(x)}function d(x){return t.parser.lazy[t.now().line]=n!==r.length,l=t.now().offset,y(x)}function g(x){return t.containerState={},e.attempt(zg,f,y)(x)}function f(x){return n++,r.push([t.currentConstruct,t.containerState]),g(x)}function y(x){if(x===null){a&&p(),m(0),e.consume(x);return}return a=a||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:i}),v(x)}function v(x){if(x===null){S(e.exit("chunkFlow"),!0),m(0),e.consume(x);return}return G(x)?(e.consume(x),S(e.exit("chunkFlow")),n=0,t.interrupt=void 0,o):(e.consume(x),v)}function S(x,b){const j=t.sliceStream(x);if(b&&j.push(null),x.previous=i,i&&(i.next=x),i=x,a.defineSkip(x.start),a.write(j),t.parser.lazy[x.start.line]){let C=a.events.length;for(;C--;)if(a.events[C][1].start.offset<l&&(!a.events[C][1].end||a.events[C][1].end.offset>l))return;const T=t.events.length;let D=T,U,R;for(;D--;)if(t.events[D][0]==="exit"&&t.events[D][1].type==="chunkFlow"){if(U){R=t.events[D][1].end;break}U=!0}for(m(n),C=T;C<t.events.length;)t.events[C][1].end={...R},C++;xr(t.events,D+1,0,t.events.slice(T)),t.events.length=C}}function m(x){let b=r.length;for(;b-- >x;){const j=r[b];t.containerState=j[1],j[0].exit.call(t,e)}r.length=x}function p(){a.write([null]),i=void 0,a=void 0,t.containerState._closeFlow=void 0}}function iN(e,t,r){return xe(e,e.attempt(this.parser.constructs.document,t,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Ug(e){if(e===null||vt(e)||tN(e))return 1;if(eN(e))return 2}function jh(e,t,r){const n=[];let a=-1;for(;++a<e.length;){const i=e[a].resolveAll;i&&!n.includes(i)&&(t=i(t,r),n.push(i))}return t}const Yu={name:"attention",resolveAll:lN,tokenize:oN};function lN(e,t){let r=-1,n,a,i,l,o,c,u,h;for(;++r<e.length;)if(e[r][0]==="enter"&&e[r][1].type==="attentionSequence"&&e[r][1]._close){for(n=r;n--;)if(e[n][0]==="exit"&&e[n][1].type==="attentionSequence"&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[r][1]).charCodeAt(0)){if((e[n][1]._close||e[r][1]._open)&&(e[r][1].end.offset-e[r][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[r][1].end.offset-e[r][1].start.offset)%3))continue;c=e[n][1].end.offset-e[n][1].start.offset>1&&e[r][1].end.offset-e[r][1].start.offset>1?2:1;const d={...e[n][1].end},g={...e[r][1].start};$g(d,-c),$g(g,c),l={type:c>1?"strongSequence":"emphasisSequence",start:d,end:{...e[n][1].end}},o={type:c>1?"strongSequence":"emphasisSequence",start:{...e[r][1].start},end:g},i={type:c>1?"strongText":"emphasisText",start:{...e[n][1].end},end:{...e[r][1].start}},a={type:c>1?"strong":"emphasis",start:{...l.start},end:{...o.end}},e[n][1].end={...l.start},e[r][1].start={...o.end},u=[],e[n][1].end.offset-e[n][1].start.offset&&(u=Ft(u,[["enter",e[n][1],t],["exit",e[n][1],t]])),u=Ft(u,[["enter",a,t],["enter",l,t],["exit",l,t],["enter",i,t]]),u=Ft(u,jh(t.parser.constructs.insideSpan.null,e.slice(n+1,r),t)),u=Ft(u,[["exit",i,t],["enter",o,t],["exit",o,t],["exit",a,t]]),e[r][1].end.offset-e[r][1].start.offset?(h=2,u=Ft(u,[["enter",e[r][1],t],["exit",e[r][1],t]])):h=0,xr(e,n-1,r-n+3,u),r=n+u.length-h-2;break}}for(r=-1;++r<e.length;)e[r][1].type==="attentionSequence"&&(e[r][1].type="data");return e}function oN(e,t){const r=this.parser.constructs.attentionMarkers.null,n=this.previous,a=Ug(n);let i;return l;function l(c){return i=c,e.enter("attentionSequence"),o(c)}function o(c){if(c===i)return e.consume(c),o;const u=e.exit("attentionSequence"),h=Ug(c),d=!h||h===2&&a||r.includes(c),g=!a||a===2&&h||r.includes(n);return u._open=!!(i===42?d:d&&(a||!g)),u._close=!!(i===42?g:g&&(h||!d)),t(c)}}function $g(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const cN={name:"autolink",tokenize:uN};function uN(e,t,r){let n=0;return a;function a(f){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i}function i(f){return dr(f)?(e.consume(f),l):f===64?r(f):u(f)}function l(f){return f===43||f===45||f===46||Tt(f)?(n=1,o(f)):u(f)}function o(f){return f===58?(e.consume(f),n=0,c):(f===43||f===45||f===46||Tt(f))&&n++<32?(e.consume(f),o):(n=0,u(f))}function c(f){return f===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.exit("autolink"),t):f===null||f===32||f===60||Vu(f)?r(f):(e.consume(f),c)}function u(f){return f===64?(e.consume(f),h):X2(f)?(e.consume(f),u):r(f)}function h(f){return Tt(f)?d(f):r(f)}function d(f){return f===46?(e.consume(f),n=0,h):f===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.exit("autolink"),t):g(f)}function g(f){if((f===45||Tt(f))&&n++<63){const y=f===45?g:d;return e.consume(f),y}return r(f)}}const Do={partial:!0,tokenize:dN};function dN(e,t,r){return n;function n(i){return ue(i)?xe(e,a,"linePrefix")(i):a(i)}function a(i){return i===null||G(i)?t(i):r(i)}}const Yx={continuation:{tokenize:fN},exit:gN,name:"blockQuote",tokenize:hN};function hN(e,t,r){const n=this;return a;function a(l){if(l===62){const o=n.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(l),e.exit("blockQuoteMarker"),i}return r(l)}function i(l){return ue(l)?(e.enter("blockQuotePrefixWhitespace"),e.consume(l),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(l))}}function fN(e,t,r){const n=this;return a;function a(l){return ue(l)?xe(e,i,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):i(l)}function i(l){return e.attempt(Yx,t,r)(l)}}function gN(e){e.exit("blockQuote")}const Gx={name:"characterEscape",tokenize:mN};function mN(e,t,r){return n;function n(i){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(i),e.exit("escapeMarker"),a}function a(i){return Z2(i)?(e.enter("characterEscapeValue"),e.consume(i),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):r(i)}}const Xx={name:"characterReference",tokenize:pN};function pN(e,t,r){const n=this;let a=0,i,l;return o;function o(d){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),c}function c(d){return d===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(d),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),i=31,l=Tt,h(d))}function u(d){return d===88||d===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(d),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),i=6,l=J2,h):(e.enter("characterReferenceValue"),i=7,l=Ku,h(d))}function h(d){if(d===59&&a){const g=e.exit("characterReferenceValue");return l===Tt&&!wh(n.sliceSerialize(g))?r(d):(e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return l(d)&&a++<i?(e.consume(d),h):r(d)}}const Bg={partial:!0,tokenize:yN},Hg={concrete:!0,name:"codeFenced",tokenize:xN};function xN(e,t,r){const n=this,a={partial:!0,tokenize:j};let i=0,l=0,o;return c;function c(C){return u(C)}function u(C){const T=n.events[n.events.length-1];return i=T&&T[1].type==="linePrefix"?T[2].sliceSerialize(T[1],!0).length:0,o=C,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),h(C)}function h(C){return C===o?(l++,e.consume(C),h):l<3?r(C):(e.exit("codeFencedFenceSequence"),ue(C)?xe(e,d,"whitespace")(C):d(C))}function d(C){return C===null||G(C)?(e.exit("codeFencedFence"),n.interrupt?t(C):e.check(Bg,v,b)(C)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),g(C))}function g(C){return C===null||G(C)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),d(C)):ue(C)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),xe(e,f,"whitespace")(C)):C===96&&C===o?r(C):(e.consume(C),g)}function f(C){return C===null||G(C)?d(C):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),y(C))}function y(C){return C===null||G(C)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),d(C)):C===96&&C===o?r(C):(e.consume(C),y)}function v(C){return e.attempt(a,b,S)(C)}function S(C){return e.enter("lineEnding"),e.consume(C),e.exit("lineEnding"),m}function m(C){return i>0&&ue(C)?xe(e,p,"linePrefix",i+1)(C):p(C)}function p(C){return C===null||G(C)?e.check(Bg,v,b)(C):(e.enter("codeFlowValue"),x(C))}function x(C){return C===null||G(C)?(e.exit("codeFlowValue"),p(C)):(e.consume(C),x)}function b(C){return e.exit("codeFenced"),t(C)}function j(C,T,D){let U=0;return R;function R(O){return C.enter("lineEnding"),C.consume(O),C.exit("lineEnding"),P}function P(O){return C.enter("codeFencedFence"),ue(O)?xe(C,A,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(O):A(O)}function A(O){return O===o?(C.enter("codeFencedFenceSequence"),Q(O)):D(O)}function Q(O){return O===o?(U++,C.consume(O),Q):U>=l?(C.exit("codeFencedFenceSequence"),ue(O)?xe(C,L,"whitespace")(O):L(O)):D(O)}function L(O){return O===null||G(O)?(C.exit("codeFencedFence"),T(O)):D(O)}}}function yN(e,t,r){const n=this;return a;function a(l){return l===null?r(l):(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),i)}function i(l){return n.parser.lazy[n.now().line]?r(l):t(l)}}const mc={name:"codeIndented",tokenize:bN},vN={partial:!0,tokenize:kN};function bN(e,t,r){const n=this;return a;function a(u){return e.enter("codeIndented"),xe(e,i,"linePrefix",5)(u)}function i(u){const h=n.events[n.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?l(u):r(u)}function l(u){return u===null?c(u):G(u)?e.attempt(vN,l,c)(u):(e.enter("codeFlowValue"),o(u))}function o(u){return u===null||G(u)?(e.exit("codeFlowValue"),l(u)):(e.consume(u),o)}function c(u){return e.exit("codeIndented"),t(u)}}function kN(e,t,r){const n=this;return a;function a(l){return n.parser.lazy[n.now().line]?r(l):G(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),a):xe(e,i,"linePrefix",5)(l)}function i(l){const o=n.events[n.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(l):G(l)?a(l):r(l)}}const wN={name:"codeText",previous:SN,resolve:jN,tokenize:NN};function jN(e){let t=e.length-4,r=3,n,a;if((e[r][1].type==="lineEnding"||e[r][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(n=r;++n<t;)if(e[n][1].type==="codeTextData"){e[r][1].type="codeTextPadding",e[t][1].type="codeTextPadding",r+=2,t-=2;break}}for(n=r-1,t++;++n<=t;)a===void 0?n!==t&&e[n][1].type!=="lineEnding"&&(a=n):(n===t||e[n][1].type==="lineEnding")&&(e[a][1].type="codeTextData",n!==a+2&&(e[a][1].end=e[n-1][1].end,e.splice(a+2,n-a-2),t-=n-a-2,n=a+2),a=void 0);return e}function SN(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function NN(e,t,r){let n=0,a,i;return l;function l(d){return e.enter("codeText"),e.enter("codeTextSequence"),o(d)}function o(d){return d===96?(e.consume(d),n++,o):(e.exit("codeTextSequence"),c(d))}function c(d){return d===null?r(d):d===32?(e.enter("space"),e.consume(d),e.exit("space"),c):d===96?(i=e.enter("codeTextSequence"),a=0,h(d)):G(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),c):(e.enter("codeTextData"),u(d))}function u(d){return d===null||d===32||d===96||G(d)?(e.exit("codeTextData"),c(d)):(e.consume(d),u)}function h(d){return d===96?(e.consume(d),a++,h):a===n?(e.exit("codeTextSequence"),e.exit("codeText"),t(d)):(i.type="codeTextData",u(d))}}class CN{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,r){const n=r??Number.POSITIVE_INFINITY;return n<this.left.length?this.left.slice(t,n):t>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(t,r,n){const a=r||0;this.setCursor(Math.trunc(t));const i=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return n&&Cs(this.left,n),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Cs(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Cs(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const r=this.left.splice(t,Number.POSITIVE_INFINITY);Cs(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Cs(this.left,r.reverse())}}}function Cs(e,t){let r=0;if(t.length<1e4)e.push(...t);else for(;r<t.length;)e.push(...t.slice(r,r+1e4)),r+=1e4}function Jx(e){const t={};let r=-1,n,a,i,l,o,c,u;const h=new CN(e);for(;++r<h.length;){for(;r in t;)r=t[r];if(n=h.get(r),r&&n[1].type==="chunkFlow"&&h.get(r-1)[1].type==="listItemPrefix"&&(c=n[1]._tokenizer.events,i=0,i<c.length&&c[i][1].type==="lineEndingBlank"&&(i+=2),i<c.length&&c[i][1].type==="content"))for(;++i<c.length&&c[i][1].type!=="content";)c[i][1].type==="chunkText"&&(c[i][1]._isInFirstContentOfListItem=!0,i++);if(n[0]==="enter")n[1].contentType&&(Object.assign(t,EN(h,r)),r=t[r],u=!0);else if(n[1]._container){for(i=r,a=void 0;i--;)if(l=h.get(i),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(a&&(h.get(a)[1].type="lineEndingBlank"),l[1].type="lineEnding",a=i);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;a&&(n[1].end={...h.get(a)[1].start},o=h.slice(a,r),o.unshift(n),h.splice(a,r-a+1,o))}}return xr(e,0,Number.POSITIVE_INFINITY,h.slice(0)),!u}function EN(e,t){const r=e.get(t)[1],n=e.get(t)[2];let a=t-1;const i=[];let l=r._tokenizer;l||(l=n.parser[r.contentType](r.start),r._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const o=l.events,c=[],u={};let h,d,g=-1,f=r,y=0,v=0;const S=[v];for(;f;){for(;e.get(++a)[1]!==f;);i.push(a),f._tokenizer||(h=n.sliceStream(f),f.next||h.push(null),d&&l.defineSkip(f.start),f._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(h),f._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),d=f,f=f.next}for(f=r;++g<o.length;)o[g][0]==="exit"&&o[g-1][0]==="enter"&&o[g][1].type===o[g-1][1].type&&o[g][1].start.line!==o[g][1].end.line&&(v=g+1,S.push(v),f._tokenizer=void 0,f.previous=void 0,f=f.next);for(l.events=[],f?(f._tokenizer=void 0,f.previous=void 0):S.pop(),g=S.length;g--;){const m=o.slice(S[g],S[g+1]),p=i.pop();c.push([p,p+m.length-1]),e.splice(p,2,m)}for(c.reverse(),g=-1;++g<c.length;)u[y+c[g][0]]=y+c[g][1],y+=c[g][1]-c[g][0]-1;return u}const _N={resolve:PN,tokenize:IN},TN={partial:!0,tokenize:MN};function PN(e){return Jx(e),e}function IN(e,t){let r;return n;function n(o){return e.enter("content"),r=e.enter("chunkContent",{contentType:"content"}),a(o)}function a(o){return o===null?i(o):G(o)?e.check(TN,l,i)(o):(e.consume(o),a)}function i(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function l(o){return e.consume(o),e.exit("chunkContent"),r.next=e.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,a}}function MN(e,t,r){const n=this;return a;function a(l){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),xe(e,i,"linePrefix")}function i(l){if(l===null||G(l))return r(l);const o=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(l):e.interrupt(n.parser.constructs.flow,r,t)(l)}}function Zx(e,t,r,n,a,i,l,o,c){const u=c||Number.POSITIVE_INFINITY;let h=0;return d;function d(m){return m===60?(e.enter(n),e.enter(a),e.enter(i),e.consume(m),e.exit(i),g):m===null||m===32||m===41||Vu(m)?r(m):(e.enter(n),e.enter(l),e.enter(o),e.enter("chunkString",{contentType:"string"}),v(m))}function g(m){return m===62?(e.enter(i),e.consume(m),e.exit(i),e.exit(a),e.exit(n),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),f(m))}function f(m){return m===62?(e.exit("chunkString"),e.exit(o),g(m)):m===null||m===60||G(m)?r(m):(e.consume(m),m===92?y:f)}function y(m){return m===60||m===62||m===92?(e.consume(m),f):f(m)}function v(m){return!h&&(m===null||m===41||vt(m))?(e.exit("chunkString"),e.exit(o),e.exit(l),e.exit(n),t(m)):h<u&&m===40?(e.consume(m),h++,v):m===41?(e.consume(m),h--,v):m===null||m===32||m===40||Vu(m)?r(m):(e.consume(m),m===92?S:v)}function S(m){return m===40||m===41||m===92?(e.consume(m),v):v(m)}}function ey(e,t,r,n,a,i){const l=this;let o=0,c;return u;function u(f){return e.enter(n),e.enter(a),e.consume(f),e.exit(a),e.enter(i),h}function h(f){return o>999||f===null||f===91||f===93&&!c||f===94&&!o&&"_hiddenFootnoteSupport"in l.parser.constructs?r(f):f===93?(e.exit(i),e.enter(a),e.consume(f),e.exit(a),e.exit(n),t):G(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),h):(e.enter("chunkString",{contentType:"string"}),d(f))}function d(f){return f===null||f===91||f===93||G(f)||o++>999?(e.exit("chunkString"),h(f)):(e.consume(f),c||(c=!ue(f)),f===92?g:d)}function g(f){return f===91||f===92||f===93?(e.consume(f),o++,d):d(f)}}function ty(e,t,r,n,a,i){let l;return o;function o(g){return g===34||g===39||g===40?(e.enter(n),e.enter(a),e.consume(g),e.exit(a),l=g===40?41:g,c):r(g)}function c(g){return g===l?(e.enter(a),e.consume(g),e.exit(a),e.exit(n),t):(e.enter(i),u(g))}function u(g){return g===l?(e.exit(i),c(l)):g===null?r(g):G(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),xe(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),h(g))}function h(g){return g===l||g===null||G(g)?(e.exit("chunkString"),u(g)):(e.consume(g),g===92?d:h)}function d(g){return g===l||g===92?(e.consume(g),h):h(g)}}function Ws(e,t){let r;return n;function n(a){return G(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),r=!0,n):ue(a)?xe(e,n,r?"linePrefix":"lineSuffix")(a):t(a)}}const RN={name:"definition",tokenize:LN},DN={partial:!0,tokenize:ON};function LN(e,t,r){const n=this;let a;return i;function i(f){return e.enter("definition"),l(f)}function l(f){return ey.call(n,e,o,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(f)}function o(f){return a=Fa(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),f===58?(e.enter("definitionMarker"),e.consume(f),e.exit("definitionMarker"),c):r(f)}function c(f){return vt(f)?Ws(e,u)(f):u(f)}function u(f){return Zx(e,h,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(f)}function h(f){return e.attempt(DN,d,d)(f)}function d(f){return ue(f)?xe(e,g,"whitespace")(f):g(f)}function g(f){return f===null||G(f)?(e.exit("definition"),n.parser.defined.push(a),t(f)):r(f)}}function ON(e,t,r){return n;function n(o){return vt(o)?Ws(e,a)(o):r(o)}function a(o){return ty(e,i,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function i(o){return ue(o)?xe(e,l,"whitespace")(o):l(o)}function l(o){return o===null||G(o)?t(o):r(o)}}const AN={name:"hardBreakEscape",tokenize:FN};function FN(e,t,r){return n;function n(i){return e.enter("hardBreakEscape"),e.consume(i),a}function a(i){return G(i)?(e.exit("hardBreakEscape"),t(i)):r(i)}}const zN={name:"headingAtx",resolve:UN,tokenize:$N};function UN(e,t){let r=e.length-2,n=3,a,i;return e[n][1].type==="whitespace"&&(n+=2),r-2>n&&e[r][1].type==="whitespace"&&(r-=2),e[r][1].type==="atxHeadingSequence"&&(n===r-1||r-4>n&&e[r-2][1].type==="whitespace")&&(r-=n+1===r?2:4),r>n&&(a={type:"atxHeadingText",start:e[n][1].start,end:e[r][1].end},i={type:"chunkText",start:e[n][1].start,end:e[r][1].end,contentType:"text"},xr(e,n,r-n+1,[["enter",a,t],["enter",i,t],["exit",i,t],["exit",a,t]])),e}function $N(e,t,r){let n=0;return a;function a(h){return e.enter("atxHeading"),i(h)}function i(h){return e.enter("atxHeadingSequence"),l(h)}function l(h){return h===35&&n++<6?(e.consume(h),l):h===null||vt(h)?(e.exit("atxHeadingSequence"),o(h)):r(h)}function o(h){return h===35?(e.enter("atxHeadingSequence"),c(h)):h===null||G(h)?(e.exit("atxHeading"),t(h)):ue(h)?xe(e,o,"whitespace")(h):(e.enter("atxHeadingText"),u(h))}function c(h){return h===35?(e.consume(h),c):(e.exit("atxHeadingSequence"),o(h))}function u(h){return h===null||h===35||vt(h)?(e.exit("atxHeadingText"),o(h)):(e.consume(h),u)}}const BN=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],qg=["pre","script","style","textarea"],HN={concrete:!0,name:"htmlFlow",resolveTo:QN,tokenize:VN},qN={partial:!0,tokenize:YN},WN={partial:!0,tokenize:KN};function QN(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function VN(e,t,r){const n=this;let a,i,l,o,c;return u;function u(E){return h(E)}function h(E){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(E),d}function d(E){return E===33?(e.consume(E),g):E===47?(e.consume(E),i=!0,v):E===63?(e.consume(E),a=3,n.interrupt?t:k):dr(E)?(e.consume(E),l=String.fromCharCode(E),S):r(E)}function g(E){return E===45?(e.consume(E),a=2,f):E===91?(e.consume(E),a=5,o=0,y):dr(E)?(e.consume(E),a=4,n.interrupt?t:k):r(E)}function f(E){return E===45?(e.consume(E),n.interrupt?t:k):r(E)}function y(E){const H="CDATA[";return E===H.charCodeAt(o++)?(e.consume(E),o===H.length?n.interrupt?t:A:y):r(E)}function v(E){return dr(E)?(e.consume(E),l=String.fromCharCode(E),S):r(E)}function S(E){if(E===null||E===47||E===62||vt(E)){const H=E===47,re=l.toLowerCase();return!H&&!i&&qg.includes(re)?(a=1,n.interrupt?t(E):A(E)):BN.includes(l.toLowerCase())?(a=6,H?(e.consume(E),m):n.interrupt?t(E):A(E)):(a=7,n.interrupt&&!n.parser.lazy[n.now().line]?r(E):i?p(E):x(E))}return E===45||Tt(E)?(e.consume(E),l+=String.fromCharCode(E),S):r(E)}function m(E){return E===62?(e.consume(E),n.interrupt?t:A):r(E)}function p(E){return ue(E)?(e.consume(E),p):R(E)}function x(E){return E===47?(e.consume(E),R):E===58||E===95||dr(E)?(e.consume(E),b):ue(E)?(e.consume(E),x):R(E)}function b(E){return E===45||E===46||E===58||E===95||Tt(E)?(e.consume(E),b):j(E)}function j(E){return E===61?(e.consume(E),C):ue(E)?(e.consume(E),j):x(E)}function C(E){return E===null||E===60||E===61||E===62||E===96?r(E):E===34||E===39?(e.consume(E),c=E,T):ue(E)?(e.consume(E),C):D(E)}function T(E){return E===c?(e.consume(E),c=null,U):E===null||G(E)?r(E):(e.consume(E),T)}function D(E){return E===null||E===34||E===39||E===47||E===60||E===61||E===62||E===96||vt(E)?j(E):(e.consume(E),D)}function U(E){return E===47||E===62||ue(E)?x(E):r(E)}function R(E){return E===62?(e.consume(E),P):r(E)}function P(E){return E===null||G(E)?A(E):ue(E)?(e.consume(E),P):r(E)}function A(E){return E===45&&a===2?(e.consume(E),q):E===60&&a===1?(e.consume(E),te):E===62&&a===4?(e.consume(E),ae):E===63&&a===3?(e.consume(E),k):E===93&&a===5?(e.consume(E),K):G(E)&&(a===6||a===7)?(e.exit("htmlFlowData"),e.check(qN,oe,Q)(E)):E===null||G(E)?(e.exit("htmlFlowData"),Q(E)):(e.consume(E),A)}function Q(E){return e.check(WN,L,oe)(E)}function L(E){return e.enter("lineEnding"),e.consume(E),e.exit("lineEnding"),O}function O(E){return E===null||G(E)?Q(E):(e.enter("htmlFlowData"),A(E))}function q(E){return E===45?(e.consume(E),k):A(E)}function te(E){return E===47?(e.consume(E),l="",_):A(E)}function _(E){if(E===62){const H=l.toLowerCase();return qg.includes(H)?(e.consume(E),ae):A(E)}return dr(E)&&l.length<8?(e.consume(E),l+=String.fromCharCode(E),_):A(E)}function K(E){return E===93?(e.consume(E),k):A(E)}function k(E){return E===62?(e.consume(E),ae):E===45&&a===2?(e.consume(E),k):A(E)}function ae(E){return E===null||G(E)?(e.exit("htmlFlowData"),oe(E)):(e.consume(E),ae)}function oe(E){return e.exit("htmlFlow"),t(E)}}function KN(e,t,r){const n=this;return a;function a(l){return G(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),i):r(l)}function i(l){return n.parser.lazy[n.now().line]?r(l):t(l)}}function YN(e,t,r){return n;function n(a){return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),e.attempt(Do,t,r)}}const GN={name:"htmlText",tokenize:XN};function XN(e,t,r){const n=this;let a,i,l;return o;function o(k){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(k),c}function c(k){return k===33?(e.consume(k),u):k===47?(e.consume(k),j):k===63?(e.consume(k),x):dr(k)?(e.consume(k),D):r(k)}function u(k){return k===45?(e.consume(k),h):k===91?(e.consume(k),i=0,y):dr(k)?(e.consume(k),p):r(k)}function h(k){return k===45?(e.consume(k),f):r(k)}function d(k){return k===null?r(k):k===45?(e.consume(k),g):G(k)?(l=d,te(k)):(e.consume(k),d)}function g(k){return k===45?(e.consume(k),f):d(k)}function f(k){return k===62?q(k):k===45?g(k):d(k)}function y(k){const ae="CDATA[";return k===ae.charCodeAt(i++)?(e.consume(k),i===ae.length?v:y):r(k)}function v(k){return k===null?r(k):k===93?(e.consume(k),S):G(k)?(l=v,te(k)):(e.consume(k),v)}function S(k){return k===93?(e.consume(k),m):v(k)}function m(k){return k===62?q(k):k===93?(e.consume(k),m):v(k)}function p(k){return k===null||k===62?q(k):G(k)?(l=p,te(k)):(e.consume(k),p)}function x(k){return k===null?r(k):k===63?(e.consume(k),b):G(k)?(l=x,te(k)):(e.consume(k),x)}function b(k){return k===62?q(k):x(k)}function j(k){return dr(k)?(e.consume(k),C):r(k)}function C(k){return k===45||Tt(k)?(e.consume(k),C):T(k)}function T(k){return G(k)?(l=T,te(k)):ue(k)?(e.consume(k),T):q(k)}function D(k){return k===45||Tt(k)?(e.consume(k),D):k===47||k===62||vt(k)?U(k):r(k)}function U(k){return k===47?(e.consume(k),q):k===58||k===95||dr(k)?(e.consume(k),R):G(k)?(l=U,te(k)):ue(k)?(e.consume(k),U):q(k)}function R(k){return k===45||k===46||k===58||k===95||Tt(k)?(e.consume(k),R):P(k)}function P(k){return k===61?(e.consume(k),A):G(k)?(l=P,te(k)):ue(k)?(e.consume(k),P):U(k)}function A(k){return k===null||k===60||k===61||k===62||k===96?r(k):k===34||k===39?(e.consume(k),a=k,Q):G(k)?(l=A,te(k)):ue(k)?(e.consume(k),A):(e.consume(k),L)}function Q(k){return k===a?(e.consume(k),a=void 0,O):k===null?r(k):G(k)?(l=Q,te(k)):(e.consume(k),Q)}function L(k){return k===null||k===34||k===39||k===60||k===61||k===96?r(k):k===47||k===62||vt(k)?U(k):(e.consume(k),L)}function O(k){return k===47||k===62||vt(k)?U(k):r(k)}function q(k){return k===62?(e.consume(k),e.exit("htmlTextData"),e.exit("htmlText"),t):r(k)}function te(k){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),_}function _(k){return ue(k)?xe(e,K,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(k):K(k)}function K(k){return e.enter("htmlTextData"),l(k)}}const Sh={name:"labelEnd",resolveAll:tC,resolveTo:rC,tokenize:nC},JN={tokenize:aC},ZN={tokenize:sC},eC={tokenize:iC};function tC(e){let t=-1;const r=[];for(;++t<e.length;){const n=e[t][1];if(r.push(e[t]),n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd"){const a=n.type==="labelImage"?4:2;n.type="data",t+=a}}return e.length!==r.length&&xr(e,0,e.length,r),e}function rC(e,t){let r=e.length,n=0,a,i,l,o;for(;r--;)if(a=e[r][1],i){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;e[r][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(l){if(e[r][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(i=r,a.type!=="labelLink")){n=2;break}}else a.type==="labelEnd"&&(l=r);const c={type:e[i][1].type==="labelLink"?"link":"image",start:{...e[i][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[i][1].start},end:{...e[l][1].end}},h={type:"labelText",start:{...e[i+n+2][1].end},end:{...e[l-2][1].start}};return o=[["enter",c,t],["enter",u,t]],o=Ft(o,e.slice(i+1,i+n+3)),o=Ft(o,[["enter",h,t]]),o=Ft(o,jh(t.parser.constructs.insideSpan.null,e.slice(i+n+4,l-3),t)),o=Ft(o,[["exit",h,t],e[l-2],e[l-1],["exit",u,t]]),o=Ft(o,e.slice(l+1)),o=Ft(o,[["exit",c,t]]),xr(e,i,e.length,o),e}function nC(e,t,r){const n=this;let a=n.events.length,i,l;for(;a--;)if((n.events[a][1].type==="labelImage"||n.events[a][1].type==="labelLink")&&!n.events[a][1]._balanced){i=n.events[a][1];break}return o;function o(g){return i?i._inactive?d(g):(l=n.parser.defined.includes(Fa(n.sliceSerialize({start:i.end,end:n.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(g),e.exit("labelMarker"),e.exit("labelEnd"),c):r(g)}function c(g){return g===40?e.attempt(JN,h,l?h:d)(g):g===91?e.attempt(ZN,h,l?u:d)(g):l?h(g):d(g)}function u(g){return e.attempt(eC,h,d)(g)}function h(g){return t(g)}function d(g){return i._balanced=!0,r(g)}}function aC(e,t,r){return n;function n(d){return e.enter("resource"),e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),a}function a(d){return vt(d)?Ws(e,i)(d):i(d)}function i(d){return d===41?h(d):Zx(e,l,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function l(d){return vt(d)?Ws(e,c)(d):h(d)}function o(d){return r(d)}function c(d){return d===34||d===39||d===40?ty(e,u,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):h(d)}function u(d){return vt(d)?Ws(e,h)(d):h(d)}function h(d){return d===41?(e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),e.exit("resource"),t):r(d)}}function sC(e,t,r){const n=this;return a;function a(o){return ey.call(n,e,i,l,"reference","referenceMarker","referenceString")(o)}function i(o){return n.parser.defined.includes(Fa(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?t(o):r(o)}function l(o){return r(o)}}function iC(e,t,r){return n;function n(i){return e.enter("reference"),e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),a}function a(i){return i===93?(e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),e.exit("reference"),t):r(i)}}const lC={name:"labelStartImage",resolveAll:Sh.resolveAll,tokenize:oC};function oC(e,t,r){const n=this;return a;function a(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),i}function i(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),l):r(o)}function l(o){return o===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(o):t(o)}}const cC={name:"labelStartLink",resolveAll:Sh.resolveAll,tokenize:uC};function uC(e,t,r){const n=this;return a;function a(l){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelLink"),i}function i(l){return l===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(l):t(l)}}const pc={name:"lineEnding",tokenize:dC};function dC(e,t){return r;function r(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),xe(e,t,"linePrefix")}}const yl={name:"thematicBreak",tokenize:hC};function hC(e,t,r){let n=0,a;return i;function i(u){return e.enter("thematicBreak"),l(u)}function l(u){return a=u,o(u)}function o(u){return u===a?(e.enter("thematicBreakSequence"),c(u)):n>=3&&(u===null||G(u))?(e.exit("thematicBreak"),t(u)):r(u)}function c(u){return u===a?(e.consume(u),n++,c):(e.exit("thematicBreakSequence"),ue(u)?xe(e,o,"whitespace")(u):o(u))}}const dt={continuation:{tokenize:pC},exit:yC,name:"list",tokenize:mC},fC={partial:!0,tokenize:vC},gC={partial:!0,tokenize:xC};function mC(e,t,r){const n=this,a=n.events[n.events.length-1];let i=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,l=0;return o;function o(f){const y=n.containerState.type||(f===42||f===43||f===45?"listUnordered":"listOrdered");if(y==="listUnordered"?!n.containerState.marker||f===n.containerState.marker:Ku(f)){if(n.containerState.type||(n.containerState.type=y,e.enter(y,{_container:!0})),y==="listUnordered")return e.enter("listItemPrefix"),f===42||f===45?e.check(yl,r,u)(f):u(f);if(!n.interrupt||f===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),c(f)}return r(f)}function c(f){return Ku(f)&&++l<10?(e.consume(f),c):(!n.interrupt||l<2)&&(n.containerState.marker?f===n.containerState.marker:f===41||f===46)?(e.exit("listItemValue"),u(f)):r(f)}function u(f){return e.enter("listItemMarker"),e.consume(f),e.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||f,e.check(Do,n.interrupt?r:h,e.attempt(fC,g,d))}function h(f){return n.containerState.initialBlankLine=!0,i++,g(f)}function d(f){return ue(f)?(e.enter("listItemPrefixWhitespace"),e.consume(f),e.exit("listItemPrefixWhitespace"),g):r(f)}function g(f){return n.containerState.size=i+n.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(f)}}function pC(e,t,r){const n=this;return n.containerState._closeFlow=void 0,e.check(Do,a,i);function a(o){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,xe(e,t,"listItemIndent",n.containerState.size+1)(o)}function i(o){return n.containerState.furtherBlankLines||!ue(o)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,l(o)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,e.attempt(gC,t,l)(o))}function l(o){return n.containerState._closeFlow=!0,n.interrupt=void 0,xe(e,e.attempt(dt,t,r),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function xC(e,t,r){const n=this;return xe(e,a,"listItemIndent",n.containerState.size+1);function a(i){const l=n.events[n.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===n.containerState.size?t(i):r(i)}}function yC(e){e.exit(this.containerState.type)}function vC(e,t,r){const n=this;return xe(e,a,"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(i){const l=n.events[n.events.length-1];return!ue(i)&&l&&l[1].type==="listItemPrefixWhitespace"?t(i):r(i)}}const Wg={name:"setextUnderline",resolveTo:bC,tokenize:kC};function bC(e,t){let r=e.length,n,a,i;for(;r--;)if(e[r][0]==="enter"){if(e[r][1].type==="content"){n=r;break}e[r][1].type==="paragraph"&&(a=r)}else e[r][1].type==="content"&&e.splice(r,1),!i&&e[r][1].type==="definition"&&(i=r);const l={type:"setextHeading",start:{...e[n][1].start},end:{...e[e.length-1][1].end}};return e[a][1].type="setextHeadingText",i?(e.splice(a,0,["enter",l,t]),e.splice(i+1,0,["exit",e[n][1],t]),e[n][1].end={...e[i][1].end}):e[n][1]=l,e.push(["exit",l,t]),e}function kC(e,t,r){const n=this;let a;return i;function i(u){let h=n.events.length,d;for(;h--;)if(n.events[h][1].type!=="lineEnding"&&n.events[h][1].type!=="linePrefix"&&n.events[h][1].type!=="content"){d=n.events[h][1].type==="paragraph";break}return!n.parser.lazy[n.now().line]&&(n.interrupt||d)?(e.enter("setextHeadingLine"),a=u,l(u)):r(u)}function l(u){return e.enter("setextHeadingLineSequence"),o(u)}function o(u){return u===a?(e.consume(u),o):(e.exit("setextHeadingLineSequence"),ue(u)?xe(e,c,"lineSuffix")(u):c(u))}function c(u){return u===null||G(u)?(e.exit("setextHeadingLine"),t(u)):r(u)}}const wC={tokenize:jC};function jC(e){const t=this,r=e.attempt(Do,n,e.attempt(this.parser.constructs.flowInitial,a,xe(e,e.attempt(this.parser.constructs.flow,a,e.attempt(_N,a)),"linePrefix")));return r;function n(i){if(i===null){e.consume(i);return}return e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),t.currentConstruct=void 0,r}function a(i){if(i===null){e.consume(i);return}return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t.currentConstruct=void 0,r}}const SC={resolveAll:ny()},NC=ry("string"),CC=ry("text");function ry(e){return{resolveAll:ny(e==="text"?EC:void 0),tokenize:t};function t(r){const n=this,a=this.parser.constructs[e],i=r.attempt(a,l,o);return l;function l(h){return u(h)?i(h):o(h)}function o(h){if(h===null){r.consume(h);return}return r.enter("data"),r.consume(h),c}function c(h){return u(h)?(r.exit("data"),i(h)):(r.consume(h),c)}function u(h){if(h===null)return!0;const d=a[h];let g=-1;if(d)for(;++g<d.length;){const f=d[g];if(!f.previous||f.previous.call(n,n.previous))return!0}return!1}}}function ny(e){return t;function t(r,n){let a=-1,i;for(;++a<=r.length;)i===void 0?r[a]&&r[a][1].type==="data"&&(i=a,a++):(!r[a]||r[a][1].type!=="data")&&(a!==i+2&&(r[i][1].end=r[a-1][1].end,r.splice(i+2,a-i-2),a=i+2),i=void 0);return e?e(r,n):r}}function EC(e,t){let r=0;for(;++r<=e.length;)if((r===e.length||e[r][1].type==="lineEnding")&&e[r-1][1].type==="data"){const n=e[r-1][1],a=t.sliceStream(n);let i=a.length,l=-1,o=0,c;for(;i--;){const u=a[i];if(typeof u=="string"){for(l=u.length;u.charCodeAt(l-1)===32;)o++,l--;if(l)break;l=-1}else if(u===-2)c=!0,o++;else if(u!==-1){i++;break}}if(t._contentTypeTextTrailing&&r===e.length&&(o=0),o){const u={type:r===e.length||c||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:i?l:n.start._bufferIndex+l,_index:n.start._index+i,line:n.end.line,column:n.end.column-o,offset:n.end.offset-o},end:{...n.end}};n.end={...u.start},n.start.offset===n.end.offset?Object.assign(n,u):(e.splice(r,0,["enter",u,t],["exit",u,t]),r+=2)}r++}return e}const _C={42:dt,43:dt,45:dt,48:dt,49:dt,50:dt,51:dt,52:dt,53:dt,54:dt,55:dt,56:dt,57:dt,62:Yx},TC={91:RN},PC={[-2]:mc,[-1]:mc,32:mc},IC={35:zN,42:yl,45:[Wg,yl],60:HN,61:Wg,95:yl,96:Hg,126:Hg},MC={38:Xx,92:Gx},RC={[-5]:pc,[-4]:pc,[-3]:pc,33:lC,38:Xx,42:Yu,60:[cN,GN],91:cC,92:[AN,Gx],93:Sh,95:Yu,96:wN},DC={null:[Yu,SC]},LC={null:[42,95]},OC={null:[]},AC=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:LC,contentInitial:TC,disable:OC,document:_C,flow:IC,flowInitial:PC,insideSpan:DC,string:MC,text:RC},Symbol.toStringTag,{value:"Module"}));function FC(e,t,r){let n={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0};const a={},i=[];let l=[],o=[];const c={attempt:T(j),check:T(C),consume:p,enter:x,exit:b,interrupt:T(C,{interrupt:!0})},u={code:null,containerState:{},defineSkip:v,events:[],now:y,parser:e,previous:null,sliceSerialize:g,sliceStream:f,write:d};let h=t.tokenize.call(u,c);return t.resolveAll&&i.push(t),u;function d(P){return l=Ft(l,P),S(),l[l.length-1]!==null?[]:(D(t,0),u.events=jh(i,u.events,u),u.events)}function g(P,A){return UC(f(P),A)}function f(P){return zC(l,P)}function y(){const{_bufferIndex:P,_index:A,line:Q,column:L,offset:O}=n;return{_bufferIndex:P,_index:A,line:Q,column:L,offset:O}}function v(P){a[P.line]=P.column,R()}function S(){let P;for(;n._index<l.length;){const A=l[n._index];if(typeof A=="string")for(P=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===P&&n._bufferIndex<A.length;)m(A.charCodeAt(n._bufferIndex));else m(A)}}function m(P){h=h(P)}function p(P){G(P)?(n.line++,n.column=1,n.offset+=P===-3?2:1,R()):P!==-1&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===l[n._index].length&&(n._bufferIndex=-1,n._index++)),u.previous=P}function x(P,A){const Q=A||{};return Q.type=P,Q.start=y(),u.events.push(["enter",Q,u]),o.push(Q),Q}function b(P){const A=o.pop();return A.end=y(),u.events.push(["exit",A,u]),A}function j(P,A){D(P,A.from)}function C(P,A){A.restore()}function T(P,A){return Q;function Q(L,O,q){let te,_,K,k;return Array.isArray(L)?oe(L):"tokenize"in L?oe([L]):ae(L);function ae(ce){return jt;function jt(Ur){const ha=Ur!==null&&ce[Ur],fa=Ur!==null&&ce.null,Ri=[...Array.isArray(ha)?ha:ha?[ha]:[],...Array.isArray(fa)?fa:fa?[fa]:[]];return oe(Ri)(Ur)}}function oe(ce){return te=ce,_=0,ce.length===0?q:E(ce[_])}function E(ce){return jt;function jt(Ur){return k=U(),K=ce,ce.partial||(u.currentConstruct=ce),ce.name&&u.parser.constructs.disable.null.includes(ce.name)?re():ce.tokenize.call(A?Object.assign(Object.create(u),A):u,c,H,re)(Ur)}}function H(ce){return P(K,k),O}function re(ce){return k.restore(),++_<te.length?E(te[_]):q}}}function D(P,A){P.resolveAll&&!i.includes(P)&&i.push(P),P.resolve&&xr(u.events,A,u.events.length-A,P.resolve(u.events.slice(A),u)),P.resolveTo&&(u.events=P.resolveTo(u.events,u))}function U(){const P=y(),A=u.previous,Q=u.currentConstruct,L=u.events.length,O=Array.from(o);return{from:L,restore:q};function q(){n=P,u.previous=A,u.currentConstruct=Q,u.events.length=L,o=O,R()}}function R(){n.line in a&&n.column<2&&(n.column=a[n.line],n.offset+=a[n.line]-1)}}function zC(e,t){const r=t.start._index,n=t.start._bufferIndex,a=t.end._index,i=t.end._bufferIndex;let l;if(r===a)l=[e[r].slice(n,i)];else{if(l=e.slice(r,a),n>-1){const o=l[0];typeof o=="string"?l[0]=o.slice(n):l.shift()}i>0&&l.push(e[a].slice(0,i))}return l}function UC(e,t){let r=-1;const n=[];let a;for(;++r<e.length;){const i=e[r];let l;if(typeof i=="string")l=i;else switch(i){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=t?" ":"	";break}case-1:{if(!t&&a)continue;l=" ";break}default:l=String.fromCharCode(i)}a=i===-2,n.push(l)}return n.join("")}function $C(e){const n={constructs:K2([AC,...(e||{}).extensions||[]]),content:a(rN),defined:[],document:a(aN),flow:a(wC),lazy:{},string:a(NC),text:a(CC)};return n;function a(i){return l;function l(o){return FC(n,i,o)}}}function BC(e){for(;!Jx(e););return e}const Qg=/[\0\t\n\r]/g;function HC(){let e=1,t="",r=!0,n;return a;function a(i,l,o){const c=[];let u,h,d,g,f;for(i=t+(typeof i=="string"?i.toString():new TextDecoder(l||void 0).decode(i)),d=0,t="",r&&(i.charCodeAt(0)===65279&&d++,r=void 0);d<i.length;){if(Qg.lastIndex=d,u=Qg.exec(i),g=u&&u.index!==void 0?u.index:i.length,f=i.charCodeAt(g),!u){t=i.slice(d);break}if(f===10&&d===g&&n)c.push(-3),n=void 0;else switch(n&&(c.push(-5),n=void 0),d<g&&(c.push(i.slice(d,g)),e+=g-d),f){case 0:{c.push(65533),e++;break}case 9:{for(h=Math.ceil(e/4)*4,c.push(-2);e++<h;)c.push(-1);break}case 10:{c.push(-4),e=1;break}default:n=!0,e=1}d=g+1}return o&&(n&&c.push(-5),t&&c.push(t),c.push(null)),c}}const qC=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function WC(e){return e.replace(qC,QC)}function QC(e,t,r){if(t)return t;if(r.charCodeAt(0)===35){const a=r.charCodeAt(1),i=a===120||a===88;return Kx(r.slice(i?2:1),i?16:10)}return wh(r)||e}const ay={}.hasOwnProperty;function VC(e,t,r){return typeof t!="string"&&(r=t,t=void 0),KC(r)(BC($C(r).document().write(HC()(e,t,!0))))}function KC(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(Rh),autolinkProtocol:U,autolinkEmail:U,atxHeading:i(Ph),blockQuote:i(fa),characterEscape:U,characterReference:U,codeFenced:i(Ri),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:i(Ri,l),codeText:i(ky,l),codeTextData:U,data:U,codeFlowValue:U,definition:i(wy),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:i(jy),hardBreakEscape:i(Ih),hardBreakTrailing:i(Ih),htmlFlow:i(Mh,l),htmlFlowData:U,htmlText:i(Mh,l),htmlTextData:U,image:i(Sy),label:l,link:i(Rh),listItem:i(Ny),listItemValue:g,listOrdered:i(Dh,d),listUnordered:i(Dh),paragraph:i(Cy),reference:E,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:i(Ph),strong:i(Ey),thematicBreak:i(Ty)},exit:{atxHeading:c(),atxHeadingSequence:j,autolink:c(),autolinkEmail:ha,autolinkProtocol:Ur,blockQuote:c(),characterEscapeValue:R,characterReferenceMarkerHexadecimal:re,characterReferenceMarkerNumeric:re,characterReferenceValue:ce,characterReference:jt,codeFenced:c(S),codeFencedFence:v,codeFencedFenceInfo:f,codeFencedFenceMeta:y,codeFlowValue:R,codeIndented:c(m),codeText:c(O),codeTextData:R,data:R,definition:c(),definitionDestinationString:b,definitionLabelString:p,definitionTitleString:x,emphasis:c(),hardBreakEscape:c(A),hardBreakTrailing:c(A),htmlFlow:c(Q),htmlFlowData:R,htmlText:c(L),htmlTextData:R,image:c(te),label:K,labelText:_,lineEnding:P,link:c(q),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:H,resourceDestinationString:k,resourceTitleString:ae,resource:oe,setextHeading:c(D),setextHeadingLineSequence:T,setextHeadingText:C,strong:c(),thematicBreak:c()}};sy(t,(e||{}).mdastExtensions||[]);const r={};return n;function n(M){let $={type:"root",children:[]};const X={stack:[$],tokenStack:[],config:t,enter:o,exit:u,buffer:l,resume:h,data:r},se=[];let ge=-1;for(;++ge<M.length;)if(M[ge][1].type==="listOrdered"||M[ge][1].type==="listUnordered")if(M[ge][0]==="enter")se.push(ge);else{const qt=se.pop();ge=a(M,qt,ge)}for(ge=-1;++ge<M.length;){const qt=t[M[ge][0]];ay.call(qt,M[ge][1].type)&&qt[M[ge][1].type].call(Object.assign({sliceSerialize:M[ge][2].sliceSerialize},X),M[ge][1])}if(X.tokenStack.length>0){const qt=X.tokenStack[X.tokenStack.length-1];(qt[1]||Vg).call(X,void 0,qt[0])}for($.position={start:Br(M.length>0?M[0][1].start:{line:1,column:1,offset:0}),end:Br(M.length>0?M[M.length-2][1].end:{line:1,column:1,offset:0})},ge=-1;++ge<t.transforms.length;)$=t.transforms[ge]($)||$;return $}function a(M,$,X){let se=$-1,ge=-1,qt=!1,Pn,yr,ps,xs;for(;++se<=X;){const St=M[se];switch(St[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{St[0]==="enter"?ge++:ge--,xs=void 0;break}case"lineEndingBlank":{St[0]==="enter"&&(Pn&&!xs&&!ge&&!ps&&(ps=se),xs=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:xs=void 0}if(!ge&&St[0]==="enter"&&St[1].type==="listItemPrefix"||ge===-1&&St[0]==="exit"&&(St[1].type==="listUnordered"||St[1].type==="listOrdered")){if(Pn){let ga=se;for(yr=void 0;ga--;){const vr=M[ga];if(vr[1].type==="lineEnding"||vr[1].type==="lineEndingBlank"){if(vr[0]==="exit")continue;yr&&(M[yr][1].type="lineEndingBlank",qt=!0),vr[1].type="lineEnding",yr=ga}else if(!(vr[1].type==="linePrefix"||vr[1].type==="blockQuotePrefix"||vr[1].type==="blockQuotePrefixWhitespace"||vr[1].type==="blockQuoteMarker"||vr[1].type==="listItemIndent"))break}ps&&(!yr||ps<yr)&&(Pn._spread=!0),Pn.end=Object.assign({},yr?M[yr][1].start:St[1].end),M.splice(yr||se,0,["exit",Pn,St[2]]),se++,X++}if(St[1].type==="listItemPrefix"){const ga={type:"listItem",_spread:!1,start:Object.assign({},St[1].start),end:void 0};Pn=ga,M.splice(se,0,["enter",ga,St[2]]),se++,X++,ps=void 0,xs=!0}}}return M[$][1]._spread=qt,X}function i(M,$){return X;function X(se){o.call(this,M(se),se),$&&$.call(this,se)}}function l(){this.stack.push({type:"fragment",children:[]})}function o(M,$,X){this.stack[this.stack.length-1].children.push(M),this.stack.push(M),this.tokenStack.push([$,X||void 0]),M.position={start:Br($.start),end:void 0}}function c(M){return $;function $(X){M&&M.call(this,X),u.call(this,X)}}function u(M,$){const X=this.stack.pop(),se=this.tokenStack.pop();if(se)se[0].type!==M.type&&($?$.call(this,M,se[0]):(se[1]||Vg).call(this,M,se[0]));else throw new Error("Cannot close `"+M.type+"` ("+qs({start:M.start,end:M.end})+"): its not open");X.position.end=Br(M.end)}function h(){return Q2(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function g(M){if(this.data.expectingFirstListItemValue){const $=this.stack[this.stack.length-2];$.start=Number.parseInt(this.sliceSerialize(M),10),this.data.expectingFirstListItemValue=void 0}}function f(){const M=this.resume(),$=this.stack[this.stack.length-1];$.lang=M}function y(){const M=this.resume(),$=this.stack[this.stack.length-1];$.meta=M}function v(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function S(){const M=this.resume(),$=this.stack[this.stack.length-1];$.value=M.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function m(){const M=this.resume(),$=this.stack[this.stack.length-1];$.value=M.replace(/(\r?\n|\r)$/g,"")}function p(M){const $=this.resume(),X=this.stack[this.stack.length-1];X.label=$,X.identifier=Fa(this.sliceSerialize(M)).toLowerCase()}function x(){const M=this.resume(),$=this.stack[this.stack.length-1];$.title=M}function b(){const M=this.resume(),$=this.stack[this.stack.length-1];$.url=M}function j(M){const $=this.stack[this.stack.length-1];if(!$.depth){const X=this.sliceSerialize(M).length;$.depth=X}}function C(){this.data.setextHeadingSlurpLineEnding=!0}function T(M){const $=this.stack[this.stack.length-1];$.depth=this.sliceSerialize(M).codePointAt(0)===61?1:2}function D(){this.data.setextHeadingSlurpLineEnding=void 0}function U(M){const X=this.stack[this.stack.length-1].children;let se=X[X.length-1];(!se||se.type!=="text")&&(se=_y(),se.position={start:Br(M.start),end:void 0},X.push(se)),this.stack.push(se)}function R(M){const $=this.stack.pop();$.value+=this.sliceSerialize(M),$.position.end=Br(M.end)}function P(M){const $=this.stack[this.stack.length-1];if(this.data.atHardBreak){const X=$.children[$.children.length-1];X.position.end=Br(M.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes($.type)&&(U.call(this,M),R.call(this,M))}function A(){this.data.atHardBreak=!0}function Q(){const M=this.resume(),$=this.stack[this.stack.length-1];$.value=M}function L(){const M=this.resume(),$=this.stack[this.stack.length-1];$.value=M}function O(){const M=this.resume(),$=this.stack[this.stack.length-1];$.value=M}function q(){const M=this.stack[this.stack.length-1];if(this.data.inReference){const $=this.data.referenceType||"shortcut";M.type+="Reference",M.referenceType=$,delete M.url,delete M.title}else delete M.identifier,delete M.label;this.data.referenceType=void 0}function te(){const M=this.stack[this.stack.length-1];if(this.data.inReference){const $=this.data.referenceType||"shortcut";M.type+="Reference",M.referenceType=$,delete M.url,delete M.title}else delete M.identifier,delete M.label;this.data.referenceType=void 0}function _(M){const $=this.sliceSerialize(M),X=this.stack[this.stack.length-2];X.label=WC($),X.identifier=Fa($).toLowerCase()}function K(){const M=this.stack[this.stack.length-1],$=this.resume(),X=this.stack[this.stack.length-1];if(this.data.inReference=!0,X.type==="link"){const se=M.children;X.children=se}else X.alt=$}function k(){const M=this.resume(),$=this.stack[this.stack.length-1];$.url=M}function ae(){const M=this.resume(),$=this.stack[this.stack.length-1];$.title=M}function oe(){this.data.inReference=void 0}function E(){this.data.referenceType="collapsed"}function H(M){const $=this.resume(),X=this.stack[this.stack.length-1];X.label=$,X.identifier=Fa(this.sliceSerialize(M)).toLowerCase(),this.data.referenceType="full"}function re(M){this.data.characterReferenceType=M.type}function ce(M){const $=this.sliceSerialize(M),X=this.data.characterReferenceType;let se;X?(se=Kx($,X==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):se=wh($);const ge=this.stack[this.stack.length-1];ge.value+=se}function jt(M){const $=this.stack.pop();$.position.end=Br(M.end)}function Ur(M){R.call(this,M);const $=this.stack[this.stack.length-1];$.url=this.sliceSerialize(M)}function ha(M){R.call(this,M);const $=this.stack[this.stack.length-1];$.url="mailto:"+this.sliceSerialize(M)}function fa(){return{type:"blockquote",children:[]}}function Ri(){return{type:"code",lang:null,meta:null,value:""}}function ky(){return{type:"inlineCode",value:""}}function wy(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function jy(){return{type:"emphasis",children:[]}}function Ph(){return{type:"heading",depth:0,children:[]}}function Ih(){return{type:"break"}}function Mh(){return{type:"html",value:""}}function Sy(){return{type:"image",title:null,url:"",alt:null}}function Rh(){return{type:"link",title:null,url:"",children:[]}}function Dh(M){return{type:"list",ordered:M.type==="listOrdered",start:null,spread:M._spread,children:[]}}function Ny(M){return{type:"listItem",spread:M._spread,checked:null,children:[]}}function Cy(){return{type:"paragraph",children:[]}}function Ey(){return{type:"strong",children:[]}}function _y(){return{type:"text",value:""}}function Ty(){return{type:"thematicBreak"}}}function Br(e){return{line:e.line,column:e.column,offset:e.offset}}function sy(e,t){let r=-1;for(;++r<t.length;){const n=t[r];Array.isArray(n)?sy(e,n):YC(e,n)}}function YC(e,t){let r;for(r in t)if(ay.call(t,r))switch(r){case"canContainEols":{const n=t[r];n&&e[r].push(...n);break}case"transforms":{const n=t[r];n&&e[r].push(...n);break}case"enter":case"exit":{const n=t[r];n&&Object.assign(e[r],n);break}}}function Vg(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+qs({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+qs({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+qs({start:t.start,end:t.end})+") is still open")}function GC(e){const t=this;t.parser=r;function r(n){return VC(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function XC(e,t){const r={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,r),e.applyData(t,r)}function JC(e,t){const r={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,r),[e.applyData(t,r),{type:"text",value:`
`}]}function ZC(e,t){const r=t.value?t.value+`
`:"",n={};t.lang&&(n.className=["language-"+t.lang]);let a={type:"element",tagName:"code",properties:n,children:[{type:"text",value:r}]};return t.meta&&(a.data={meta:t.meta}),e.patch(t,a),a=e.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(t,a),a}function eE(e,t){const r={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function tE(e,t){const r={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function rE(e,t){const r=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=String(t.identifier).toUpperCase(),a=ms(n.toLowerCase()),i=e.footnoteOrder.indexOf(n);let l,o=e.footnoteCounts.get(n);o===void 0?(o=0,e.footnoteOrder.push(n),l=e.footnoteOrder.length):l=i+1,o+=1,e.footnoteCounts.set(n,o);const c={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+a,id:r+"fnref-"+a+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};e.patch(t,c);const u={type:"element",tagName:"sup",properties:{},children:[c]};return e.patch(t,u),e.applyData(t,u)}function nE(e,t){const r={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function aE(e,t){if(e.options.allowDangerousHtml){const r={type:"raw",value:t.value};return e.patch(t,r),e.applyData(t,r)}}function iy(e,t){const r=t.referenceType;let n="]";if(r==="collapsed"?n+="[]":r==="full"&&(n+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+n}];const a=e.all(t),i=a[0];i&&i.type==="text"?i.value="["+i.value:a.unshift({type:"text",value:"["});const l=a[a.length-1];return l&&l.type==="text"?l.value+=n:a.push({type:"text",value:n}),a}function sE(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return iy(e,t);const a={src:ms(n.url||""),alt:t.alt};n.title!==null&&n.title!==void 0&&(a.title=n.title);const i={type:"element",tagName:"img",properties:a,children:[]};return e.patch(t,i),e.applyData(t,i)}function iE(e,t){const r={src:ms(t.url)};t.alt!==null&&t.alt!==void 0&&(r.alt=t.alt),t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,n),e.applyData(t,n)}function lE(e,t){const r={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,r);const n={type:"element",tagName:"code",properties:{},children:[r]};return e.patch(t,n),e.applyData(t,n)}function oE(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return iy(e,t);const a={href:ms(n.url||"")};n.title!==null&&n.title!==void 0&&(a.title=n.title);const i={type:"element",tagName:"a",properties:a,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function cE(e,t){const r={href:ms(t.url)};t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function uE(e,t,r){const n=e.all(t),a=r?dE(r):ly(t),i={},l=[];if(typeof t.checked=="boolean"){const h=n[0];let d;h&&h.type==="element"&&h.tagName==="p"?d=h:(d={type:"element",tagName:"p",properties:{},children:[]},n.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let o=-1;for(;++o<n.length;){const h=n[o];(a||o!==0||h.type!=="element"||h.tagName!=="p")&&l.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!a?l.push(...h.children):l.push(h)}const c=n[n.length-1];c&&(a||c.type!=="element"||c.tagName!=="p")&&l.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:i,children:l};return e.patch(t,u),e.applyData(t,u)}function dE(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const r=e.children;let n=-1;for(;!t&&++n<r.length;)t=ly(r[n])}return t}function ly(e){const t=e.spread;return t??e.children.length>1}function hE(e,t){const r={},n=e.all(t);let a=-1;for(typeof t.start=="number"&&t.start!==1&&(r.start=t.start);++a<n.length;){const l=n[a];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}const i={type:"element",tagName:t.ordered?"ol":"ul",properties:r,children:e.wrap(n,!0)};return e.patch(t,i),e.applyData(t,i)}function fE(e,t){const r={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function gE(e,t){const r={type:"root",children:e.wrap(e.all(t))};return e.patch(t,r),e.applyData(t,r)}function mE(e,t){const r={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function pE(e,t){const r=e.all(t),n=r.shift(),a=[];if(n){const l={type:"element",tagName:"thead",properties:{},children:e.wrap([n],!0)};e.patch(t.children[0],l),a.push(l)}if(r.length>0){const l={type:"element",tagName:"tbody",properties:{},children:e.wrap(r,!0)},o=yh(t.children[1]),c=$x(t.children[t.children.length-1]);o&&c&&(l.position={start:o,end:c}),a.push(l)}const i={type:"element",tagName:"table",properties:{},children:e.wrap(a,!0)};return e.patch(t,i),e.applyData(t,i)}function xE(e,t,r){const n=r?r.children:void 0,i=(n?n.indexOf(t):1)===0?"th":"td",l=r&&r.type==="table"?r.align:void 0,o=l?l.length:t.children.length;let c=-1;const u=[];for(;++c<o;){const d=t.children[c],g={},f=l?l[c]:void 0;f&&(g.align=f);let y={type:"element",tagName:i,properties:g,children:[]};d&&(y.children=e.all(d),e.patch(d,y),y=e.applyData(d,y)),u.push(y)}const h={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,h),e.applyData(t,h)}function yE(e,t){const r={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}const Kg=9,Yg=32;function vE(e){const t=String(e),r=/\r?\n|\r/g;let n=r.exec(t),a=0;const i=[];for(;n;)i.push(Gg(t.slice(a,n.index),a>0,!0),n[0]),a=n.index+n[0].length,n=r.exec(t);return i.push(Gg(t.slice(a),a>0,!1)),i.join("")}function Gg(e,t,r){let n=0,a=e.length;if(t){let i=e.codePointAt(n);for(;i===Kg||i===Yg;)n++,i=e.codePointAt(n)}if(r){let i=e.codePointAt(a-1);for(;i===Kg||i===Yg;)a--,i=e.codePointAt(a-1)}return a>n?e.slice(n,a):""}function bE(e,t){const r={type:"text",value:vE(String(t.value))};return e.patch(t,r),e.applyData(t,r)}function kE(e,t){const r={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,r),e.applyData(t,r)}const wE={blockquote:XC,break:JC,code:ZC,delete:eE,emphasis:tE,footnoteReference:rE,heading:nE,html:aE,imageReference:sE,image:iE,inlineCode:lE,linkReference:oE,link:cE,listItem:uE,list:hE,paragraph:fE,root:gE,strong:mE,table:pE,tableCell:yE,tableRow:xE,text:bE,thematicBreak:kE,toml:tl,yaml:tl,definition:tl,footnoteDefinition:tl};function tl(){}const oy=-1,Lo=0,Qs=1,ro=2,Nh=3,Ch=4,Eh=5,_h=6,cy=7,uy=8,Xg=typeof self=="object"?self:globalThis,jE=(e,t)=>{const r=(a,i)=>(e.set(i,a),a),n=a=>{if(e.has(a))return e.get(a);const[i,l]=t[a];switch(i){case Lo:case oy:return r(l,a);case Qs:{const o=r([],a);for(const c of l)o.push(n(c));return o}case ro:{const o=r({},a);for(const[c,u]of l)o[n(c)]=n(u);return o}case Nh:return r(new Date(l),a);case Ch:{const{source:o,flags:c}=l;return r(new RegExp(o,c),a)}case Eh:{const o=r(new Map,a);for(const[c,u]of l)o.set(n(c),n(u));return o}case _h:{const o=r(new Set,a);for(const c of l)o.add(n(c));return o}case cy:{const{name:o,message:c}=l;return r(new Xg[o](c),a)}case uy:return r(BigInt(l),a);case"BigInt":return r(Object(BigInt(l)),a);case"ArrayBuffer":return r(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:o}=new Uint8Array(l);return r(new DataView(o),l)}}return r(new Xg[i](l),a)};return n},Jg=e=>jE(new Map,e)(0),xa="",{toString:SE}={},{keys:NE}=Object,Es=e=>{const t=typeof e;if(t!=="object"||!e)return[Lo,t];const r=SE.call(e).slice(8,-1);switch(r){case"Array":return[Qs,xa];case"Object":return[ro,xa];case"Date":return[Nh,xa];case"RegExp":return[Ch,xa];case"Map":return[Eh,xa];case"Set":return[_h,xa];case"DataView":return[Qs,r]}return r.includes("Array")?[Qs,r]:r.includes("Error")?[cy,r]:[ro,r]},rl=([e,t])=>e===Lo&&(t==="function"||t==="symbol"),CE=(e,t,r,n)=>{const a=(l,o)=>{const c=n.push(l)-1;return r.set(o,c),c},i=l=>{if(r.has(l))return r.get(l);let[o,c]=Es(l);switch(o){case Lo:{let h=l;switch(c){case"bigint":o=uy,h=l.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+c);h=null;break;case"undefined":return a([oy],l)}return a([o,h],l)}case Qs:{if(c){let g=l;return c==="DataView"?g=new Uint8Array(l.buffer):c==="ArrayBuffer"&&(g=new Uint8Array(l)),a([c,[...g]],l)}const h=[],d=a([o,h],l);for(const g of l)h.push(i(g));return d}case ro:{if(c)switch(c){case"BigInt":return a([c,l.toString()],l);case"Boolean":case"Number":case"String":return a([c,l.valueOf()],l)}if(t&&"toJSON"in l)return i(l.toJSON());const h=[],d=a([o,h],l);for(const g of NE(l))(e||!rl(Es(l[g])))&&h.push([i(g),i(l[g])]);return d}case Nh:return a([o,l.toISOString()],l);case Ch:{const{source:h,flags:d}=l;return a([o,{source:h,flags:d}],l)}case Eh:{const h=[],d=a([o,h],l);for(const[g,f]of l)(e||!(rl(Es(g))||rl(Es(f))))&&h.push([i(g),i(f)]);return d}case _h:{const h=[],d=a([o,h],l);for(const g of l)(e||!rl(Es(g)))&&h.push(i(g));return d}}const{message:u}=l;return a([o,{name:c,message:u}],l)};return i},Zg=(e,{json:t,lossy:r}={})=>{const n=[];return CE(!(t||r),!!t,new Map,n)(e),n},no=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Jg(Zg(e,t)):structuredClone(e):(e,t)=>Jg(Zg(e,t));function EE(e,t){const r=[{type:"text",value:""}];return t>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),r}function _E(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function TE(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=e.options.footnoteBackContent||EE,n=e.options.footnoteBackLabel||_E,a=e.options.footnoteLabel||"Footnotes",i=e.options.footnoteLabelTagName||"h2",l=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let c=-1;for(;++c<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[c]);if(!u)continue;const h=e.all(u),d=String(u.identifier).toUpperCase(),g=ms(d.toLowerCase());let f=0;const y=[],v=e.footnoteCounts.get(d);for(;v!==void 0&&++f<=v;){y.length>0&&y.push({type:"text",value:" "});let p=typeof r=="string"?r:r(c,f);typeof p=="string"&&(p={type:"text",value:p}),y.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+g+(f>1?"-"+f:""),dataFootnoteBackref:"",ariaLabel:typeof n=="string"?n:n(c,f),className:["data-footnote-backref"]},children:Array.isArray(p)?p:[p]})}const S=h[h.length-1];if(S&&S.type==="element"&&S.tagName==="p"){const p=S.children[S.children.length-1];p&&p.type==="text"?p.value+=" ":S.children.push({type:"text",value:" "}),S.children.push(...y)}else h.push(...y);const m={type:"element",tagName:"li",properties:{id:t+"fn-"+g},children:e.wrap(h,!0)};e.patch(u,m),o.push(m)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{...no(l),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:`
`}]}}const dy=function(e){if(e==null)return RE;if(typeof e=="function")return Oo(e);if(typeof e=="object")return Array.isArray(e)?PE(e):IE(e);if(typeof e=="string")return ME(e);throw new Error("Expected function, string, or object as test")};function PE(e){const t=[];let r=-1;for(;++r<e.length;)t[r]=dy(e[r]);return Oo(n);function n(...a){let i=-1;for(;++i<t.length;)if(t[i].apply(this,a))return!0;return!1}}function IE(e){const t=e;return Oo(r);function r(n){const a=n;let i;for(i in e)if(a[i]!==t[i])return!1;return!0}}function ME(e){return Oo(t);function t(r){return r&&r.type===e}}function Oo(e){return t;function t(r,n,a){return!!(DE(r)&&e.call(this,r,typeof n=="number"?n:void 0,a||void 0))}}function RE(){return!0}function DE(e){return e!==null&&typeof e=="object"&&"type"in e}const hy=[],LE=!0,em=!1,OE="skip";function AE(e,t,r,n){let a;typeof t=="function"&&typeof r!="function"?(n=r,r=t):a=t;const i=dy(a),l=n?-1:1;o(e,void 0,[])();function o(c,u,h){const d=c&&typeof c=="object"?c:{};if(typeof d.type=="string"){const f=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(c.type+(f?"<"+f+">":""))+")"})}return g;function g(){let f=hy,y,v,S;if((!t||i(c,u,h[h.length-1]||void 0))&&(f=FE(r(c,h)),f[0]===em))return f;if("children"in c&&c.children){const m=c;if(m.children&&f[0]!==OE)for(v=(n?m.children.length:-1)+l,S=h.concat(m);v>-1&&v<m.children.length;){const p=m.children[v];if(y=o(p,v,S)(),y[0]===em)return y;v=typeof y[1]=="number"?y[1]:v+l}}return f}}}function FE(e){return Array.isArray(e)?e:typeof e=="number"?[LE,e]:e==null?hy:[e]}function fy(e,t,r,n){let a,i,l;typeof t=="function"&&typeof r!="function"?(i=void 0,l=t,a=r):(i=t,l=r,a=n),AE(e,i,o,a);function o(c,u){const h=u[u.length-1],d=h?h.children.indexOf(c):void 0;return l(c,d,h)}}const Gu={}.hasOwnProperty,zE={};function UE(e,t){const r=t||zE,n=new Map,a=new Map,i=new Map,l={...wE,...r.handlers},o={all:u,applyData:BE,definitionById:n,footnoteById:a,footnoteCounts:i,footnoteOrder:[],handlers:l,one:c,options:r,patch:$E,wrap:qE};return fy(e,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const d=h.type==="definition"?n:a,g=String(h.identifier).toUpperCase();d.has(g)||d.set(g,h)}}),o;function c(h,d){const g=h.type,f=o.handlers[g];if(Gu.call(o.handlers,g)&&f)return f(o,h,d);if(o.options.passThrough&&o.options.passThrough.includes(g)){if("children"in h){const{children:v,...S}=h,m=no(S);return m.children=o.all(h),m}return no(h)}return(o.options.unknownHandler||HE)(o,h,d)}function u(h){const d=[];if("children"in h){const g=h.children;let f=-1;for(;++f<g.length;){const y=o.one(g[f],h);if(y){if(f&&g[f-1].type==="break"&&(!Array.isArray(y)&&y.type==="text"&&(y.value=tm(y.value)),!Array.isArray(y)&&y.type==="element")){const v=y.children[0];v&&v.type==="text"&&(v.value=tm(v.value))}Array.isArray(y)?d.push(...y):d.push(y)}}}return d}}function $E(e,t){e.position&&(t.position=S2(e))}function BE(e,t){let r=t;if(e&&e.data){const n=e.data.hName,a=e.data.hChildren,i=e.data.hProperties;if(typeof n=="string")if(r.type==="element")r.tagName=n;else{const l="children"in r?r.children:[r];r={type:"element",tagName:n,properties:{},children:l}}r.type==="element"&&i&&Object.assign(r.properties,no(i)),"children"in r&&r.children&&a!==null&&a!==void 0&&(r.children=a)}return r}function HE(e,t){const r=t.data||{},n="value"in t&&!(Gu.call(r,"hProperties")||Gu.call(r,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function qE(e,t){const r=[];let n=-1;for(t&&r.push({type:"text",value:`
`});++n<e.length;)n&&r.push({type:"text",value:`
`}),r.push(e[n]);return t&&e.length>0&&r.push({type:"text",value:`
`}),r}function tm(e){let t=0,r=e.charCodeAt(t);for(;r===9||r===32;)t++,r=e.charCodeAt(t);return e.slice(t)}function rm(e,t){const r=UE(e,t),n=r.one(e,void 0),a=TE(r),i=Array.isArray(n)?{type:"root",children:n}:n||{type:"root",children:[]};return a&&i.children.push({type:"text",value:`
`},a),i}function WE(e,t){return e&&"run"in e?async function(r,n){const a=rm(r,{file:n,...t});await e.run(a,n)}:function(r,n){return rm(r,{file:n,...e||t})}}function nm(e){if(e)throw e}var vl=Object.prototype.hasOwnProperty,gy=Object.prototype.toString,am=Object.defineProperty,sm=Object.getOwnPropertyDescriptor,im=function(t){return typeof Array.isArray=="function"?Array.isArray(t):gy.call(t)==="[object Array]"},lm=function(t){if(!t||gy.call(t)!=="[object Object]")return!1;var r=vl.call(t,"constructor"),n=t.constructor&&t.constructor.prototype&&vl.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!r&&!n)return!1;var a;for(a in t);return typeof a>"u"||vl.call(t,a)},om=function(t,r){am&&r.name==="__proto__"?am(t,r.name,{enumerable:!0,configurable:!0,value:r.newValue,writable:!0}):t[r.name]=r.newValue},cm=function(t,r){if(r==="__proto__")if(vl.call(t,r)){if(sm)return sm(t,r).value}else return;return t[r]},QE=function e(){var t,r,n,a,i,l,o=arguments[0],c=1,u=arguments.length,h=!1;for(typeof o=="boolean"&&(h=o,o=arguments[1]||{},c=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});c<u;++c)if(t=arguments[c],t!=null)for(r in t)n=cm(o,r),a=cm(t,r),o!==a&&(h&&a&&(lm(a)||(i=im(a)))?(i?(i=!1,l=n&&im(n)?n:[]):l=n&&lm(n)?n:{},om(o,{name:r,newValue:e(h,l,a)})):typeof a<"u"&&om(o,{name:r,newValue:a}));return o};const xc=td(QE);function Xu(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function VE(){const e=[],t={run:r,use:n};return t;function r(...a){let i=-1;const l=a.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);o(null,...a);function o(c,...u){const h=e[++i];let d=-1;if(c){l(c);return}for(;++d<a.length;)(u[d]===null||u[d]===void 0)&&(u[d]=a[d]);a=u,h?KE(h,o)(...u):l(null,...u)}}function n(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return e.push(a),t}}function KE(e,t){let r;return n;function n(...l){const o=e.length>l.length;let c;o&&l.push(a);try{c=e.apply(this,l)}catch(u){const h=u;if(o&&r)throw h;return a(h)}o||(c&&c.then&&typeof c.then=="function"?c.then(i,a):c instanceof Error?a(c):i(c))}function a(l,...o){r||(r=!0,t(l,...o))}function i(l){a(null,l)}}const ir={basename:YE,dirname:GE,extname:XE,join:JE,sep:"/"};function YE(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Ii(e);let r=0,n=-1,a=e.length,i;if(t===void 0||t.length===0||t.length>e.length){for(;a--;)if(e.codePointAt(a)===47){if(i){r=a+1;break}}else n<0&&(i=!0,n=a+1);return n<0?"":e.slice(r,n)}if(t===e)return"";let l=-1,o=t.length-1;for(;a--;)if(e.codePointAt(a)===47){if(i){r=a+1;break}}else l<0&&(i=!0,l=a+1),o>-1&&(e.codePointAt(a)===t.codePointAt(o--)?o<0&&(n=a):(o=-1,n=l));return r===n?n=l:n<0&&(n=e.length),e.slice(r,n)}function GE(e){if(Ii(e),e.length===0)return".";let t=-1,r=e.length,n;for(;--r;)if(e.codePointAt(r)===47){if(n){t=r;break}}else n||(n=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function XE(e){Ii(e);let t=e.length,r=-1,n=0,a=-1,i=0,l;for(;t--;){const o=e.codePointAt(t);if(o===47){if(l){n=t+1;break}continue}r<0&&(l=!0,r=t+1),o===46?a<0?a=t:i!==1&&(i=1):a>-1&&(i=-1)}return a<0||r<0||i===0||i===1&&a===r-1&&a===n+1?"":e.slice(a,r)}function JE(...e){let t=-1,r;for(;++t<e.length;)Ii(e[t]),e[t]&&(r=r===void 0?e[t]:r+"/"+e[t]);return r===void 0?".":ZE(r)}function ZE(e){Ii(e);const t=e.codePointAt(0)===47;let r=e_(e,!t);return r.length===0&&!t&&(r="."),r.length>0&&e.codePointAt(e.length-1)===47&&(r+="/"),t?"/"+r:r}function e_(e,t){let r="",n=0,a=-1,i=0,l=-1,o,c;for(;++l<=e.length;){if(l<e.length)o=e.codePointAt(l);else{if(o===47)break;o=47}if(o===47){if(!(a===l-1||i===1))if(a!==l-1&&i===2){if(r.length<2||n!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if(c=r.lastIndexOf("/"),c!==r.length-1){c<0?(r="",n=0):(r=r.slice(0,c),n=r.length-1-r.lastIndexOf("/")),a=l,i=0;continue}}else if(r.length>0){r="",n=0,a=l,i=0;continue}}t&&(r=r.length>0?r+"/..":"..",n=2)}else r.length>0?r+="/"+e.slice(a+1,l):r=e.slice(a+1,l),n=l-a-1;a=l,i=0}else o===46&&i>-1?i++:i=-1}return r}function Ii(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const t_={cwd:r_};function r_(){return"/"}function Ju(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function n_(e){if(typeof e=="string")e=new URL(e);else if(!Ju(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return a_(e)}function a_(e){if(e.hostname!==""){const n=new TypeError('File URL host must be "localhost" or empty on darwin');throw n.code="ERR_INVALID_FILE_URL_HOST",n}const t=e.pathname;let r=-1;for(;++r<t.length;)if(t.codePointAt(r)===37&&t.codePointAt(r+1)===50){const n=t.codePointAt(r+2);if(n===70||n===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(t)}const yc=["history","path","basename","stem","extname","dirname"];class my{constructor(t){let r;t?Ju(t)?r={path:t}:typeof t=="string"||s_(t)?r={value:t}:r=t:r={},this.cwd="cwd"in r?"":t_.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n=-1;for(;++n<yc.length;){const i=yc[n];i in r&&r[i]!==void 0&&r[i]!==null&&(this[i]=i==="history"?[...r[i]]:r[i])}let a;for(a in r)yc.includes(a)||(this[a]=r[a])}get basename(){return typeof this.path=="string"?ir.basename(this.path):void 0}set basename(t){bc(t,"basename"),vc(t,"basename"),this.path=ir.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?ir.dirname(this.path):void 0}set dirname(t){um(this.basename,"dirname"),this.path=ir.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?ir.extname(this.path):void 0}set extname(t){if(vc(t,"extname"),um(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ir.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Ju(t)&&(t=n_(t)),bc(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?ir.basename(this.path,this.extname):void 0}set stem(t){bc(t,"stem"),vc(t,"stem"),this.path=ir.join(this.dirname||"",t+(this.extname||""))}fail(t,r,n){const a=this.message(t,r,n);throw a.fatal=!0,a}info(t,r,n){const a=this.message(t,r,n);return a.fatal=void 0,a}message(t,r,n){const a=new tt(t,r,n);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function vc(e,t){if(e&&e.includes(ir.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+ir.sep+"`")}function bc(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function um(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function s_(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const i_=function(e){const n=this.constructor.prototype,a=n[e],i=function(){return a.apply(i,arguments)};return Object.setPrototypeOf(i,n),i},l_={}.hasOwnProperty;class Th extends i_{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=VE()}copy(){const t=new Th;let r=-1;for(;++r<this.attachers.length;){const n=this.attachers[r];t.use(...n)}return t.data(xc(!0,{},this.namespace)),t}data(t,r){return typeof t=="string"?arguments.length===2?(jc("data",this.frozen),this.namespace[t]=r,this):l_.call(this.namespace,t)&&this.namespace[t]||void 0:t?(jc("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...n]=this.attachers[this.freezeIndex];if(n[0]===!1)continue;n[0]===!0&&(n[0]=void 0);const a=r.call(t,...n);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const r=nl(t),n=this.parser||this.Parser;return kc("parse",n),n(String(r),r)}process(t,r){const n=this;return this.freeze(),kc("process",this.parser||this.Parser),wc("process",this.compiler||this.Compiler),r?a(void 0,r):new Promise(a);function a(i,l){const o=nl(t),c=n.parse(o);n.run(c,o,function(h,d,g){if(h||!d||!g)return u(h);const f=d,y=n.stringify(f,g);u_(y)?g.value=y:g.result=y,u(h,g)});function u(h,d){h||!d?l(h):i?i(d):r(void 0,d)}}}processSync(t){let r=!1,n;return this.freeze(),kc("processSync",this.parser||this.Parser),wc("processSync",this.compiler||this.Compiler),this.process(t,a),hm("processSync","process",r),n;function a(i,l){r=!0,nm(i),n=l}}run(t,r,n){dm(t),this.freeze();const a=this.transformers;return!n&&typeof r=="function"&&(n=r,r=void 0),n?i(void 0,n):new Promise(i);function i(l,o){const c=nl(r);a.run(t,c,u);function u(h,d,g){const f=d||t;h?o(h):l?l(f):n(void 0,f,g)}}}runSync(t,r){let n=!1,a;return this.run(t,r,i),hm("runSync","run",n),a;function i(l,o){nm(l),a=o,n=!0}}stringify(t,r){this.freeze();const n=nl(r),a=this.compiler||this.Compiler;return wc("stringify",a),dm(t),a(t,n)}use(t,...r){const n=this.attachers,a=this.namespace;if(jc("use",this.frozen),t!=null)if(typeof t=="function")c(t,r);else if(typeof t=="object")Array.isArray(t)?o(t):l(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function i(u){if(typeof u=="function")c(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[h,...d]=u;c(h,d)}else l(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function l(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(u.plugins),u.settings&&(a.settings=xc(!0,a.settings,u.settings))}function o(u){let h=-1;if(u!=null)if(Array.isArray(u))for(;++h<u.length;){const d=u[h];i(d)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function c(u,h){let d=-1,g=-1;for(;++d<n.length;)if(n[d][0]===u){g=d;break}if(g===-1)n.push([u,...h]);else if(h.length>0){let[f,...y]=h;const v=n[g][1];Xu(v)&&Xu(f)&&(f=xc(!0,v,f)),n[g]=[u,f,...y]}}}}const o_=new Th().freeze();function kc(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function wc(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function jc(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function dm(e){if(!Xu(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function hm(e,t,r){if(!r)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function nl(e){return c_(e)?e:new my(e)}function c_(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function u_(e){return typeof e=="string"||d_(e)}function d_(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const h_="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",fm=[],gm={allowDangerousHtml:!0},f_=/^(https?|ircs?|mailto|xmpp)$/i,g_=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function m_(e){const t=p_(e),r=x_(e);return y_(t.runSync(t.parse(r),r),e)}function p_(e){const t=e.rehypePlugins||fm,r=e.remarkPlugins||fm,n=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...gm}:gm;return o_().use(GC).use(r).use(WE,n).use(t)}function x_(e){const t=e.children||"",r=new my;return typeof t=="string"&&(r.value=t),r}function y_(e,t){const r=t.allowedElements,n=t.allowElement,a=t.components,i=t.disallowedElements,l=t.skipHtml,o=t.unwrapDisallowed,c=t.urlTransform||v_;for(const h of g_)Object.hasOwn(t,h.from)&&(""+h.from+(h.to?"use `"+h.to+"` instead":"remove it")+h_+h.id,void 0);return fy(e,u),T2(e,{Fragment:s.Fragment,components:a,ignoreInvalidStyle:!0,jsx:s.jsx,jsxs:s.jsxs,passKeys:!0,passNode:!0});function u(h,d,g){if(h.type==="raw"&&g&&typeof d=="number")return l?g.children.splice(d,1):g.children[d]={type:"text",value:h.value},d;if(h.type==="element"){let f;for(f in gc)if(Object.hasOwn(gc,f)&&Object.hasOwn(h.properties,f)){const y=h.properties[f],v=gc[f];(v===null||v.includes(h.tagName))&&(h.properties[f]=c(String(y||""),f,h))}}if(h.type==="element"){let f=r?!r.includes(h.tagName):i?i.includes(h.tagName):!1;if(!f&&n&&typeof d=="number"&&(f=!n(h,d,g)),f&&g&&typeof d=="number")return o&&h.children?g.children.splice(d,1,...h.children):g.children.splice(d,1),d}}}function v_(e){const t=e.indexOf(":"),r=e.indexOf("?"),n=e.indexOf("#"),a=e.indexOf("/");return t===-1||a!==-1&&t>a||r!==-1&&t>r||n!==-1&&t>n||f_.test(e.slice(0,t))?e:""}function ao(e){"@babel/helpers - typeof";return ao=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ao(e)}function la(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function ke(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function ye(e){ke(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||ao(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function b_(e,t){ke(2,arguments);var r=ye(e).getTime(),n=la(t);return new Date(r+n)}var k_={};function Mi(){return k_}function Zu(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function bl(e,t){ke(2,arguments);var r=ye(e),n=ye(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function w_(e){return ke(1,arguments),e instanceof Date||ao(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function j_(e){if(ke(1,arguments),!w_(e)&&typeof e!="number")return!1;var t=ye(e);return!isNaN(Number(t))}function S_(e,t){ke(2,arguments);var r=ye(e),n=ye(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function N_(e,t){return ke(2,arguments),ye(e).getTime()-ye(t).getTime()}var C_={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},E_="trunc";function __(e){return C_[E_]}function T_(e){ke(1,arguments);var t=ye(e);return t.setHours(23,59,59,999),t}function P_(e){ke(1,arguments);var t=ye(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function I_(e){ke(1,arguments);var t=ye(e);return T_(t).getTime()===P_(t).getTime()}function M_(e,t){ke(2,arguments);var r=ye(e),n=ye(t),a=bl(r,n),i=Math.abs(S_(r,n)),l;if(i<1)l=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);var o=bl(r,n)===-a;I_(ye(e))&&i===1&&bl(e,n)===1&&(o=!1),l=a*(i-Number(o))}return l===0?0:l}function R_(e,t,r){ke(2,arguments);var n=N_(e,t)/1e3;return __()(n)}function D_(e,t){ke(2,arguments);var r=la(t);return b_(e,-r)}var L_=864e5;function O_(e){ke(1,arguments);var t=ye(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),a=r-n;return Math.floor(a/L_)+1}function so(e){ke(1,arguments);var t=1,r=ye(e),n=r.getUTCDay(),a=(n<t?7:0)+n-t;return r.setUTCDate(r.getUTCDate()-a),r.setUTCHours(0,0,0,0),r}function py(e){ke(1,arguments);var t=ye(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var a=so(n),i=new Date(0);i.setUTCFullYear(r,0,4),i.setUTCHours(0,0,0,0);var l=so(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=l.getTime()?r:r-1}function A_(e){ke(1,arguments);var t=py(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var n=so(r);return n}var F_=6048e5;function z_(e){ke(1,arguments);var t=ye(e),r=so(t).getTime()-A_(t).getTime();return Math.round(r/F_)+1}function io(e,t){var r,n,a,i,l,o,c,u;ke(1,arguments);var h=Mi(),d=la((r=(n=(a=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(l=t.locale)===null||l===void 0||(o=l.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&a!==void 0?a:h.weekStartsOn)!==null&&n!==void 0?n:(c=h.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=ye(e),f=g.getUTCDay(),y=(f<d?7:0)+f-d;return g.setUTCDate(g.getUTCDate()-y),g.setUTCHours(0,0,0,0),g}function xy(e,t){var r,n,a,i,l,o,c,u;ke(1,arguments);var h=ye(e),d=h.getUTCFullYear(),g=Mi(),f=la((r=(n=(a=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(l=t.locale)===null||l===void 0||(o=l.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&a!==void 0?a:g.firstWeekContainsDate)!==null&&n!==void 0?n:(c=g.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var y=new Date(0);y.setUTCFullYear(d+1,0,f),y.setUTCHours(0,0,0,0);var v=io(y,t),S=new Date(0);S.setUTCFullYear(d,0,f),S.setUTCHours(0,0,0,0);var m=io(S,t);return h.getTime()>=v.getTime()?d+1:h.getTime()>=m.getTime()?d:d-1}function U_(e,t){var r,n,a,i,l,o,c,u;ke(1,arguments);var h=Mi(),d=la((r=(n=(a=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(l=t.locale)===null||l===void 0||(o=l.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&a!==void 0?a:h.firstWeekContainsDate)!==null&&n!==void 0?n:(c=h.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1),g=xy(e,t),f=new Date(0);f.setUTCFullYear(g,0,d),f.setUTCHours(0,0,0,0);var y=io(f,t);return y}var $_=6048e5;function B_(e,t){ke(1,arguments);var r=ye(e),n=io(r,t).getTime()-U_(r,t).getTime();return Math.round(n/$_)+1}function he(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}var Hr={y:function(t,r){var n=t.getUTCFullYear(),a=n>0?n:1-n;return he(r==="yy"?a%100:a,r.length)},M:function(t,r){var n=t.getUTCMonth();return r==="M"?String(n+1):he(n+1,2)},d:function(t,r){return he(t.getUTCDate(),r.length)},a:function(t,r){var n=t.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(t,r){return he(t.getUTCHours()%12||12,r.length)},H:function(t,r){return he(t.getUTCHours(),r.length)},m:function(t,r){return he(t.getUTCMinutes(),r.length)},s:function(t,r){return he(t.getUTCSeconds(),r.length)},S:function(t,r){var n=r.length,a=t.getUTCMilliseconds(),i=Math.floor(a*Math.pow(10,n-3));return he(i,r.length)}},ya={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},H_={G:function(t,r,n){var a=t.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){var a=t.getUTCFullYear(),i=a>0?a:1-a;return n.ordinalNumber(i,{unit:"year"})}return Hr.y(t,r)},Y:function(t,r,n,a){var i=xy(t,a),l=i>0?i:1-i;if(r==="YY"){var o=l%100;return he(o,2)}return r==="Yo"?n.ordinalNumber(l,{unit:"year"}):he(l,r.length)},R:function(t,r){var n=py(t);return he(n,r.length)},u:function(t,r){var n=t.getUTCFullYear();return he(n,r.length)},Q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return he(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return he(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,r,n){var a=t.getUTCMonth();switch(r){case"M":case"MM":return Hr.M(t,r);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(t,r,n){var a=t.getUTCMonth();switch(r){case"L":return String(a+1);case"LL":return he(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(t,r,n,a){var i=B_(t,a);return r==="wo"?n.ordinalNumber(i,{unit:"week"}):he(i,r.length)},I:function(t,r,n){var a=z_(t);return r==="Io"?n.ordinalNumber(a,{unit:"week"}):he(a,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):Hr.d(t,r)},D:function(t,r,n){var a=O_(t);return r==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):he(a,r.length)},E:function(t,r,n){var a=t.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(t,r,n,a){var i=t.getUTCDay(),l=(i-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(l);case"ee":return he(l,2);case"eo":return n.ordinalNumber(l,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,r,n,a){var i=t.getUTCDay(),l=(i-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(l);case"cc":return he(l,r.length);case"co":return n.ordinalNumber(l,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,r,n){var a=t.getUTCDay(),i=a===0?7:a;switch(r){case"i":return String(i);case"ii":return he(i,r.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(t,r,n){var a=t.getUTCHours(),i=a/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,r,n){var a=t.getUTCHours(),i;switch(a===12?i=ya.noon:a===0?i=ya.midnight:i=a/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,r,n){var a=t.getUTCHours(),i;switch(a>=17?i=ya.evening:a>=12?i=ya.afternoon:a>=4?i=ya.morning:i=ya.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){var a=t.getUTCHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return Hr.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Hr.H(t,r)},K:function(t,r,n){var a=t.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(a,{unit:"hour"}):he(a,r.length)},k:function(t,r,n){var a=t.getUTCHours();return a===0&&(a=24),r==="ko"?n.ordinalNumber(a,{unit:"hour"}):he(a,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Hr.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Hr.s(t,r)},S:function(t,r){return Hr.S(t,r)},X:function(t,r,n,a){var i=a._originalDate||t,l=i.getTimezoneOffset();if(l===0)return"Z";switch(r){case"X":return pm(l);case"XXXX":case"XX":return Rn(l);case"XXXXX":case"XXX":default:return Rn(l,":")}},x:function(t,r,n,a){var i=a._originalDate||t,l=i.getTimezoneOffset();switch(r){case"x":return pm(l);case"xxxx":case"xx":return Rn(l);case"xxxxx":case"xxx":default:return Rn(l,":")}},O:function(t,r,n,a){var i=a._originalDate||t,l=i.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+mm(l,":");case"OOOO":default:return"GMT"+Rn(l,":")}},z:function(t,r,n,a){var i=a._originalDate||t,l=i.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+mm(l,":");case"zzzz":default:return"GMT"+Rn(l,":")}},t:function(t,r,n,a){var i=a._originalDate||t,l=Math.floor(i.getTime()/1e3);return he(l,r.length)},T:function(t,r,n,a){var i=a._originalDate||t,l=i.getTime();return he(l,r.length)}};function mm(e,t){var r=e>0?"-":"+",n=Math.abs(e),a=Math.floor(n/60),i=n%60;if(i===0)return r+String(a);var l=t;return r+String(a)+l+he(i,2)}function pm(e,t){if(e%60===0){var r=e>0?"-":"+";return r+he(Math.abs(e)/60,2)}return Rn(e,t)}function Rn(e,t){var r=t||"",n=e>0?"-":"+",a=Math.abs(e),i=he(Math.floor(a/60),2),l=he(a%60,2);return n+i+r+l}var xm=function(t,r){switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},yy=function(t,r){switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},q_=function(t,r){var n=t.match(/(P+)(p+)?/)||[],a=n[1],i=n[2];if(!i)return xm(t,r);var l;switch(a){case"P":l=r.dateTime({width:"short"});break;case"PP":l=r.dateTime({width:"medium"});break;case"PPP":l=r.dateTime({width:"long"});break;case"PPPP":default:l=r.dateTime({width:"full"});break}return l.replace("{{date}}",xm(a,r)).replace("{{time}}",yy(i,r))},W_={p:yy,P:q_},Q_=["D","DD"],V_=["YY","YYYY"];function K_(e){return Q_.indexOf(e)!==-1}function Y_(e){return V_.indexOf(e)!==-1}function ym(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var G_={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},X_=function(t,r,n){var a,i=G_[t];return typeof i=="string"?a=i:r===1?a=i.one:a=i.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function Sc(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}var J_={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Z_={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},e4={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},t4={date:Sc({formats:J_,defaultWidth:"full"}),time:Sc({formats:Z_,defaultWidth:"full"}),dateTime:Sc({formats:e4,defaultWidth:"full"})},r4={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},n4=function(t,r,n,a){return r4[t]};function _s(e){return function(t,r){var n=r!=null&&r.context?String(r.context):"standalone",a;if(n==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):i;a=e.formattingValues[l]||e.formattingValues[i]}else{var o=e.defaultWidth,c=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[c]||e.values[o]}var u=e.argumentCallback?e.argumentCallback(t):t;return a[u]}}var a4={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},s4={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},i4={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},l4={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},o4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},c4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},u4=function(t,r){var n=Number(t),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},d4={ordinalNumber:u4,era:_s({values:a4,defaultWidth:"wide"}),quarter:_s({values:s4,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:_s({values:i4,defaultWidth:"wide"}),day:_s({values:l4,defaultWidth:"wide"}),dayPeriod:_s({values:o4,defaultWidth:"wide",formattingValues:c4,defaultFormattingWidth:"wide"})};function Ts(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;var l=i[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(o)?f4(o,function(d){return d.test(l)}):h4(o,function(d){return d.test(l)}),u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;var h=t.slice(l.length);return{value:u,rest:h}}}function h4(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function f4(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function g4(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var a=n[0],i=t.match(e.parsePattern);if(!i)return null;var l=e.valueCallback?e.valueCallback(i[0]):i[0];l=r.valueCallback?r.valueCallback(l):l;var o=t.slice(a.length);return{value:l,rest:o}}}var m4=/^(\d+)(th|st|nd|rd)?/i,p4=/\d+/i,x4={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},y4={any:[/^b/i,/^(a|c)/i]},v4={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},b4={any:[/1/i,/2/i,/3/i,/4/i]},k4={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},w4={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},j4={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},S4={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},N4={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},C4={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},E4={ordinalNumber:g4({matchPattern:m4,parsePattern:p4,valueCallback:function(t){return parseInt(t,10)}}),era:Ts({matchPatterns:x4,defaultMatchWidth:"wide",parsePatterns:y4,defaultParseWidth:"any"}),quarter:Ts({matchPatterns:v4,defaultMatchWidth:"wide",parsePatterns:b4,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Ts({matchPatterns:k4,defaultMatchWidth:"wide",parsePatterns:w4,defaultParseWidth:"any"}),day:Ts({matchPatterns:j4,defaultMatchWidth:"wide",parsePatterns:S4,defaultParseWidth:"any"}),dayPeriod:Ts({matchPatterns:N4,defaultMatchWidth:"any",parsePatterns:C4,defaultParseWidth:"any"})},vy={code:"en-US",formatDistance:X_,formatLong:t4,formatRelative:n4,localize:d4,match:E4,options:{weekStartsOn:0,firstWeekContainsDate:1}},_4=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,T4=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,P4=/^'([^]*?)'?$/,I4=/''/g,M4=/[a-zA-Z]/;function R4(e,t,r){var n,a,i,l,o,c,u,h,d,g,f,y,v,S;ke(2,arguments);var m=String(t),p=Mi(),x=(n=(a=void 0)!==null&&a!==void 0?a:p.locale)!==null&&n!==void 0?n:vy,b=la((i=(l=(o=(c=void 0)!==null&&c!==void 0?c:void 0)!==null&&o!==void 0?o:p.firstWeekContainsDate)!==null&&l!==void 0?l:(u=p.locale)===null||u===void 0||(h=u.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(b>=1&&b<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var j=la((d=(g=(f=(y=void 0)!==null&&y!==void 0?y:void 0)!==null&&f!==void 0?f:p.weekStartsOn)!==null&&g!==void 0?g:(v=p.locale)===null||v===void 0||(S=v.options)===null||S===void 0?void 0:S.weekStartsOn)!==null&&d!==void 0?d:0);if(!(j>=0&&j<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!x.localize)throw new RangeError("locale must contain localize property");if(!x.formatLong)throw new RangeError("locale must contain formatLong property");var C=ye(e);if(!j_(C))throw new RangeError("Invalid time value");var T=Zu(C),D=D_(C,T),U={firstWeekContainsDate:b,weekStartsOn:j,locale:x,_originalDate:C},R=m.match(T4).map(function(P){var A=P[0];if(A==="p"||A==="P"){var Q=W_[A];return Q(P,x.formatLong)}return P}).join("").match(_4).map(function(P){if(P==="''")return"'";var A=P[0];if(A==="'")return D4(P);var Q=H_[A];if(Q)return Y_(P)&&ym(P,t,String(e)),K_(P)&&ym(P,t,String(e)),Q(D,P,x.localize,U);if(A.match(M4))throw new RangeError("Format string contains an unescaped latin alphabet character `"+A+"`");return P}).join("");return R}function D4(e){var t=e.match(P4);return t?t[1].replace(I4,"'"):e}function by(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}function L4(e){return by({},e)}var vm=1440,O4=2520,Nc=43200,A4=86400;function F4(e,t,r){var n,a;ke(2,arguments);var i=Mi(),l=(n=(a=r==null?void 0:r.locale)!==null&&a!==void 0?a:i.locale)!==null&&n!==void 0?n:vy;if(!l.formatDistance)throw new RangeError("locale must contain formatDistance property");var o=bl(e,t);if(isNaN(o))throw new RangeError("Invalid time value");var c=by(L4(r),{addSuffix:!!(r!=null&&r.addSuffix),comparison:o}),u,h;o>0?(u=ye(t),h=ye(e)):(u=ye(e),h=ye(t));var d=R_(h,u),g=(Zu(h)-Zu(u))/1e3,f=Math.round((d-g)/60),y;if(f<2)return r!=null&&r.includeSeconds?d<5?l.formatDistance("lessThanXSeconds",5,c):d<10?l.formatDistance("lessThanXSeconds",10,c):d<20?l.formatDistance("lessThanXSeconds",20,c):d<40?l.formatDistance("halfAMinute",0,c):d<60?l.formatDistance("lessThanXMinutes",1,c):l.formatDistance("xMinutes",1,c):f===0?l.formatDistance("lessThanXMinutes",1,c):l.formatDistance("xMinutes",f,c);if(f<45)return l.formatDistance("xMinutes",f,c);if(f<90)return l.formatDistance("aboutXHours",1,c);if(f<vm){var v=Math.round(f/60);return l.formatDistance("aboutXHours",v,c)}else{if(f<O4)return l.formatDistance("xDays",1,c);if(f<Nc){var S=Math.round(f/vm);return l.formatDistance("xDays",S,c)}else if(f<A4)return y=Math.round(f/Nc),l.formatDistance("aboutXMonths",y,c)}if(y=M_(h,u),y<12){var m=Math.round(f/Nc);return l.formatDistance("xMonths",m,c)}else{var p=y%12,x=Math.floor(y/12);return p<3?l.formatDistance("aboutXYears",x,c):p<9?l.formatDistance("overXYears",x,c):l.formatDistance("almostXYears",x+1,c)}}function z4(e,t){return ke(1,arguments),F4(e,Date.now(),t)}function U4({message:e,onActionClick:t,onCitationClick:r}){const[n,a]=w.useState(!1),i=e.role==="user",l=async()=>{await navigator.clipboard.writeText(e.content),a(!0),setTimeout(()=>a(!1),2e3)},o=c=>{switch(c){case"critical":return"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200 border-red-300 dark:border-red-700";case"high":return"bg-orange-100 dark:bg-orange-900 text-orange-800 dark:text-orange-200 border-orange-300 dark:border-orange-700";case"medium":return"bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200 border-yellow-300 dark:border-yellow-700";case"low":return"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 border-green-300 dark:border-green-700";default:return"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200 border-gray-300 dark:border-gray-600"}};return s.jsx("div",{className:`flex ${i?"justify-end":"justify-start"} mb-4`,children:s.jsxs("div",{className:`max-w-[80%] ${i?"order-2":"order-1"}`,children:[s.jsxs("div",{className:`rounded-lg p-4 ${i?"bg-blue-600 text-white":"bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 border border-gray-200 dark:border-gray-700"}`,children:[!i&&s.jsxs("div",{className:"flex items-center justify-between mb-2 pb-2 border-b border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Le,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),s.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:"CastellanAI"}),e.intent&&s.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200",children:e.intent})]}),s.jsx("button",{onClick:l,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors",title:"Copy message",children:n?s.jsx(rr,{className:"w-4 h-4 text-green-600"}):s.jsx(pg,{className:"w-4 h-4"})})]}),s.jsx("div",{className:`prose ${i?"prose-invert":"dark:prose-invert"} prose-sm max-w-none`,children:s.jsx(m_,{components:{a:({node:c,...u})=>s.jsx("a",{...u,className:"text-blue-600 dark:text-blue-400 hover:underline",target:"_blank",rel:"noopener noreferrer"}),code:({node:c,...u})=>u.className?s.jsx("code",{...u,className:"block px-4 py-3 rounded bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-gray-200 font-mono text-sm overflow-x-auto"}):s.jsx("code",{...u,className:"px-1.5 py-0.5 rounded bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200 font-mono text-sm"})},children:e.content})}),i&&s.jsx("div",{className:"flex justify-end mt-2 pt-2 border-t border-blue-500",children:s.jsx("button",{onClick:l,className:"text-blue-100 hover:text-white transition-colors text-sm flex items-center gap-1",title:"Copy message",children:n?s.jsxs(s.Fragment,{children:[s.jsx(rr,{className:"w-3 h-3"}),s.jsx("span",{children:"Copied"})]}):s.jsxs(s.Fragment,{children:[s.jsx(pg,{className:"w-3 h-3"}),s.jsx("span",{children:"Copy"})]})})})]}),e.citations&&e.citations.length>0&&s.jsxs("div",{className:"mt-2 space-y-1",children:[s.jsx("div",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400 mb-1",children:"Sources:"}),e.citations.map((c,u)=>s.jsx("button",{onClick:()=>r==null?void 0:r(c),className:"w-full text-left p-2 rounded-lg bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 hover:border-blue-300 dark:hover:border-blue-600 transition-all group",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(U1,{className:"w-3 h-3 mt-0.5 text-gray-400 group-hover:text-blue-600 dark:group-hover:text-blue-400"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-xs font-medium text-gray-900 dark:text-gray-100 truncate",children:c.displayText||c.sourceId}),c.url&&s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:c.url})]}),s.jsxs("span",{className:"text-xs text-gray-400",children:[Math.round(c.relevance*100),"%"]})]})},u))]}),e.suggestedActions&&e.suggestedActions.length>0&&s.jsxs("div",{className:"mt-3 space-y-2",children:[s.jsx("div",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400 mb-1",children:"Suggested Actions:"}),e.suggestedActions.map((c,u)=>{const h=c.type==="block_ip"?Le:c.type==="create_ticket"?_o:pr,d=o(c.parameters.severity||"medium");return s.jsx("button",{onClick:()=>t==null?void 0:t(c),className:`w-full text-left p-3 rounded-lg border transition-all hover:shadow-md ${d}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(h,{className:"w-5 h-5 mt-0.5"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-sm font-semibold",children:c.label}),s.jsx("div",{className:"text-xs opacity-80 mt-0.5",children:c.description}),c.confidence&&s.jsxs("div",{className:"text-xs mt-1 opacity-70",children:["Confidence: ",Math.round(c.confidence*100),"%"]})]})]})},u)})]}),e.visualizations&&e.visualizations.length>0&&s.jsx("div",{className:"mt-3 space-y-3",children:e.visualizations.map((c,u)=>s.jsxs("div",{className:"p-4 rounded-lg bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700",children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100 mb-2",children:c.title}),s.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:["Visualization: ",c.type]}),s.jsx("pre",{className:"mt-2 text-xs bg-gray-50 dark:bg-gray-900 p-2 rounded overflow-x-auto",children:JSON.stringify(c.data,null,2)})]},u))}),s.jsx("div",{className:`text-xs text-gray-500 dark:text-gray-400 mt-1 ${i?"text-right":"text-left"}`,children:R4(new Date(e.timestamp),"MMM d, yyyy h:mm a")})]})})}function $4({message:e="CastellanAI is thinking...",showProgress:t=!1,estimatedTimeMs:r=3e3}){const[n,a]=w.useState(0),[i,l]=w.useState("");return w.useEffect(()=>{const o=setInterval(()=>{l(c=>c.length>=3?"":c+".")},500);return()=>clearInterval(o)},[]),w.useEffect(()=>{if(!t)return;const o=100/(r/100),c=setInterval(()=>{a(u=>{const h=u+o;return h>=90?Math.min(u+o/4,95):Math.min(h,95)})},100);return()=>{clearInterval(c),a(0)}},[t,r]),s.jsxs("div",{className:"flex justify-start mb-4",children:[s.jsxs("div",{className:"max-w-[80%]",children:[s.jsxs("div",{className:"rounded-lg p-4 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx(O1,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),s.jsx(sa,{className:"w-3 h-3 text-blue-600 dark:text-blue-400 animate-spin absolute -top-1 -right-1"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:[e,i]}),t&&s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Analyzing security context..."})]})]}),t&&s.jsx("div",{className:"mt-3",children:s.jsx("div",{className:"h-1.5 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-blue-600 transition-all duration-300 ease-out rounded-full",style:{width:`${n}%`},children:s.jsx("div",{className:"h-full w-full bg-gradient-to-r from-transparent via-white/30 to-transparent animate-shimmer"})})})}),s.jsx("div",{className:"flex items-center gap-1.5 mt-3",children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx("span",{className:"w-2 h-2 bg-blue-600 dark:bg-blue-400 rounded-full animate-pulse",style:{animationDelay:"0ms"}}),s.jsx("span",{className:"w-2 h-2 bg-blue-600 dark:bg-blue-400 rounded-full animate-pulse",style:{animationDelay:"150ms"}}),s.jsx("span",{className:"w-2 h-2 bg-blue-600 dark:bg-blue-400 rounded-full animate-pulse",style:{animationDelay:"300ms"}})]})})]}),s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Just now"})]}),s.jsx("style",{children:`
        @keyframes shimmer {
          0% { transform: translateX(-100%); }
          100% { transform: translateX(100%); }
        }
        .animate-shimmer {
          animation: shimmer 1.5s infinite;
        }
      `})]})}function B4({onSendMessage:e,disabled:t=!1,loading:r=!1,placeholder:n="Ask CastellanAI about security events, threats, or investigations...",maxLength:a=2e3,suggestions:i=[],onSuggestionClick:l}){const[o,c]=w.useState(""),[u,h]=w.useState(!1),d=w.useRef(null),g=w.useRef(null);w.useEffect(()=>{const b=d.current;if(!b)return;b.style.height="auto";const j=Math.min(Math.max(b.scrollHeight,60),200);b.style.height=`${j}px`},[o]),w.useEffect(()=>{var b;(b=d.current)==null||b.focus()},[]);const f=()=>{const b=o.trim();!b||t||r||(e(b),c(""),h(!1),d.current&&(d.current.style.height="auto"))},y=b=>{(b.ctrlKey||b.metaKey)&&b.key==="Enter"&&(b.preventDefault(),f())},v=b=>{const j=b.target.value;j.length<=a&&(c(j),j.length>0&&i.length>0?h(!0):h(!1))},S=b=>{var j;c(b),h(!1),l==null||l(b),(j=d.current)==null||j.focus()},m=o.length,p=m>a*.8,x=m>=a;return s.jsxs("div",{className:"relative",ref:g,children:[u&&i.length>0&&s.jsx("div",{className:"absolute bottom-full left-0 right-0 mb-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg max-h-48 overflow-y-auto z-10",children:s.jsxs("div",{className:"p-2",children:[s.jsx("div",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400 px-2 py-1",children:"Suggestions"}),i.map((b,j)=>s.jsx("button",{onClick:()=>S(b),className:"w-full text-left px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 text-sm text-gray-900 dark:text-gray-100 transition-colors",children:b},j))]})}),s.jsxs("div",{className:"flex items-end gap-2 p-4 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx("textarea",{ref:d,value:o,onChange:v,onKeyDown:y,placeholder:n,disabled:t||r,className:`w-full px-4 py-3 pr-16 rounded-lg border resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 transition-all ${t||r?"bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400 cursor-not-allowed":"bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 border-gray-300 dark:border-gray-600"} ${x?"border-red-500 dark:border-red-400":""}`,rows:1,style:{minHeight:"60px",maxHeight:"200px"}}),s.jsxs("div",{className:`absolute bottom-2 right-2 text-xs ${x?"text-red-600 dark:text-red-400 font-semibold":p?"text-orange-600 dark:text-orange-400":"text-gray-400 dark:text-gray-500"}`,children:[m," / ",a]})]}),s.jsx("button",{onClick:f,disabled:!o.trim()||t||r||x,className:`flex items-center justify-center w-12 h-12 rounded-lg transition-all ${!o.trim()||t||r||x?"bg-gray-200 dark:bg-gray-700 text-gray-400 dark:text-gray-500 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white shadow-md hover:shadow-lg transform hover:scale-105"}`,title:"Send message (Ctrl+Enter)",children:r?s.jsx(sa,{className:"w-5 h-5 animate-spin"}):s.jsx(V1,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"px-4 pb-2 flex items-center justify-between text-xs text-gray-500 dark:text-gray-400",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{children:"Press"}),s.jsx("kbd",{className:"px-1.5 py-0.5 bg-gray-100 dark:bg-gray-700 rounded border border-gray-300 dark:border-gray-600 font-mono",children:"Ctrl"}),s.jsx("span",{children:"+"}),s.jsx("kbd",{className:"px-1.5 py-0.5 bg-gray-100 dark:bg-gray-700 rounded border border-gray-300 dark:border-gray-600 font-mono",children:"Enter"}),s.jsx("span",{children:"to send"})]}),x&&s.jsxs("div",{className:"flex items-center gap-1 text-red-600 dark:text-red-400",children:[s.jsx(pr,{className:"w-3 h-3"}),s.jsx("span",{children:"Character limit reached"})]})]})]})}const H4=[{id:"critical-events",text:"Show critical events from last hour",icon:bt,category:"threat"},{id:"summarize-threats",text:"Summarize today's threats",icon:Le,category:"analysis"},{id:"compliance-status",text:"Check compliance status",icon:_o,category:"compliance"},{id:"failed-logins",text:"Find failed login attempts",icon:wx,category:"investigation"},{id:"network-activity",text:"Show unusual network activity",icon:Sx,category:"threat"},{id:"user-activity",text:"Review user activity patterns",icon:X1,category:"analysis"}],q4=[{id:"active-threats",text:"What active threats are detected?",icon:bt,category:"threat"},{id:"malware-detections",text:"Show recent malware detections",icon:Le,category:"threat"},{id:"external-ips",text:"Find connections from external IPs",icon:Sx,category:"investigation"},{id:"privilege-escalation",text:"Check for privilege escalation attempts",icon:uh,category:"threat"}],W4=[{id:"recent-high-risk",text:"Show recent high-risk events",icon:bt,category:"threat"},{id:"event-timeline",text:"Create timeline of recent events",icon:Ei,category:"analysis"},{id:"correlation-patterns",text:"Find correlated event patterns",icon:jn,category:"analysis"},{id:"search-events",text:"Search events by criteria",icon:fs,category:"investigation"}],Q4=[{id:"soc2-report",text:"Generate SOC2 compliance report",icon:_o,category:"compliance"},{id:"access-violations",text:"Find access control violations",icon:wx,category:"compliance"},{id:"audit-trail",text:"Review audit trail for changes",icon:jn,category:"compliance"},{id:"policy-violations",text:"Check for policy violations",icon:bt,category:"compliance"}];function V4({onSuggestionClick:e,context:t="default"}){const r=id.useMemo(()=>{switch(t){case"threat":return q4;case"event":return W4;case"compliance":return Q4;default:return H4}},[t]),n=a=>{switch(a){case"threat":return"border-red-200 dark:border-red-800 hover:border-red-400 dark:hover:border-red-600 hover:bg-red-50 dark:hover:bg-red-900/20";case"investigation":return"border-orange-200 dark:border-orange-800 hover:border-orange-400 dark:hover:border-orange-600 hover:bg-orange-50 dark:hover:bg-orange-900/20";case"compliance":return"border-blue-200 dark:border-blue-800 hover:border-blue-400 dark:hover:border-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20";case"analysis":return"border-green-200 dark:border-green-800 hover:border-green-400 dark:hover:border-green-600 hover:bg-green-50 dark:hover:bg-green-900/20";default:return"border-gray-200 dark:border-gray-700 hover:border-gray-400 dark:hover:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800"}};return s.jsxs("div",{className:"p-6 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"mb-3",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100 mb-1",children:"Quick Start"}),s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Try these common security queries"})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2",children:r.map(a=>{const i=a.icon;return s.jsxs("button",{onClick:()=>e(a.text),className:`flex items-start gap-3 p-3 rounded-lg border-2 transition-all text-left ${n(a.category)}`,children:[s.jsx(i,{className:"w-4 h-4 mt-0.5 flex-shrink-0 text-gray-600 dark:text-gray-400"}),s.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100 leading-tight",children:a.text})]},a.id)})}),s.jsxs("div",{className:"mt-4 flex flex-wrap gap-3 text-xs text-gray-600 dark:text-gray-400",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),s.jsx("span",{children:"Threat Hunting"})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-orange-500"}),s.jsx("span",{children:"Investigation"})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),s.jsx("span",{children:"Compliance"})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),s.jsx("span",{children:"Analysis"})]})]})]})}function K4({conversations:e,selectedConversationId:t,onConversationSelect:r,onNewConversation:n,onDeleteConversation:a,onArchiveConversation:i,loading:l=!1}){const[o,c]=w.useState(""),[u,h]=w.useState(null),[d,g]=w.useState(null),f=e.filter(m=>{var x;if(!o)return!0;const p=o.toLowerCase();return m.title.toLowerCase().includes(p)||((x=m.tags)==null?void 0:x.some(b=>b.toLowerCase().includes(p)))}),y=m=>{a(m),g(null),h(null)},v=m=>{i==null||i(m),h(null)},S=(m,p)=>{p.stopPropagation(),h(u===m?null:m)};return s.jsxs("div",{className:"w-80 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 flex flex-col h-full",children:[s.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[s.jsx(xg,{className:"w-5 h-5"}),"Conversations"]}),s.jsx("button",{onClick:n,className:"p-2 rounded-lg bg-blue-600 hover:bg-blue-700 text-white transition-colors shadow-sm hover:shadow-md",title:"New conversation",children:s.jsx(Jl,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"relative",children:[s.jsx(fs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx("input",{type:"text",value:o,onChange:m=>c(m.target.value),placeholder:"Search conversations...",className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:l?s.jsxs("div",{className:"p-4 text-center text-gray-500 dark:text-gray-400",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-2 text-sm",children:"Loading conversations..."})]}):f.length===0?s.jsxs("div",{className:"p-4 text-center text-gray-500 dark:text-gray-400",children:[s.jsx(xg,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{className:"text-sm",children:o?"No conversations found":"No conversations yet"}),s.jsx("p",{className:"text-xs mt-1",children:o?"Try a different search":"Start a new conversation"})]}):s.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:f.map(m=>s.jsxs("div",{className:"relative group",onClick:()=>{d!==m.id&&r(m.id)},children:[d===m.id&&s.jsx("div",{className:"absolute inset-0 bg-red-50 dark:bg-red-900/20 z-10 flex items-center justify-center p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm font-semibold text-red-800 dark:text-red-200 mb-3",children:"Delete this conversation?"}),s.jsxs("div",{className:"flex gap-2 justify-center",children:[s.jsx("button",{onClick:p=>{p.stopPropagation(),y(m.id)},className:"px-3 py-1.5 bg-red-600 hover:bg-red-700 text-white text-sm rounded-md transition-colors",children:"Delete"}),s.jsx("button",{onClick:p=>{p.stopPropagation(),g(null)},className:"px-3 py-1.5 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-900 dark:text-gray-100 text-sm rounded-md transition-colors",children:"Cancel"})]})]})}),s.jsxs("div",{className:`p-4 cursor-pointer transition-colors ${t===m.id?"bg-blue-50 dark:bg-blue-900/20 border-l-4 border-blue-600":"hover:bg-gray-50 dark:hover:bg-gray-700 border-l-4 border-transparent"}`,children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:`text-sm font-semibold truncate ${t===m.id?"text-blue-900 dark:text-blue-100":"text-gray-900 dark:text-gray-100"}`,children:m.title}),m.lastMessage&&s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 truncate mt-1",children:m.lastMessage.content}),s.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs text-gray-500 dark:text-gray-400",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ei,{className:"w-3 h-3"}),s.jsx("span",{children:z4(new Date(m.updatedAt),{addSuffix:!0})})]}),m.messageCount!==void 0&&s.jsxs("span",{children:[" ",m.messageCount," messages"]})]}),m.tags&&m.tags.length>0&&s.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[s.jsx(G1,{className:"w-3 h-3 text-gray-400"}),s.jsxs("div",{className:"flex gap-1 flex-wrap",children:[m.tags.slice(0,2).map((p,x)=>s.jsx("span",{className:"px-1.5 py-0.5 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded text-xs",children:p},x)),m.tags.length>2&&s.jsxs("span",{className:"text-xs text-gray-500",children:["+",m.tags.length-2]})]})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("button",{onClick:p=>S(m.id,p),className:"p-1 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors opacity-0 group-hover:opacity-100",children:s.jsx(z1,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})}),u===m.id&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-20",onClick:p=>{p.stopPropagation(),h(null)}}),s.jsxs("div",{className:"absolute right-0 top-6 z-30 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg py-1 min-w-[160px]",children:[i&&!m.isArchived&&s.jsxs("button",{onClick:p=>{p.stopPropagation(),v(m.id)},className:"w-full px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-2",children:[s.jsx(D1,{className:"w-4 h-4"}),"Archive"]}),s.jsxs("button",{onClick:p=>{p.stopPropagation(),g(m.id),h(null)},className:"w-full px-4 py-2 text-left text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 flex items-center gap-2",children:[s.jsx(Po,{className:"w-4 h-4"}),"Delete"]})]})]})]})]}),m.isNew&&s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx("span",{className:"px-2 py-0.5 bg-blue-600 text-white text-xs font-semibold rounded-full",children:"New"})})]})]},m.id))})}),s.jsxs("div",{className:"p-3 border-t border-gray-200 dark:border-gray-700 text-xs text-gray-500 dark:text-gray-400 text-center",children:[f.length," conversation",f.length!==1?"s":""]})]})}function Y4(){const{token:e,loading:t}=kt(),r=ct(),n=Ht(),[a,i]=w.useState(null),[l,o]=w.useState([]),c=w.useRef(null);w.useEffect(()=>{!t&&!e&&r("/login")},[e,t,r]);const u=Fe({queryKey:["chat-conversations"],queryFn:()=>pa.getConversations(),enabled:!t&&!!e,retry:2,retryDelay:1e3,staleTime:3e4}),h=Fe({queryKey:["chat-conversation",a],queryFn:()=>pa.getConversation(a),enabled:!t&&!!e&&!!a,staleTime:0,gcTime:0});w.useEffect(()=>{var j;(j=h.data)!=null&&j.messages?o(h.data.messages):a||o([])},[h.data,a]),w.useEffect(()=>{var j;(j=c.current)==null||j.scrollIntoView({behavior:"smooth"})},[l]);const d=mr({mutationFn:j=>pa.sendMessage(j),onSuccess:j=>{const C={...j.message,id:j.message.id||`msg-${Date.now()}`};o(T=>[...T,C]),a||i(j.conversationId),n.invalidateQueries({queryKey:["chat-conversations"]}),n.invalidateQueries({queryKey:["chat-conversation",a||j.conversationId]})},onError:j=>{console.error("Failed to send message:",j),alert(`Failed to send message: ${j.message||"Unknown error"}`),o(C=>C.slice(0,-1))}}),g=mr({mutationFn:()=>pa.createConversation(),onSuccess:j=>{i(j.id),o([]),n.invalidateQueries({queryKey:["chat-conversations"]})}}),f=mr({mutationFn:j=>pa.deleteConversation(j),onMutate:async j=>{await n.cancelQueries({queryKey:["chat-conversations"]});const C=n.getQueryData(["chat-conversations"]);return n.setQueryData(["chat-conversations"],T=>T?T.filter(D=>D.id!==j):[]),a===j&&(i(null),o([])),{previousConversations:C}},onError:(j,C,T)=>{T!=null&&T.previousConversations&&n.setQueryData(["chat-conversations"],T.previousConversations),console.error("Failed to delete conversation:",j),alert(`Failed to delete conversation: ${j.message||"Unknown error"}`)},onSettled:()=>{n.invalidateQueries({queryKey:["chat-conversations"]})}}),y=j=>{f.mutate(j)},v=j=>{pa.archiveConversation(j).then(()=>{n.invalidateQueries({queryKey:["chat-conversations"]})})},S=async j=>{if(!j.trim())return;const C={id:`msg-${Date.now()}`,conversationId:a||"temp",role:"user",content:j,timestamp:new Date().toISOString()};o(T=>[...T,C]),d.mutate({message:j,conversationId:a||void 0})},m=j=>{j.url&&r(j.url)},p=j=>{console.log("Action clicked:",j),alert(`Action "${j.label}" will be implemented in Week 10`)},x=u.data||[],b=x.find(j=>j.id===a);return s.jsxs("div",{className:"h-screen bg-gray-50 dark:bg-gray-900 flex overflow-hidden",children:[s.jsx(K4,{conversations:x,selectedConversationId:a||void 0,onConversationSelect:i,onNewConversation:()=>g.mutate(),onDeleteConversation:y,onArchiveConversation:v,loading:u.isLoading}),s.jsxs("div",{className:"flex-1 flex flex-col h-full",children:[s.jsx("div",{className:"flex-shrink-0 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"px-8 py-6 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:(b==null?void 0:b.title)||"CastellanAI Chat"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Ask questions about your security events"})]}),s.jsx(Ti,{})]})}),!a&&l.length===0&&s.jsx(V4,{onSuggestionClick:S,context:"default"}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-8",children:[!a&&l.length===0&&s.jsxs("div",{className:"text-center py-16",children:[s.jsx(jx,{className:"h-16 w-16 mx-auto text-gray-400 dark:text-gray-600 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Start a Conversation"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Select a suggestion above or type your security question below"})]}),l.map(j=>s.jsx(U4,{message:j,onCitationClick:m,onActionClick:p},j.id)),d.isPending&&s.jsx($4,{message:"CastellanAI is analyzing your security query...",showProgress:!0,estimatedTimeMs:3e3}),s.jsx("div",{ref:c})]}),s.jsx(B4,{onSendMessage:S,disabled:d.isPending,loading:d.isPending,placeholder:"Ask CastellanAI about security events, threats, compliance, or investigations...",maxLength:2e3})]})]})}function G4(){return s.jsx(Hj,{children:s.jsxs(Jf,{children:[s.jsx(ut,{path:"/login",element:s.jsx(Wj,{})}),s.jsx(ut,{path:"/*",element:s.jsx(tj,{children:s.jsxs(Jf,{children:[s.jsx(ut,{path:"/",element:s.jsx(qj,{})}),s.jsx(ut,{path:"/security-events",element:s.jsx(Vj,{})}),s.jsx(ut,{path:"/security-events/:id",element:s.jsx(Yj,{})}),s.jsx(ut,{path:"/timeline",element:s.jsx(Xj,{})}),s.jsx(ut,{path:"/mitre-attack",element:s.jsx(nS,{})}),s.jsx(ut,{path:"/malware-rules",element:s.jsx(fS,{})}),s.jsx(ut,{path:"/threat-scanner",element:s.jsx(gS,{})}),s.jsx(ut,{path:"/system-status",element:s.jsx(jS,{})}),s.jsx(ut,{path:"/configuration",element:s.jsx(_S,{})}),s.jsx(ut,{path:"/chat",element:s.jsx(Y4,{})})]})})}),s.jsx(ut,{path:"*",element:s.jsx(Gk,{to:"/",replace:!0})})]})})}const X4=new Pw({defaultOptions:{queries:{staleTime:5*60*1e3,gcTime:30*60*1e3,refetchOnWindowFocus:!1,retry:1}}});Cc.createRoot(document.getElementById("root")).render(s.jsx(id.StrictMode,{children:s.jsxs(Iw,{client:X4,children:[s.jsx(aw,{children:s.jsx(G4,{})}),s.jsx(P1,{position:"top-right"})]})}));
