var By=Object.defineProperty;var Bh=e=>{throw TypeError(e)};var Hy=(e,t,r)=>t in e?By(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Hh=(e,t,r)=>Hy(e,typeof t!="symbol"?t+"":t,r),Uo=(e,t,r)=>t.has(e)||Bh("Cannot "+r);var N=(e,t,r)=>(Uo(e,t,"read from private field"),r?r.call(e):t.get(e)),Y=(e,t,r)=>t.has(e)?Bh("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),q=(e,t,r,n)=>(Uo(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),te=(e,t,r)=>(Uo(e,t,"access private method"),r);var Bi=(e,t,r,n)=>({set _(a){q(e,t,a,r)},get _(){return N(e,t,n)}});function qy(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Il=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ld(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Fg={exports:{}},po={},$g={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ti=Symbol.for("react.element"),Wy=Symbol.for("react.portal"),Qy=Symbol.for("react.fragment"),Vy=Symbol.for("react.strict_mode"),Ky=Symbol.for("react.profiler"),Yy=Symbol.for("react.provider"),Gy=Symbol.for("react.context"),Xy=Symbol.for("react.forward_ref"),Jy=Symbol.for("react.suspense"),Zy=Symbol.for("react.memo"),eb=Symbol.for("react.lazy"),qh=Symbol.iterator;function tb(e){return e===null||typeof e!="object"?null:(e=qh&&e[qh]||e["@@iterator"],typeof e=="function"?e:null)}var zg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ug=Object.assign,Bg={};function us(e,t,r){this.props=e,this.context=t,this.refs=Bg,this.updater=r||zg}us.prototype.isReactComponent={};us.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};us.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Hg(){}Hg.prototype=us.prototype;function od(e,t,r){this.props=e,this.context=t,this.refs=Bg,this.updater=r||zg}var cd=od.prototype=new Hg;cd.constructor=od;Ug(cd,us.prototype);cd.isPureReactComponent=!0;var Wh=Array.isArray,qg=Object.prototype.hasOwnProperty,ud={current:null},Wg={key:!0,ref:!0,__self:!0,__source:!0};function Qg(e,t,r){var n,a={},i=null,l=null;if(t!=null)for(n in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)qg.call(t,n)&&!Wg.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:Ti,type:e,key:i,ref:l,props:a,_owner:ud.current}}function rb(e,t){return{$$typeof:Ti,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function dd(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ti}function nb(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Qh=/\/+/g;function Bo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?nb(""+e.key):t.toString(36)}function hl(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Ti:case Wy:l=!0}}if(l)return l=e,a=a(l),e=n===""?"."+Bo(l,0):n,Wh(a)?(r="",e!=null&&(r=e.replace(Qh,"$&/")+"/"),hl(a,t,r,"",function(u){return u})):a!=null&&(dd(a)&&(a=rb(a,r+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(Qh,"$&/")+"/")+e)),t.push(a)),1;if(l=0,n=n===""?".":n+":",Wh(e))for(var o=0;o<e.length;o++){i=e[o];var c=n+Bo(i,o);l+=hl(i,t,r,c,a)}else if(c=tb(e),typeof c=="function")for(e=c.call(e),o=0;!(i=e.next()).done;)i=i.value,c=n+Bo(i,o++),l+=hl(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Hi(e,t,r){if(e==null)return e;var n=[],a=0;return hl(e,n,"","",function(i){return t.call(r,i,a++)}),n}function ab(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ht={current:null},fl={transition:null},sb={ReactCurrentDispatcher:ht,ReactCurrentBatchConfig:fl,ReactCurrentOwner:ud};function Vg(){throw Error("act(...) is not supported in production builds of React.")}ne.Children={map:Hi,forEach:function(e,t,r){Hi(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Hi(e,function(){t++}),t},toArray:function(e){return Hi(e,function(t){return t})||[]},only:function(e){if(!dd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ne.Component=us;ne.Fragment=Qy;ne.Profiler=Ky;ne.PureComponent=od;ne.StrictMode=Vy;ne.Suspense=Jy;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sb;ne.act=Vg;ne.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Ug({},e.props),a=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=ud.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)qg.call(t,c)&&!Wg.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:Ti,type:e.type,key:a,ref:i,props:n,_owner:l}};ne.createContext=function(e){return e={$$typeof:Gy,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Yy,_context:e},e.Consumer=e};ne.createElement=Qg;ne.createFactory=function(e){var t=Qg.bind(null,e);return t.type=e,t};ne.createRef=function(){return{current:null}};ne.forwardRef=function(e){return{$$typeof:Xy,render:e}};ne.isValidElement=dd;ne.lazy=function(e){return{$$typeof:eb,_payload:{_status:-1,_result:e},_init:ab}};ne.memo=function(e,t){return{$$typeof:Zy,type:e,compare:t===void 0?null:t}};ne.startTransition=function(e){var t=fl.transition;fl.transition={};try{e()}finally{fl.transition=t}};ne.unstable_act=Vg;ne.useCallback=function(e,t){return ht.current.useCallback(e,t)};ne.useContext=function(e){return ht.current.useContext(e)};ne.useDebugValue=function(){};ne.useDeferredValue=function(e){return ht.current.useDeferredValue(e)};ne.useEffect=function(e,t){return ht.current.useEffect(e,t)};ne.useId=function(){return ht.current.useId()};ne.useImperativeHandle=function(e,t,r){return ht.current.useImperativeHandle(e,t,r)};ne.useInsertionEffect=function(e,t){return ht.current.useInsertionEffect(e,t)};ne.useLayoutEffect=function(e,t){return ht.current.useLayoutEffect(e,t)};ne.useMemo=function(e,t){return ht.current.useMemo(e,t)};ne.useReducer=function(e,t,r){return ht.current.useReducer(e,t,r)};ne.useRef=function(e){return ht.current.useRef(e)};ne.useState=function(e){return ht.current.useState(e)};ne.useSyncExternalStore=function(e,t,r){return ht.current.useSyncExternalStore(e,t,r)};ne.useTransition=function(){return ht.current.useTransition()};ne.version="18.3.1";$g.exports=ne;var k=$g.exports;const hd=ld(k),ib=qy({__proto__:null,default:hd},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lb=k,ob=Symbol.for("react.element"),cb=Symbol.for("react.fragment"),ub=Object.prototype.hasOwnProperty,db=lb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hb={key:!0,ref:!0,__self:!0,__source:!0};function Kg(e,t,r){var n,a={},i=null,l=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(n in t)ub.call(t,n)&&!hb.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:ob,type:e,key:i,ref:l,props:a,_owner:db.current}}po.Fragment=cb;po.jsx=Kg;po.jsxs=Kg;Fg.exports=po;var s=Fg.exports,Ic={},Yg={exports:{}},At={},Gg={exports:{}},Xg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,K){var w=T.length;T.push(K);e:for(;0<w;){var ae=w-1>>>1,oe=T[ae];if(0<a(oe,K))T[ae]=K,T[w]=oe,w=ae;else break e}}function r(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var K=T[0],w=T.pop();if(w!==K){T[0]=w;e:for(var ae=0,oe=T.length,S=oe>>>1;ae<S;){var Q=2*(ae+1)-1,re=T[Q],ce=Q+1,Et=T[ce];if(0>a(re,w))ce<oe&&0>a(Et,re)?(T[ae]=Et,T[ce]=w,ae=ce):(T[ae]=re,T[Q]=w,ae=Q);else if(ce<oe&&0>a(Et,w))T[ae]=Et,T[ce]=w,ae=ce;else break e}}return K}function a(T,K){var w=T.sortIndex-K.sortIndex;return w!==0?w:T.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var c=[],u=[],h=1,d=null,g=3,f=!1,x=!1,b=!1,j=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(T){for(var K=r(u);K!==null;){if(K.callback===null)n(u);else if(K.startTime<=T)n(u),K.sortIndex=K.expirationTime,t(c,K);else break;K=r(u)}}function v(T){if(b=!1,y(T),!x)if(r(c)!==null)x=!0,B(E);else{var K=r(u);K!==null&&G(v,K.startTime-T)}}function E(T,K){x=!1,b&&(b=!1,m(O),O=-1),f=!0;var w=g;try{for(y(K),d=r(c);d!==null&&(!(d.expirationTime>K)||T&&!_());){var ae=d.callback;if(typeof ae=="function"){d.callback=null,g=d.priorityLevel;var oe=ae(d.expirationTime<=K);K=e.unstable_now(),typeof oe=="function"?d.callback=oe:d===r(c)&&n(c),y(K)}else n(c);d=r(c)}if(d!==null)var S=!0;else{var Q=r(u);Q!==null&&G(v,Q.startTime-K),S=!1}return S}finally{d=null,g=w,f=!1}}var C=!1,M=null,O=-1,U=5,R=-1;function _(){return!(e.unstable_now()-R<U)}function F(){if(M!==null){var T=e.unstable_now();R=T;var K=!0;try{K=M(!0,T)}finally{K?L():(C=!1,M=null)}}else C=!1}var L;if(typeof p=="function")L=function(){p(F)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,I=P.port2;P.port1.onmessage=F,L=function(){I.postMessage(null)}}else L=function(){j(F,0)};function B(T){M=T,C||(C=!0,L())}function G(T,K){O=j(function(){T(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){x||f||(x=!0,B(E))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(T){switch(g){case 1:case 2:case 3:var K=3;break;default:K=g}var w=g;g=K;try{return T()}finally{g=w}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,K){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var w=g;g=T;try{return K()}finally{g=w}},e.unstable_scheduleCallback=function(T,K,w){var ae=e.unstable_now();switch(typeof w=="object"&&w!==null?(w=w.delay,w=typeof w=="number"&&0<w?ae+w:ae):w=ae,T){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=w+oe,T={id:h++,callback:K,priorityLevel:T,startTime:w,expirationTime:oe,sortIndex:-1},w>ae?(T.sortIndex=w,t(u,T),r(c)===null&&T===r(u)&&(b?(m(O),O=-1):b=!0,G(v,w-ae))):(T.sortIndex=oe,t(c,T),x||f||(x=!0,B(E))),T},e.unstable_shouldYield=_,e.unstable_wrapCallback=function(T){var K=g;return function(){var w=g;g=K;try{return T.apply(this,arguments)}finally{g=w}}}})(Xg);Gg.exports=Xg;var fb=Gg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gb=k,Lt=fb;function $(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Jg=new Set,Js={};function da(e,t){rs(e,t),rs(e+"Capture",t)}function rs(e,t){for(Js[e]=t,e=0;e<t.length;e++)Jg.add(t[e])}var Or=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pc=Object.prototype.hasOwnProperty,mb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vh={},Kh={};function pb(e){return Pc.call(Kh,e)?!0:Pc.call(Vh,e)?!1:mb.test(e)?Kh[e]=!0:(Vh[e]=!0,!1)}function xb(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function yb(e,t,r,n){if(t===null||typeof t>"u"||xb(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ft(e,t,r,n,a,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var Xe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Xe[e]=new ft(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Xe[t]=new ft(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Xe[e]=new ft(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Xe[e]=new ft(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Xe[e]=new ft(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Xe[e]=new ft(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Xe[e]=new ft(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Xe[e]=new ft(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Xe[e]=new ft(e,5,!1,e.toLowerCase(),null,!1,!1)});var fd=/[\-:]([a-z])/g;function gd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(fd,gd);Xe[t]=new ft(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(fd,gd);Xe[t]=new ft(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(fd,gd);Xe[t]=new ft(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Xe[e]=new ft(e,1,!1,e.toLowerCase(),null,!1,!1)});Xe.xlinkHref=new ft("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Xe[e]=new ft(e,1,!1,e.toLowerCase(),null,!0,!0)});function md(e,t,r,n){var a=Xe.hasOwnProperty(t)?Xe[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(yb(t,r,a,n)&&(r=null),n||a===null?pb(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Br=gb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qi=Symbol.for("react.element"),Na=Symbol.for("react.portal"),Sa=Symbol.for("react.fragment"),pd=Symbol.for("react.strict_mode"),Mc=Symbol.for("react.profiler"),Zg=Symbol.for("react.provider"),em=Symbol.for("react.context"),xd=Symbol.for("react.forward_ref"),Rc=Symbol.for("react.suspense"),Dc=Symbol.for("react.suspense_list"),yd=Symbol.for("react.memo"),Yr=Symbol.for("react.lazy"),tm=Symbol.for("react.offscreen"),Yh=Symbol.iterator;function js(e){return e===null||typeof e!="object"?null:(e=Yh&&e[Yh]||e["@@iterator"],typeof e=="function"?e:null)}var Ie=Object.assign,Ho;function Ls(e){if(Ho===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ho=t&&t[1]||""}return`
`+Ho+e}var qo=!1;function Wo(e,t){if(!e||qo)return"";qo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),l=a.length-1,o=i.length-1;1<=l&&0<=o&&a[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(a[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||a[l]!==i[o]){var c=`
`+a[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=o);break}}}finally{qo=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ls(e):""}function bb(e){switch(e.tag){case 5:return Ls(e.type);case 16:return Ls("Lazy");case 13:return Ls("Suspense");case 19:return Ls("SuspenseList");case 0:case 2:case 15:return e=Wo(e.type,!1),e;case 11:return e=Wo(e.type.render,!1),e;case 1:return e=Wo(e.type,!0),e;default:return""}}function Lc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Sa:return"Fragment";case Na:return"Portal";case Mc:return"Profiler";case pd:return"StrictMode";case Rc:return"Suspense";case Dc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case em:return(e.displayName||"Context")+".Consumer";case Zg:return(e._context.displayName||"Context")+".Provider";case xd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case yd:return t=e.displayName||null,t!==null?t:Lc(e.type)||"Memo";case Yr:t=e._payload,e=e._init;try{return Lc(e(t))}catch{}}return null}function vb(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Lc(t);case 8:return t===pd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Nn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function kb(e){var t=rm(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(l){n=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Wi(e){e._valueTracker||(e._valueTracker=kb(e))}function nm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=rm(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Pl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ac(e,t){var r=t.checked;return Ie({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Gh(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Nn(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function am(e,t){t=t.checked,t!=null&&md(e,"checked",t,!1)}function Oc(e,t){am(e,t);var r=Nn(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Fc(e,t.type,r):t.hasOwnProperty("defaultValue")&&Fc(e,t.type,Nn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Xh(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Fc(e,t,r){(t!=="number"||Pl(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var As=Array.isArray;function Aa(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Nn(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function $c(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error($(91));return Ie({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Jh(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error($(92));if(As(r)){if(1<r.length)throw Error($(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Nn(r)}}function sm(e,t){var r=Nn(t.value),n=Nn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Zh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function im(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?im(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Qi,lm=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Qi=Qi||document.createElement("div"),Qi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Qi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Zs(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var zs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wb=["Webkit","ms","Moz","O"];Object.keys(zs).forEach(function(e){wb.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),zs[t]=zs[e]})});function om(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||zs.hasOwnProperty(e)&&zs[e]?(""+t).trim():t+"px"}function cm(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=om(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var jb=Ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Uc(e,t){if(t){if(jb[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error($(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error($(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error($(61))}if(t.style!=null&&typeof t.style!="object")throw Error($(62))}}function Bc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hc=null;function bd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var qc=null,Oa=null,Fa=null;function ef(e){if(e=Mi(e)){if(typeof qc!="function")throw Error($(280));var t=e.stateNode;t&&(t=ko(t),qc(e.stateNode,e.type,t))}}function um(e){Oa?Fa?Fa.push(e):Fa=[e]:Oa=e}function dm(){if(Oa){var e=Oa,t=Fa;if(Fa=Oa=null,ef(e),t)for(e=0;e<t.length;e++)ef(t[e])}}function hm(e,t){return e(t)}function fm(){}var Qo=!1;function gm(e,t,r){if(Qo)return e(t,r);Qo=!0;try{return hm(e,t,r)}finally{Qo=!1,(Oa!==null||Fa!==null)&&(fm(),dm())}}function ei(e,t){var r=e.stateNode;if(r===null)return null;var n=ko(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error($(231,t,typeof r));return r}var Wc=!1;if(Or)try{var Ns={};Object.defineProperty(Ns,"passive",{get:function(){Wc=!0}}),window.addEventListener("test",Ns,Ns),window.removeEventListener("test",Ns,Ns)}catch{Wc=!1}function Nb(e,t,r,n,a,i,l,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(h){this.onError(h)}}var Us=!1,Ml=null,Rl=!1,Qc=null,Sb={onError:function(e){Us=!0,Ml=e}};function Cb(e,t,r,n,a,i,l,o,c){Us=!1,Ml=null,Nb.apply(Sb,arguments)}function Eb(e,t,r,n,a,i,l,o,c){if(Cb.apply(this,arguments),Us){if(Us){var u=Ml;Us=!1,Ml=null}else throw Error($(198));Rl||(Rl=!0,Qc=u)}}function ha(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function mm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function tf(e){if(ha(e)!==e)throw Error($(188))}function _b(e){var t=e.alternate;if(!t){if(t=ha(e),t===null)throw Error($(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return tf(a),e;if(i===n)return tf(a),t;i=i.sibling}throw Error($(188))}if(r.return!==n.return)r=a,n=i;else{for(var l=!1,o=a.child;o;){if(o===r){l=!0,r=a,n=i;break}if(o===n){l=!0,n=a,r=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===r){l=!0,r=i,n=a;break}if(o===n){l=!0,n=i,r=a;break}o=o.sibling}if(!l)throw Error($(189))}}if(r.alternate!==n)throw Error($(190))}if(r.tag!==3)throw Error($(188));return r.stateNode.current===r?e:t}function pm(e){return e=_b(e),e!==null?xm(e):null}function xm(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=xm(e);if(t!==null)return t;e=e.sibling}return null}var ym=Lt.unstable_scheduleCallback,rf=Lt.unstable_cancelCallback,Tb=Lt.unstable_shouldYield,Ib=Lt.unstable_requestPaint,De=Lt.unstable_now,Pb=Lt.unstable_getCurrentPriorityLevel,vd=Lt.unstable_ImmediatePriority,bm=Lt.unstable_UserBlockingPriority,Dl=Lt.unstable_NormalPriority,Mb=Lt.unstable_LowPriority,vm=Lt.unstable_IdlePriority,xo=null,yr=null;function Rb(e){if(yr&&typeof yr.onCommitFiberRoot=="function")try{yr.onCommitFiberRoot(xo,e,void 0,(e.current.flags&128)===128)}catch{}}var sr=Math.clz32?Math.clz32:Ab,Db=Math.log,Lb=Math.LN2;function Ab(e){return e>>>=0,e===0?32:31-(Db(e)/Lb|0)|0}var Vi=64,Ki=4194304;function Os(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ll(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,l=r&268435455;if(l!==0){var o=l&~a;o!==0?n=Os(o):(i&=l,i!==0&&(n=Os(i)))}else l=r&~a,l!==0?n=Os(l):i!==0&&(n=Os(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-sr(t),a=1<<r,n|=e[r],t&=~a;return n}function Ob(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fb(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-sr(i),o=1<<l,c=a[l];c===-1?(!(o&r)||o&n)&&(a[l]=Ob(o,t)):c<=t&&(e.expiredLanes|=o),i&=~o}}function Vc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function km(){var e=Vi;return Vi<<=1,!(Vi&4194240)&&(Vi=64),e}function Vo(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ii(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-sr(t),e[t]=r}function $b(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-sr(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function kd(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-sr(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var ge=0;function wm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var jm,wd,Nm,Sm,Cm,Kc=!1,Yi=[],fn=null,gn=null,mn=null,ti=new Map,ri=new Map,Xr=[],zb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nf(e,t){switch(e){case"focusin":case"focusout":fn=null;break;case"dragenter":case"dragleave":gn=null;break;case"mouseover":case"mouseout":mn=null;break;case"pointerover":case"pointerout":ti.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ri.delete(t.pointerId)}}function Ss(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Mi(t),t!==null&&wd(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Ub(e,t,r,n,a){switch(t){case"focusin":return fn=Ss(fn,e,t,r,n,a),!0;case"dragenter":return gn=Ss(gn,e,t,r,n,a),!0;case"mouseover":return mn=Ss(mn,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return ti.set(i,Ss(ti.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,ri.set(i,Ss(ri.get(i)||null,e,t,r,n,a)),!0}return!1}function Em(e){var t=$n(e.target);if(t!==null){var r=ha(t);if(r!==null){if(t=r.tag,t===13){if(t=mm(r),t!==null){e.blockedOn=t,Cm(e.priority,function(){Nm(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function gl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Yc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Hc=n,r.target.dispatchEvent(n),Hc=null}else return t=Mi(r),t!==null&&wd(t),e.blockedOn=r,!1;t.shift()}return!0}function af(e,t,r){gl(e)&&r.delete(t)}function Bb(){Kc=!1,fn!==null&&gl(fn)&&(fn=null),gn!==null&&gl(gn)&&(gn=null),mn!==null&&gl(mn)&&(mn=null),ti.forEach(af),ri.forEach(af)}function Cs(e,t){e.blockedOn===t&&(e.blockedOn=null,Kc||(Kc=!0,Lt.unstable_scheduleCallback(Lt.unstable_NormalPriority,Bb)))}function ni(e){function t(a){return Cs(a,e)}if(0<Yi.length){Cs(Yi[0],e);for(var r=1;r<Yi.length;r++){var n=Yi[r];n.blockedOn===e&&(n.blockedOn=null)}}for(fn!==null&&Cs(fn,e),gn!==null&&Cs(gn,e),mn!==null&&Cs(mn,e),ti.forEach(t),ri.forEach(t),r=0;r<Xr.length;r++)n=Xr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Xr.length&&(r=Xr[0],r.blockedOn===null);)Em(r),r.blockedOn===null&&Xr.shift()}var $a=Br.ReactCurrentBatchConfig,Al=!0;function Hb(e,t,r,n){var a=ge,i=$a.transition;$a.transition=null;try{ge=1,jd(e,t,r,n)}finally{ge=a,$a.transition=i}}function qb(e,t,r,n){var a=ge,i=$a.transition;$a.transition=null;try{ge=4,jd(e,t,r,n)}finally{ge=a,$a.transition=i}}function jd(e,t,r,n){if(Al){var a=Yc(e,t,r,n);if(a===null)nc(e,t,n,Ol,r),nf(e,n);else if(Ub(a,e,t,r,n))n.stopPropagation();else if(nf(e,n),t&4&&-1<zb.indexOf(e)){for(;a!==null;){var i=Mi(a);if(i!==null&&jm(i),i=Yc(e,t,r,n),i===null&&nc(e,t,n,Ol,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else nc(e,t,n,null,r)}}var Ol=null;function Yc(e,t,r,n){if(Ol=null,e=bd(n),e=$n(e),e!==null)if(t=ha(e),t===null)e=null;else if(r=t.tag,r===13){if(e=mm(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ol=e,null}function _m(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Pb()){case vd:return 1;case bm:return 4;case Dl:case Mb:return 16;case vm:return 536870912;default:return 16}default:return 16}}var un=null,Nd=null,ml=null;function Tm(){if(ml)return ml;var e,t=Nd,r=t.length,n,a="value"in un?un.value:un.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var l=r-e;for(n=1;n<=l&&t[r-n]===a[i-n];n++);return ml=a.slice(e,1<n?1-n:void 0)}function pl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Gi(){return!0}function sf(){return!1}function Ot(e){function t(r,n,a,i,l){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Gi:sf,this.isPropagationStopped=sf,this}return Ie(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Gi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Gi)},persist:function(){},isPersistent:Gi}),t}var ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sd=Ot(ds),Pi=Ie({},ds,{view:0,detail:0}),Wb=Ot(Pi),Ko,Yo,Es,yo=Ie({},Pi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Es&&(Es&&e.type==="mousemove"?(Ko=e.screenX-Es.screenX,Yo=e.screenY-Es.screenY):Yo=Ko=0,Es=e),Ko)},movementY:function(e){return"movementY"in e?e.movementY:Yo}}),lf=Ot(yo),Qb=Ie({},yo,{dataTransfer:0}),Vb=Ot(Qb),Kb=Ie({},Pi,{relatedTarget:0}),Go=Ot(Kb),Yb=Ie({},ds,{animationName:0,elapsedTime:0,pseudoElement:0}),Gb=Ot(Yb),Xb=Ie({},ds,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jb=Ot(Xb),Zb=Ie({},ds,{data:0}),of=Ot(Zb),ev={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=rv[e])?!!t[e]:!1}function Cd(){return nv}var av=Ie({},Pi,{key:function(e){if(e.key){var t=ev[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=pl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?tv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cd,charCode:function(e){return e.type==="keypress"?pl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?pl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),sv=Ot(av),iv=Ie({},yo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cf=Ot(iv),lv=Ie({},Pi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cd}),ov=Ot(lv),cv=Ie({},ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),uv=Ot(cv),dv=Ie({},yo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),hv=Ot(dv),fv=[9,13,27,32],Ed=Or&&"CompositionEvent"in window,Bs=null;Or&&"documentMode"in document&&(Bs=document.documentMode);var gv=Or&&"TextEvent"in window&&!Bs,Im=Or&&(!Ed||Bs&&8<Bs&&11>=Bs),uf=" ",df=!1;function Pm(e,t){switch(e){case"keyup":return fv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ca=!1;function mv(e,t){switch(e){case"compositionend":return Mm(t);case"keypress":return t.which!==32?null:(df=!0,uf);case"textInput":return e=t.data,e===uf&&df?null:e;default:return null}}function pv(e,t){if(Ca)return e==="compositionend"||!Ed&&Pm(e,t)?(e=Tm(),ml=Nd=un=null,Ca=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Im&&t.locale!=="ko"?null:t.data;default:return null}}var xv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!xv[e.type]:t==="textarea"}function Rm(e,t,r,n){um(n),t=Fl(t,"onChange"),0<t.length&&(r=new Sd("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Hs=null,ai=null;function yv(e){qm(e,0)}function bo(e){var t=Ta(e);if(nm(t))return e}function bv(e,t){if(e==="change")return t}var Dm=!1;if(Or){var Xo;if(Or){var Jo="oninput"in document;if(!Jo){var ff=document.createElement("div");ff.setAttribute("oninput","return;"),Jo=typeof ff.oninput=="function"}Xo=Jo}else Xo=!1;Dm=Xo&&(!document.documentMode||9<document.documentMode)}function gf(){Hs&&(Hs.detachEvent("onpropertychange",Lm),ai=Hs=null)}function Lm(e){if(e.propertyName==="value"&&bo(ai)){var t=[];Rm(t,ai,e,bd(e)),gm(yv,t)}}function vv(e,t,r){e==="focusin"?(gf(),Hs=t,ai=r,Hs.attachEvent("onpropertychange",Lm)):e==="focusout"&&gf()}function kv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bo(ai)}function wv(e,t){if(e==="click")return bo(t)}function jv(e,t){if(e==="input"||e==="change")return bo(t)}function Nv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var lr=typeof Object.is=="function"?Object.is:Nv;function si(e,t){if(lr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Pc.call(t,a)||!lr(e[a],t[a]))return!1}return!0}function mf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pf(e,t){var r=mf(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=mf(r)}}function Am(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Am(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Om(){for(var e=window,t=Pl();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Pl(e.document)}return t}function _d(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Sv(e){var t=Om(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Am(r.ownerDocument.documentElement,r)){if(n!==null&&_d(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=pf(r,i);var l=pf(r,n);a&&l&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Cv=Or&&"documentMode"in document&&11>=document.documentMode,Ea=null,Gc=null,qs=null,Xc=!1;function xf(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Xc||Ea==null||Ea!==Pl(n)||(n=Ea,"selectionStart"in n&&_d(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),qs&&si(qs,n)||(qs=n,n=Fl(Gc,"onSelect"),0<n.length&&(t=new Sd("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ea)))}function Xi(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var _a={animationend:Xi("Animation","AnimationEnd"),animationiteration:Xi("Animation","AnimationIteration"),animationstart:Xi("Animation","AnimationStart"),transitionend:Xi("Transition","TransitionEnd")},Zo={},Fm={};Or&&(Fm=document.createElement("div").style,"AnimationEvent"in window||(delete _a.animationend.animation,delete _a.animationiteration.animation,delete _a.animationstart.animation),"TransitionEvent"in window||delete _a.transitionend.transition);function vo(e){if(Zo[e])return Zo[e];if(!_a[e])return e;var t=_a[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Fm)return Zo[e]=t[r];return e}var $m=vo("animationend"),zm=vo("animationiteration"),Um=vo("animationstart"),Bm=vo("transitionend"),Hm=new Map,yf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _n(e,t){Hm.set(e,t),da(t,[e])}for(var ec=0;ec<yf.length;ec++){var tc=yf[ec],Ev=tc.toLowerCase(),_v=tc[0].toUpperCase()+tc.slice(1);_n(Ev,"on"+_v)}_n($m,"onAnimationEnd");_n(zm,"onAnimationIteration");_n(Um,"onAnimationStart");_n("dblclick","onDoubleClick");_n("focusin","onFocus");_n("focusout","onBlur");_n(Bm,"onTransitionEnd");rs("onMouseEnter",["mouseout","mouseover"]);rs("onMouseLeave",["mouseout","mouseover"]);rs("onPointerEnter",["pointerout","pointerover"]);rs("onPointerLeave",["pointerout","pointerover"]);da("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));da("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));da("onBeforeInput",["compositionend","keypress","textInput","paste"]);da("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));da("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));da("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fs));function bf(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Eb(n,t,void 0,e),e.currentTarget=null}function qm(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var l=n.length-1;0<=l;l--){var o=n[l],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==i&&a.isPropagationStopped())break e;bf(a,o,u),i=c}else for(l=0;l<n.length;l++){if(o=n[l],c=o.instance,u=o.currentTarget,o=o.listener,c!==i&&a.isPropagationStopped())break e;bf(a,o,u),i=c}}}if(Rl)throw e=Qc,Rl=!1,Qc=null,e}function ke(e,t){var r=t[ru];r===void 0&&(r=t[ru]=new Set);var n=e+"__bubble";r.has(n)||(Wm(t,e,2,!1),r.add(n))}function rc(e,t,r){var n=0;t&&(n|=4),Wm(r,e,n,t)}var Ji="_reactListening"+Math.random().toString(36).slice(2);function ii(e){if(!e[Ji]){e[Ji]=!0,Jg.forEach(function(r){r!=="selectionchange"&&(Tv.has(r)||rc(r,!1,e),rc(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ji]||(t[Ji]=!0,rc("selectionchange",!1,t))}}function Wm(e,t,r,n){switch(_m(t)){case 1:var a=Hb;break;case 4:a=qb;break;default:a=jd}r=a.bind(null,t,r,e),a=void 0,!Wc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function nc(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(l===4)for(l=n.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;l=l.return}for(;o!==null;){if(l=$n(o),l===null)return;if(c=l.tag,c===5||c===6){n=i=l;continue e}o=o.parentNode}}n=n.return}gm(function(){var u=i,h=bd(r),d=[];e:{var g=Hm.get(e);if(g!==void 0){var f=Sd,x=e;switch(e){case"keypress":if(pl(r)===0)break e;case"keydown":case"keyup":f=sv;break;case"focusin":x="focus",f=Go;break;case"focusout":x="blur",f=Go;break;case"beforeblur":case"afterblur":f=Go;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=lf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=Vb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=ov;break;case $m:case zm:case Um:f=Gb;break;case Bm:f=uv;break;case"scroll":f=Wb;break;case"wheel":f=hv;break;case"copy":case"cut":case"paste":f=Jb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=cf}var b=(t&4)!==0,j=!b&&e==="scroll",m=b?g!==null?g+"Capture":null:g;b=[];for(var p=u,y;p!==null;){y=p;var v=y.stateNode;if(y.tag===5&&v!==null&&(y=v,m!==null&&(v=ei(p,m),v!=null&&b.push(li(p,v,y)))),j)break;p=p.return}0<b.length&&(g=new f(g,x,null,r,h),d.push({event:g,listeners:b}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",g&&r!==Hc&&(x=r.relatedTarget||r.fromElement)&&($n(x)||x[Fr]))break e;if((f||g)&&(g=h.window===h?h:(g=h.ownerDocument)?g.defaultView||g.parentWindow:window,f?(x=r.relatedTarget||r.toElement,f=u,x=x?$n(x):null,x!==null&&(j=ha(x),x!==j||x.tag!==5&&x.tag!==6)&&(x=null)):(f=null,x=u),f!==x)){if(b=lf,v="onMouseLeave",m="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(b=cf,v="onPointerLeave",m="onPointerEnter",p="pointer"),j=f==null?g:Ta(f),y=x==null?g:Ta(x),g=new b(v,p+"leave",f,r,h),g.target=j,g.relatedTarget=y,v=null,$n(h)===u&&(b=new b(m,p+"enter",x,r,h),b.target=y,b.relatedTarget=j,v=b),j=v,f&&x)t:{for(b=f,m=x,p=0,y=b;y;y=va(y))p++;for(y=0,v=m;v;v=va(v))y++;for(;0<p-y;)b=va(b),p--;for(;0<y-p;)m=va(m),y--;for(;p--;){if(b===m||m!==null&&b===m.alternate)break t;b=va(b),m=va(m)}b=null}else b=null;f!==null&&vf(d,g,f,b,!1),x!==null&&j!==null&&vf(d,j,x,b,!0)}}e:{if(g=u?Ta(u):window,f=g.nodeName&&g.nodeName.toLowerCase(),f==="select"||f==="input"&&g.type==="file")var E=bv;else if(hf(g))if(Dm)E=jv;else{E=kv;var C=vv}else(f=g.nodeName)&&f.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(E=wv);if(E&&(E=E(e,u))){Rm(d,E,r,h);break e}C&&C(e,g,u),e==="focusout"&&(C=g._wrapperState)&&C.controlled&&g.type==="number"&&Fc(g,"number",g.value)}switch(C=u?Ta(u):window,e){case"focusin":(hf(C)||C.contentEditable==="true")&&(Ea=C,Gc=u,qs=null);break;case"focusout":qs=Gc=Ea=null;break;case"mousedown":Xc=!0;break;case"contextmenu":case"mouseup":case"dragend":Xc=!1,xf(d,r,h);break;case"selectionchange":if(Cv)break;case"keydown":case"keyup":xf(d,r,h)}var M;if(Ed)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else Ca?Pm(e,r)&&(O="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(O="onCompositionStart");O&&(Im&&r.locale!=="ko"&&(Ca||O!=="onCompositionStart"?O==="onCompositionEnd"&&Ca&&(M=Tm()):(un=h,Nd="value"in un?un.value:un.textContent,Ca=!0)),C=Fl(u,O),0<C.length&&(O=new of(O,e,null,r,h),d.push({event:O,listeners:C}),M?O.data=M:(M=Mm(r),M!==null&&(O.data=M)))),(M=gv?mv(e,r):pv(e,r))&&(u=Fl(u,"onBeforeInput"),0<u.length&&(h=new of("onBeforeInput","beforeinput",null,r,h),d.push({event:h,listeners:u}),h.data=M))}qm(d,t)})}function li(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Fl(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=ei(e,r),i!=null&&n.unshift(li(e,i,a)),i=ei(e,t),i!=null&&n.push(li(e,i,a))),e=e.return}return n}function va(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function vf(e,t,r,n,a){for(var i=t._reactName,l=[];r!==null&&r!==n;){var o=r,c=o.alternate,u=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&u!==null&&(o=u,a?(c=ei(r,i),c!=null&&l.unshift(li(r,c,o))):a||(c=ei(r,i),c!=null&&l.push(li(r,c,o)))),r=r.return}l.length!==0&&e.push({event:t,listeners:l})}var Iv=/\r\n?/g,Pv=/\u0000|\uFFFD/g;function kf(e){return(typeof e=="string"?e:""+e).replace(Iv,`
`).replace(Pv,"")}function Zi(e,t,r){if(t=kf(t),kf(e)!==t&&r)throw Error($(425))}function $l(){}var Jc=null,Zc=null;function eu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var tu=typeof setTimeout=="function"?setTimeout:void 0,Mv=typeof clearTimeout=="function"?clearTimeout:void 0,wf=typeof Promise=="function"?Promise:void 0,Rv=typeof queueMicrotask=="function"?queueMicrotask:typeof wf<"u"?function(e){return wf.resolve(null).then(e).catch(Dv)}:tu;function Dv(e){setTimeout(function(){throw e})}function ac(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),ni(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);ni(t)}function pn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function jf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var hs=Math.random().toString(36).slice(2),gr="__reactFiber$"+hs,oi="__reactProps$"+hs,Fr="__reactContainer$"+hs,ru="__reactEvents$"+hs,Lv="__reactListeners$"+hs,Av="__reactHandles$"+hs;function $n(e){var t=e[gr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Fr]||r[gr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=jf(e);e!==null;){if(r=e[gr])return r;e=jf(e)}return t}e=r,r=e.parentNode}return null}function Mi(e){return e=e[gr]||e[Fr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ta(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error($(33))}function ko(e){return e[oi]||null}var nu=[],Ia=-1;function Tn(e){return{current:e}}function we(e){0>Ia||(e.current=nu[Ia],nu[Ia]=null,Ia--)}function ye(e,t){Ia++,nu[Ia]=e.current,e.current=t}var Sn={},rt=Tn(Sn),wt=Tn(!1),ra=Sn;function ns(e,t){var r=e.type.contextTypes;if(!r)return Sn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function jt(e){return e=e.childContextTypes,e!=null}function zl(){we(wt),we(rt)}function Nf(e,t,r){if(rt.current!==Sn)throw Error($(168));ye(rt,t),ye(wt,r)}function Qm(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error($(108,vb(e)||"Unknown",a));return Ie({},r,n)}function Ul(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Sn,ra=rt.current,ye(rt,e),ye(wt,wt.current),!0}function Sf(e,t,r){var n=e.stateNode;if(!n)throw Error($(169));r?(e=Qm(e,t,ra),n.__reactInternalMemoizedMergedChildContext=e,we(wt),we(rt),ye(rt,e)):we(wt),ye(wt,r)}var Er=null,wo=!1,sc=!1;function Vm(e){Er===null?Er=[e]:Er.push(e)}function Ov(e){wo=!0,Vm(e)}function In(){if(!sc&&Er!==null){sc=!0;var e=0,t=ge;try{var r=Er;for(ge=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Er=null,wo=!1}catch(a){throw Er!==null&&(Er=Er.slice(e+1)),ym(vd,In),a}finally{ge=t,sc=!1}}return null}var Pa=[],Ma=0,Bl=null,Hl=0,Ut=[],Bt=0,na=null,Mr=1,Rr="";function Ln(e,t){Pa[Ma++]=Hl,Pa[Ma++]=Bl,Bl=e,Hl=t}function Km(e,t,r){Ut[Bt++]=Mr,Ut[Bt++]=Rr,Ut[Bt++]=na,na=e;var n=Mr;e=Rr;var a=32-sr(n)-1;n&=~(1<<a),r+=1;var i=32-sr(t)+a;if(30<i){var l=a-a%5;i=(n&(1<<l)-1).toString(32),n>>=l,a-=l,Mr=1<<32-sr(t)+a|r<<a|n,Rr=i+e}else Mr=1<<i|r<<a|n,Rr=e}function Td(e){e.return!==null&&(Ln(e,1),Km(e,1,0))}function Id(e){for(;e===Bl;)Bl=Pa[--Ma],Pa[Ma]=null,Hl=Pa[--Ma],Pa[Ma]=null;for(;e===na;)na=Ut[--Bt],Ut[Bt]=null,Rr=Ut[--Bt],Ut[Bt]=null,Mr=Ut[--Bt],Ut[Bt]=null}var Dt=null,Pt=null,Se=!1,rr=null;function Ym(e,t){var r=qt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Cf(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Dt=e,Pt=pn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Dt=e,Pt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=na!==null?{id:Mr,overflow:Rr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=qt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Dt=e,Pt=null,!0):!1;default:return!1}}function au(e){return(e.mode&1)!==0&&(e.flags&128)===0}function su(e){if(Se){var t=Pt;if(t){var r=t;if(!Cf(e,t)){if(au(e))throw Error($(418));t=pn(r.nextSibling);var n=Dt;t&&Cf(e,t)?Ym(n,r):(e.flags=e.flags&-4097|2,Se=!1,Dt=e)}}else{if(au(e))throw Error($(418));e.flags=e.flags&-4097|2,Se=!1,Dt=e}}}function Ef(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Dt=e}function el(e){if(e!==Dt)return!1;if(!Se)return Ef(e),Se=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!eu(e.type,e.memoizedProps)),t&&(t=Pt)){if(au(e))throw Gm(),Error($(418));for(;t;)Ym(e,t),t=pn(t.nextSibling)}if(Ef(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Pt=pn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Pt=null}}else Pt=Dt?pn(e.stateNode.nextSibling):null;return!0}function Gm(){for(var e=Pt;e;)e=pn(e.nextSibling)}function as(){Pt=Dt=null,Se=!1}function Pd(e){rr===null?rr=[e]:rr.push(e)}var Fv=Br.ReactCurrentBatchConfig;function _s(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error($(309));var n=r.stateNode}if(!n)throw Error($(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var o=a.refs;l===null?delete o[i]:o[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error($(284));if(!r._owner)throw Error($(290,e))}return e}function tl(e,t){throw e=Object.prototype.toString.call(t),Error($(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function _f(e){var t=e._init;return t(e._payload)}function Xm(e){function t(m,p){if(e){var y=m.deletions;y===null?(m.deletions=[p],m.flags|=16):y.push(p)}}function r(m,p){if(!e)return null;for(;p!==null;)t(m,p),p=p.sibling;return null}function n(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function a(m,p){return m=vn(m,p),m.index=0,m.sibling=null,m}function i(m,p,y){return m.index=y,e?(y=m.alternate,y!==null?(y=y.index,y<p?(m.flags|=2,p):y):(m.flags|=2,p)):(m.flags|=1048576,p)}function l(m){return e&&m.alternate===null&&(m.flags|=2),m}function o(m,p,y,v){return p===null||p.tag!==6?(p=hc(y,m.mode,v),p.return=m,p):(p=a(p,y),p.return=m,p)}function c(m,p,y,v){var E=y.type;return E===Sa?h(m,p,y.props.children,v,y.key):p!==null&&(p.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Yr&&_f(E)===p.type)?(v=a(p,y.props),v.ref=_s(m,p,y),v.return=m,v):(v=jl(y.type,y.key,y.props,null,m.mode,v),v.ref=_s(m,p,y),v.return=m,v)}function u(m,p,y,v){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=fc(y,m.mode,v),p.return=m,p):(p=a(p,y.children||[]),p.return=m,p)}function h(m,p,y,v,E){return p===null||p.tag!==7?(p=Zn(y,m.mode,v,E),p.return=m,p):(p=a(p,y),p.return=m,p)}function d(m,p,y){if(typeof p=="string"&&p!==""||typeof p=="number")return p=hc(""+p,m.mode,y),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case qi:return y=jl(p.type,p.key,p.props,null,m.mode,y),y.ref=_s(m,null,p),y.return=m,y;case Na:return p=fc(p,m.mode,y),p.return=m,p;case Yr:var v=p._init;return d(m,v(p._payload),y)}if(As(p)||js(p))return p=Zn(p,m.mode,y,null),p.return=m,p;tl(m,p)}return null}function g(m,p,y,v){var E=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return E!==null?null:o(m,p,""+y,v);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case qi:return y.key===E?c(m,p,y,v):null;case Na:return y.key===E?u(m,p,y,v):null;case Yr:return E=y._init,g(m,p,E(y._payload),v)}if(As(y)||js(y))return E!==null?null:h(m,p,y,v,null);tl(m,y)}return null}function f(m,p,y,v,E){if(typeof v=="string"&&v!==""||typeof v=="number")return m=m.get(y)||null,o(p,m,""+v,E);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case qi:return m=m.get(v.key===null?y:v.key)||null,c(p,m,v,E);case Na:return m=m.get(v.key===null?y:v.key)||null,u(p,m,v,E);case Yr:var C=v._init;return f(m,p,y,C(v._payload),E)}if(As(v)||js(v))return m=m.get(y)||null,h(p,m,v,E,null);tl(p,v)}return null}function x(m,p,y,v){for(var E=null,C=null,M=p,O=p=0,U=null;M!==null&&O<y.length;O++){M.index>O?(U=M,M=null):U=M.sibling;var R=g(m,M,y[O],v);if(R===null){M===null&&(M=U);break}e&&M&&R.alternate===null&&t(m,M),p=i(R,p,O),C===null?E=R:C.sibling=R,C=R,M=U}if(O===y.length)return r(m,M),Se&&Ln(m,O),E;if(M===null){for(;O<y.length;O++)M=d(m,y[O],v),M!==null&&(p=i(M,p,O),C===null?E=M:C.sibling=M,C=M);return Se&&Ln(m,O),E}for(M=n(m,M);O<y.length;O++)U=f(M,m,O,y[O],v),U!==null&&(e&&U.alternate!==null&&M.delete(U.key===null?O:U.key),p=i(U,p,O),C===null?E=U:C.sibling=U,C=U);return e&&M.forEach(function(_){return t(m,_)}),Se&&Ln(m,O),E}function b(m,p,y,v){var E=js(y);if(typeof E!="function")throw Error($(150));if(y=E.call(y),y==null)throw Error($(151));for(var C=E=null,M=p,O=p=0,U=null,R=y.next();M!==null&&!R.done;O++,R=y.next()){M.index>O?(U=M,M=null):U=M.sibling;var _=g(m,M,R.value,v);if(_===null){M===null&&(M=U);break}e&&M&&_.alternate===null&&t(m,M),p=i(_,p,O),C===null?E=_:C.sibling=_,C=_,M=U}if(R.done)return r(m,M),Se&&Ln(m,O),E;if(M===null){for(;!R.done;O++,R=y.next())R=d(m,R.value,v),R!==null&&(p=i(R,p,O),C===null?E=R:C.sibling=R,C=R);return Se&&Ln(m,O),E}for(M=n(m,M);!R.done;O++,R=y.next())R=f(M,m,O,R.value,v),R!==null&&(e&&R.alternate!==null&&M.delete(R.key===null?O:R.key),p=i(R,p,O),C===null?E=R:C.sibling=R,C=R);return e&&M.forEach(function(F){return t(m,F)}),Se&&Ln(m,O),E}function j(m,p,y,v){if(typeof y=="object"&&y!==null&&y.type===Sa&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case qi:e:{for(var E=y.key,C=p;C!==null;){if(C.key===E){if(E=y.type,E===Sa){if(C.tag===7){r(m,C.sibling),p=a(C,y.props.children),p.return=m,m=p;break e}}else if(C.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Yr&&_f(E)===C.type){r(m,C.sibling),p=a(C,y.props),p.ref=_s(m,C,y),p.return=m,m=p;break e}r(m,C);break}else t(m,C);C=C.sibling}y.type===Sa?(p=Zn(y.props.children,m.mode,v,y.key),p.return=m,m=p):(v=jl(y.type,y.key,y.props,null,m.mode,v),v.ref=_s(m,p,y),v.return=m,m=v)}return l(m);case Na:e:{for(C=y.key;p!==null;){if(p.key===C)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){r(m,p.sibling),p=a(p,y.children||[]),p.return=m,m=p;break e}else{r(m,p);break}else t(m,p);p=p.sibling}p=fc(y,m.mode,v),p.return=m,m=p}return l(m);case Yr:return C=y._init,j(m,p,C(y._payload),v)}if(As(y))return x(m,p,y,v);if(js(y))return b(m,p,y,v);tl(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,p!==null&&p.tag===6?(r(m,p.sibling),p=a(p,y),p.return=m,m=p):(r(m,p),p=hc(y,m.mode,v),p.return=m,m=p),l(m)):r(m,p)}return j}var ss=Xm(!0),Jm=Xm(!1),ql=Tn(null),Wl=null,Ra=null,Md=null;function Rd(){Md=Ra=Wl=null}function Dd(e){var t=ql.current;we(ql),e._currentValue=t}function iu(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function za(e,t){Wl=e,Md=Ra=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(kt=!0),e.firstContext=null)}function Qt(e){var t=e._currentValue;if(Md!==e)if(e={context:e,memoizedValue:t,next:null},Ra===null){if(Wl===null)throw Error($(308));Ra=e,Wl.dependencies={lanes:0,firstContext:e}}else Ra=Ra.next=e;return t}var zn=null;function Ld(e){zn===null?zn=[e]:zn.push(e)}function Zm(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,Ld(t)):(r.next=a.next,a.next=r),t.interleaved=r,$r(e,n)}function $r(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Gr=!1;function Ad(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ep(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Dr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function xn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,le&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,$r(e,r)}return a=n.interleaved,a===null?(t.next=t,Ld(n)):(t.next=a.next,a.next=t),n.interleaved=t,$r(e,r)}function xl(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,kd(e,r)}}function Tf(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=l:i=i.next=l,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ql(e,t,r,n){var a=e.updateQueue;Gr=!1;var i=a.firstBaseUpdate,l=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var c=o,u=c.next;c.next=null,l===null?i=u:l.next=u,l=c;var h=e.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==l&&(o===null?h.firstBaseUpdate=u:o.next=u,h.lastBaseUpdate=c))}if(i!==null){var d=a.baseState;l=0,h=u=c=null,o=i;do{var g=o.lane,f=o.eventTime;if((n&g)===g){h!==null&&(h=h.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var x=e,b=o;switch(g=t,f=r,b.tag){case 1:if(x=b.payload,typeof x=="function"){d=x.call(f,d,g);break e}d=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=b.payload,g=typeof x=="function"?x.call(f,d,g):x,g==null)break e;d=Ie({},d,g);break e;case 2:Gr=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,g=a.effects,g===null?a.effects=[o]:g.push(o))}else f={eventTime:f,lane:g,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(u=h=f,c=d):h=h.next=f,l|=g;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;g=o,o=g.next,g.next=null,a.lastBaseUpdate=g,a.shared.pending=null}}while(!0);if(h===null&&(c=d),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=h,t=a.shared.interleaved,t!==null){a=t;do l|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);sa|=l,e.lanes=l,e.memoizedState=d}}function If(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error($(191,a));a.call(n)}}}var Ri={},br=Tn(Ri),ci=Tn(Ri),ui=Tn(Ri);function Un(e){if(e===Ri)throw Error($(174));return e}function Od(e,t){switch(ye(ui,t),ye(ci,e),ye(br,Ri),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:zc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=zc(t,e)}we(br),ye(br,t)}function is(){we(br),we(ci),we(ui)}function tp(e){Un(ui.current);var t=Un(br.current),r=zc(t,e.type);t!==r&&(ye(ci,e),ye(br,r))}function Fd(e){ci.current===e&&(we(br),we(ci))}var Ce=Tn(0);function Vl(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ic=[];function $d(){for(var e=0;e<ic.length;e++)ic[e]._workInProgressVersionPrimary=null;ic.length=0}var yl=Br.ReactCurrentDispatcher,lc=Br.ReactCurrentBatchConfig,aa=0,Te=null,Ue=null,Qe=null,Kl=!1,Ws=!1,di=0,$v=0;function Je(){throw Error($(321))}function zd(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!lr(e[r],t[r]))return!1;return!0}function Ud(e,t,r,n,a,i){if(aa=i,Te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,yl.current=e===null||e.memoizedState===null?Hv:qv,e=r(n,a),Ws){i=0;do{if(Ws=!1,di=0,25<=i)throw Error($(301));i+=1,Qe=Ue=null,t.updateQueue=null,yl.current=Wv,e=r(n,a)}while(Ws)}if(yl.current=Yl,t=Ue!==null&&Ue.next!==null,aa=0,Qe=Ue=Te=null,Kl=!1,t)throw Error($(300));return e}function Bd(){var e=di!==0;return di=0,e}function cr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?Te.memoizedState=Qe=e:Qe=Qe.next=e,Qe}function Vt(){if(Ue===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=Ue.next;var t=Qe===null?Te.memoizedState:Qe.next;if(t!==null)Qe=t,Ue=e;else{if(e===null)throw Error($(310));Ue=e,e={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},Qe===null?Te.memoizedState=Qe=e:Qe=Qe.next=e}return Qe}function hi(e,t){return typeof t=="function"?t(e):t}function oc(e){var t=Vt(),r=t.queue;if(r===null)throw Error($(311));r.lastRenderedReducer=e;var n=Ue,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var l=a.next;a.next=i.next,i.next=l}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var o=l=null,c=null,u=i;do{var h=u.lane;if((aa&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=d,l=n):c=c.next=d,Te.lanes|=h,sa|=h}u=u.next}while(u!==null&&u!==i);c===null?l=n:c.next=o,lr(n,t.memoizedState)||(kt=!0),t.memoizedState=n,t.baseState=l,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Te.lanes|=i,sa|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function cc(e){var t=Vt(),r=t.queue;if(r===null)throw Error($(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var l=a=a.next;do i=e(i,l.action),l=l.next;while(l!==a);lr(i,t.memoizedState)||(kt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function rp(){}function np(e,t){var r=Te,n=Vt(),a=t(),i=!lr(n.memoizedState,a);if(i&&(n.memoizedState=a,kt=!0),n=n.queue,Hd(ip.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Qe!==null&&Qe.memoizedState.tag&1){if(r.flags|=2048,fi(9,sp.bind(null,r,n,a,t),void 0,null),Ke===null)throw Error($(349));aa&30||ap(r,t,a)}return a}function ap(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Te.updateQueue,t===null?(t={lastEffect:null,stores:null},Te.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function sp(e,t,r,n){t.value=r,t.getSnapshot=n,lp(t)&&op(e)}function ip(e,t,r){return r(function(){lp(t)&&op(e)})}function lp(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!lr(e,r)}catch{return!0}}function op(e){var t=$r(e,1);t!==null&&ir(t,e,1,-1)}function Pf(e){var t=cr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:e},t.queue=e,e=e.dispatch=Bv.bind(null,Te,e),[t.memoizedState,e]}function fi(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Te.updateQueue,t===null?(t={lastEffect:null,stores:null},Te.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function cp(){return Vt().memoizedState}function bl(e,t,r,n){var a=cr();Te.flags|=e,a.memoizedState=fi(1|t,r,void 0,n===void 0?null:n)}function jo(e,t,r,n){var a=Vt();n=n===void 0?null:n;var i=void 0;if(Ue!==null){var l=Ue.memoizedState;if(i=l.destroy,n!==null&&zd(n,l.deps)){a.memoizedState=fi(t,r,i,n);return}}Te.flags|=e,a.memoizedState=fi(1|t,r,i,n)}function Mf(e,t){return bl(8390656,8,e,t)}function Hd(e,t){return jo(2048,8,e,t)}function up(e,t){return jo(4,2,e,t)}function dp(e,t){return jo(4,4,e,t)}function hp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function fp(e,t,r){return r=r!=null?r.concat([e]):null,jo(4,4,hp.bind(null,t,e),r)}function qd(){}function gp(e,t){var r=Vt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&zd(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function mp(e,t){var r=Vt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&zd(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function pp(e,t,r){return aa&21?(lr(r,t)||(r=km(),Te.lanes|=r,sa|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,kt=!0),e.memoizedState=r)}function zv(e,t){var r=ge;ge=r!==0&&4>r?r:4,e(!0);var n=lc.transition;lc.transition={};try{e(!1),t()}finally{ge=r,lc.transition=n}}function xp(){return Vt().memoizedState}function Uv(e,t,r){var n=bn(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},yp(e))bp(t,r);else if(r=Zm(e,t,r,n),r!==null){var a=ut();ir(r,e,n,a),vp(r,t,n)}}function Bv(e,t,r){var n=bn(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(yp(e))bp(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,o=i(l,r);if(a.hasEagerState=!0,a.eagerState=o,lr(o,l)){var c=t.interleaved;c===null?(a.next=a,Ld(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=Zm(e,t,a,n),r!==null&&(a=ut(),ir(r,e,n,a),vp(r,t,n))}}function yp(e){var t=e.alternate;return e===Te||t!==null&&t===Te}function bp(e,t){Ws=Kl=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function vp(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,kd(e,r)}}var Yl={readContext:Qt,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useInsertionEffect:Je,useLayoutEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useMutableSource:Je,useSyncExternalStore:Je,useId:Je,unstable_isNewReconciler:!1},Hv={readContext:Qt,useCallback:function(e,t){return cr().memoizedState=[e,t===void 0?null:t],e},useContext:Qt,useEffect:Mf,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,bl(4194308,4,hp.bind(null,t,e),r)},useLayoutEffect:function(e,t){return bl(4194308,4,e,t)},useInsertionEffect:function(e,t){return bl(4,2,e,t)},useMemo:function(e,t){var r=cr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=cr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Uv.bind(null,Te,e),[n.memoizedState,e]},useRef:function(e){var t=cr();return e={current:e},t.memoizedState=e},useState:Pf,useDebugValue:qd,useDeferredValue:function(e){return cr().memoizedState=e},useTransition:function(){var e=Pf(!1),t=e[0];return e=zv.bind(null,e[1]),cr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Te,a=cr();if(Se){if(r===void 0)throw Error($(407));r=r()}else{if(r=t(),Ke===null)throw Error($(349));aa&30||ap(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,Mf(ip.bind(null,n,i,e),[e]),n.flags|=2048,fi(9,sp.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=cr(),t=Ke.identifierPrefix;if(Se){var r=Rr,n=Mr;r=(n&~(1<<32-sr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=di++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=$v++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},qv={readContext:Qt,useCallback:gp,useContext:Qt,useEffect:Hd,useImperativeHandle:fp,useInsertionEffect:up,useLayoutEffect:dp,useMemo:mp,useReducer:oc,useRef:cp,useState:function(){return oc(hi)},useDebugValue:qd,useDeferredValue:function(e){var t=Vt();return pp(t,Ue.memoizedState,e)},useTransition:function(){var e=oc(hi)[0],t=Vt().memoizedState;return[e,t]},useMutableSource:rp,useSyncExternalStore:np,useId:xp,unstable_isNewReconciler:!1},Wv={readContext:Qt,useCallback:gp,useContext:Qt,useEffect:Hd,useImperativeHandle:fp,useInsertionEffect:up,useLayoutEffect:dp,useMemo:mp,useReducer:cc,useRef:cp,useState:function(){return cc(hi)},useDebugValue:qd,useDeferredValue:function(e){var t=Vt();return Ue===null?t.memoizedState=e:pp(t,Ue.memoizedState,e)},useTransition:function(){var e=cc(hi)[0],t=Vt().memoizedState;return[e,t]},useMutableSource:rp,useSyncExternalStore:np,useId:xp,unstable_isNewReconciler:!1};function Xt(e,t){if(e&&e.defaultProps){t=Ie({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function lu(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ie({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var No={isMounted:function(e){return(e=e._reactInternals)?ha(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ut(),a=bn(e),i=Dr(n,a);i.payload=t,r!=null&&(i.callback=r),t=xn(e,i,a),t!==null&&(ir(t,e,a,n),xl(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ut(),a=bn(e),i=Dr(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=xn(e,i,a),t!==null&&(ir(t,e,a,n),xl(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ut(),n=bn(e),a=Dr(r,n);a.tag=2,t!=null&&(a.callback=t),t=xn(e,a,n),t!==null&&(ir(t,e,n,r),xl(t,e,n))}};function Rf(e,t,r,n,a,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,l):t.prototype&&t.prototype.isPureReactComponent?!si(r,n)||!si(a,i):!0}function kp(e,t,r){var n=!1,a=Sn,i=t.contextType;return typeof i=="object"&&i!==null?i=Qt(i):(a=jt(t)?ra:rt.current,n=t.contextTypes,i=(n=n!=null)?ns(e,a):Sn),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=No,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function Df(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&No.enqueueReplaceState(t,t.state,null)}function ou(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Ad(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Qt(i):(i=jt(t)?ra:rt.current,a.context=ns(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(lu(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&No.enqueueReplaceState(a,a.state,null),Ql(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function ls(e,t){try{var r="",n=t;do r+=bb(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function uc(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function cu(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Qv=typeof WeakMap=="function"?WeakMap:Map;function wp(e,t,r){r=Dr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Xl||(Xl=!0,bu=n),cu(e,t)},r}function jp(e,t,r){r=Dr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){cu(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){cu(e,t),typeof n!="function"&&(yn===null?yn=new Set([this]):yn.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),r}function Lf(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Qv;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=ik.bind(null,e,t,r),t.then(e,e))}function Af(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Of(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Dr(-1,1),t.tag=2,xn(r,t,1))),r.lanes|=1),e)}var Vv=Br.ReactCurrentOwner,kt=!1;function lt(e,t,r,n){t.child=e===null?Jm(t,null,r,n):ss(t,e.child,r,n)}function Ff(e,t,r,n,a){r=r.render;var i=t.ref;return za(t,a),n=Ud(e,t,r,n,i,a),r=Bd(),e!==null&&!kt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,zr(e,t,a)):(Se&&r&&Td(t),t.flags|=1,lt(e,t,n,a),t.child)}function $f(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!Jd(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Np(e,t,i,n,a)):(e=jl(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var l=i.memoizedProps;if(r=r.compare,r=r!==null?r:si,r(l,n)&&e.ref===t.ref)return zr(e,t,a)}return t.flags|=1,e=vn(i,n),e.ref=t.ref,e.return=t,t.child=e}function Np(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(si(i,n)&&e.ref===t.ref)if(kt=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(kt=!0);else return t.lanes=e.lanes,zr(e,t,a)}return uu(e,t,r,n,a)}function Sp(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(La,It),It|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ye(La,It),It|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,ye(La,It),It|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,ye(La,It),It|=n;return lt(e,t,a,r),t.child}function Cp(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function uu(e,t,r,n,a){var i=jt(r)?ra:rt.current;return i=ns(t,i),za(t,a),r=Ud(e,t,r,n,i,a),n=Bd(),e!==null&&!kt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,zr(e,t,a)):(Se&&n&&Td(t),t.flags|=1,lt(e,t,r,a),t.child)}function zf(e,t,r,n,a){if(jt(r)){var i=!0;Ul(t)}else i=!1;if(za(t,a),t.stateNode===null)vl(e,t),kp(t,r,n),ou(t,r,n,a),n=!0;else if(e===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var c=l.context,u=r.contextType;typeof u=="object"&&u!==null?u=Qt(u):(u=jt(r)?ra:rt.current,u=ns(t,u));var h=r.getDerivedStateFromProps,d=typeof h=="function"||typeof l.getSnapshotBeforeUpdate=="function";d||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==n||c!==u)&&Df(t,l,n,u),Gr=!1;var g=t.memoizedState;l.state=g,Ql(t,n,l,a),c=t.memoizedState,o!==n||g!==c||wt.current||Gr?(typeof h=="function"&&(lu(t,r,h,n),c=t.memoizedState),(o=Gr||Rf(t,r,o,n,g,c,u))?(d||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),l.props=n,l.state=c,l.context=u,n=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,ep(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Xt(t.type,o),l.props=u,d=t.pendingProps,g=l.context,c=r.contextType,typeof c=="object"&&c!==null?c=Qt(c):(c=jt(r)?ra:rt.current,c=ns(t,c));var f=r.getDerivedStateFromProps;(h=typeof f=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==d||g!==c)&&Df(t,l,n,c),Gr=!1,g=t.memoizedState,l.state=g,Ql(t,n,l,a);var x=t.memoizedState;o!==d||g!==x||wt.current||Gr?(typeof f=="function"&&(lu(t,r,f,n),x=t.memoizedState),(u=Gr||Rf(t,r,u,n,g,x,c)||!1)?(h||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,x,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,x,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),l.props=n,l.state=x,l.context=c,n=u):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),n=!1)}return du(e,t,r,n,i,a)}function du(e,t,r,n,a,i){Cp(e,t);var l=(t.flags&128)!==0;if(!n&&!l)return a&&Sf(t,r,!1),zr(e,t,i);n=t.stateNode,Vv.current=t;var o=l&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&l?(t.child=ss(t,e.child,null,i),t.child=ss(t,null,o,i)):lt(e,t,o,i),t.memoizedState=n.state,a&&Sf(t,r,!0),t.child}function Ep(e){var t=e.stateNode;t.pendingContext?Nf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Nf(e,t.context,!1),Od(e,t.containerInfo)}function Uf(e,t,r,n,a){return as(),Pd(a),t.flags|=256,lt(e,t,r,n),t.child}var hu={dehydrated:null,treeContext:null,retryLane:0};function fu(e){return{baseLanes:e,cachePool:null,transitions:null}}function _p(e,t,r){var n=t.pendingProps,a=Ce.current,i=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),ye(Ce,a&1),e===null)return su(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=n.children,e=n.fallback,i?(n=t.mode,i=t.child,l={mode:"hidden",children:l},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=Eo(l,n,0,null),e=Zn(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=fu(r),t.memoizedState=hu,e):Wd(t,l));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return Kv(e,t,l,n,o,a,r);if(i){i=n.fallback,l=t.mode,a=e.child,o=a.sibling;var c={mode:"hidden",children:n.children};return!(l&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=vn(a,c),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=vn(o,i):(i=Zn(i,l,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,l=e.child.memoizedState,l=l===null?fu(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~r,t.memoizedState=hu,n}return i=e.child,e=i.sibling,n=vn(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Wd(e,t){return t=Eo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function rl(e,t,r,n){return n!==null&&Pd(n),ss(t,e.child,null,r),e=Wd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Kv(e,t,r,n,a,i,l){if(r)return t.flags&256?(t.flags&=-257,n=uc(Error($(422))),rl(e,t,l,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=Eo({mode:"visible",children:n.children},a,0,null),i=Zn(i,a,l,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&ss(t,e.child,null,l),t.child.memoizedState=fu(l),t.memoizedState=hu,i);if(!(t.mode&1))return rl(e,t,l,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error($(419)),n=uc(i,n,void 0),rl(e,t,l,n)}if(o=(l&e.childLanes)!==0,kt||o){if(n=Ke,n!==null){switch(l&-l){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|l)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,$r(e,a),ir(n,e,a,-1))}return Xd(),n=uc(Error($(421))),rl(e,t,l,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=lk.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Pt=pn(a.nextSibling),Dt=t,Se=!0,rr=null,e!==null&&(Ut[Bt++]=Mr,Ut[Bt++]=Rr,Ut[Bt++]=na,Mr=e.id,Rr=e.overflow,na=t),t=Wd(t,n.children),t.flags|=4096,t)}function Bf(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),iu(e.return,t,r)}function dc(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function Tp(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(lt(e,t,n.children,r),n=Ce.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Bf(e,r,t);else if(e.tag===19)Bf(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ye(Ce,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Vl(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),dc(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Vl(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}dc(t,!0,r,null,i);break;case"together":dc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function vl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function zr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),sa|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error($(153));if(t.child!==null){for(e=t.child,r=vn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=vn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Yv(e,t,r){switch(t.tag){case 3:Ep(t),as();break;case 5:tp(t);break;case 1:jt(t.type)&&Ul(t);break;case 4:Od(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;ye(ql,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ye(Ce,Ce.current&1),t.flags|=128,null):r&t.child.childLanes?_p(e,t,r):(ye(Ce,Ce.current&1),e=zr(e,t,r),e!==null?e.sibling:null);ye(Ce,Ce.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Tp(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ye(Ce,Ce.current),n)break;return null;case 22:case 23:return t.lanes=0,Sp(e,t,r)}return zr(e,t,r)}var Ip,gu,Pp,Mp;Ip=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};gu=function(){};Pp=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Un(br.current);var i=null;switch(r){case"input":a=Ac(e,a),n=Ac(e,n),i=[];break;case"select":a=Ie({},a,{value:void 0}),n=Ie({},n,{value:void 0}),i=[];break;case"textarea":a=$c(e,a),n=$c(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=$l)}Uc(r,n);var l;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var o=a[u];for(l in o)o.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Js.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(o=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(r||(r={}),r[l]=c[l])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Js.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ke("scroll",e),i||o===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Mp=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ts(e,t){if(!Se)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Gv(e,t,r){var n=t.pendingProps;switch(Id(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ze(t),null;case 1:return jt(t.type)&&zl(),Ze(t),null;case 3:return n=t.stateNode,is(),we(wt),we(rt),$d(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(el(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,rr!==null&&(wu(rr),rr=null))),gu(e,t),Ze(t),null;case 5:Fd(t);var a=Un(ui.current);if(r=t.type,e!==null&&t.stateNode!=null)Pp(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error($(166));return Ze(t),null}if(e=Un(br.current),el(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[gr]=t,n[oi]=i,e=(t.mode&1)!==0,r){case"dialog":ke("cancel",n),ke("close",n);break;case"iframe":case"object":case"embed":ke("load",n);break;case"video":case"audio":for(a=0;a<Fs.length;a++)ke(Fs[a],n);break;case"source":ke("error",n);break;case"img":case"image":case"link":ke("error",n),ke("load",n);break;case"details":ke("toggle",n);break;case"input":Gh(n,i),ke("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},ke("invalid",n);break;case"textarea":Jh(n,i),ke("invalid",n)}Uc(r,i),a=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&Zi(n.textContent,o,e),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Zi(n.textContent,o,e),a=["children",""+o]):Js.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&ke("scroll",n)}switch(r){case"input":Wi(n),Xh(n,i,!0);break;case"textarea":Wi(n),Zh(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=$l)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{l=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=im(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),r==="select"&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[gr]=t,e[oi]=n,Ip(e,t,!1,!1),t.stateNode=e;e:{switch(l=Bc(r,n),r){case"dialog":ke("cancel",e),ke("close",e),a=n;break;case"iframe":case"object":case"embed":ke("load",e),a=n;break;case"video":case"audio":for(a=0;a<Fs.length;a++)ke(Fs[a],e);a=n;break;case"source":ke("error",e),a=n;break;case"img":case"image":case"link":ke("error",e),ke("load",e),a=n;break;case"details":ke("toggle",e),a=n;break;case"input":Gh(e,n),a=Ac(e,n),ke("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Ie({},n,{value:void 0}),ke("invalid",e);break;case"textarea":Jh(e,n),a=$c(e,n),ke("invalid",e);break;default:a=n}Uc(r,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?cm(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&lm(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Zs(e,c):typeof c=="number"&&Zs(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Js.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ke("scroll",e):c!=null&&md(e,i,c,l))}switch(r){case"input":Wi(e),Xh(e,n,!1);break;case"textarea":Wi(e),Zh(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Nn(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Aa(e,!!n.multiple,i,!1):n.defaultValue!=null&&Aa(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=$l)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ze(t),null;case 6:if(e&&t.stateNode!=null)Mp(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error($(166));if(r=Un(ui.current),Un(br.current),el(t)){if(n=t.stateNode,r=t.memoizedProps,n[gr]=t,(i=n.nodeValue!==r)&&(e=Dt,e!==null))switch(e.tag){case 3:Zi(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Zi(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[gr]=t,t.stateNode=n}return Ze(t),null;case 13:if(we(Ce),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Se&&Pt!==null&&t.mode&1&&!(t.flags&128))Gm(),as(),t.flags|=98560,i=!1;else if(i=el(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error($(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error($(317));i[gr]=t}else as(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ze(t),i=!1}else rr!==null&&(wu(rr),rr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ce.current&1?He===0&&(He=3):Xd())),t.updateQueue!==null&&(t.flags|=4),Ze(t),null);case 4:return is(),gu(e,t),e===null&&ii(t.stateNode.containerInfo),Ze(t),null;case 10:return Dd(t.type._context),Ze(t),null;case 17:return jt(t.type)&&zl(),Ze(t),null;case 19:if(we(Ce),i=t.memoizedState,i===null)return Ze(t),null;if(n=(t.flags&128)!==0,l=i.rendering,l===null)if(n)Ts(i,!1);else{if(He!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Vl(e),l!==null){for(t.flags|=128,Ts(i,!1),n=l.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ye(Ce,Ce.current&1|2),t.child}e=e.sibling}i.tail!==null&&De()>os&&(t.flags|=128,n=!0,Ts(i,!1),t.lanes=4194304)}else{if(!n)if(e=Vl(l),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ts(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!Se)return Ze(t),null}else 2*De()-i.renderingStartTime>os&&r!==1073741824&&(t.flags|=128,n=!0,Ts(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(r=i.last,r!==null?r.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=De(),t.sibling=null,r=Ce.current,ye(Ce,n?r&1|2:r&1),t):(Ze(t),null);case 22:case 23:return Gd(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?It&1073741824&&(Ze(t),t.subtreeFlags&6&&(t.flags|=8192)):Ze(t),null;case 24:return null;case 25:return null}throw Error($(156,t.tag))}function Xv(e,t){switch(Id(t),t.tag){case 1:return jt(t.type)&&zl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return is(),we(wt),we(rt),$d(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Fd(t),null;case 13:if(we(Ce),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error($(340));as()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return we(Ce),null;case 4:return is(),null;case 10:return Dd(t.type._context),null;case 22:case 23:return Gd(),null;case 24:return null;default:return null}}var nl=!1,et=!1,Jv=typeof WeakSet=="function"?WeakSet:Set,V=null;function Da(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Me(e,t,n)}else r.current=null}function mu(e,t,r){try{r()}catch(n){Me(e,t,n)}}var Hf=!1;function Zv(e,t){if(Jc=Al,e=Om(),_d(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var l=0,o=-1,c=-1,u=0,h=0,d=e,g=null;t:for(;;){for(var f;d!==r||a!==0&&d.nodeType!==3||(o=l+a),d!==i||n!==0&&d.nodeType!==3||(c=l+n),d.nodeType===3&&(l+=d.nodeValue.length),(f=d.firstChild)!==null;)g=d,d=f;for(;;){if(d===e)break t;if(g===r&&++u===a&&(o=l),g===i&&++h===n&&(c=l),(f=d.nextSibling)!==null)break;d=g,g=d.parentNode}d=f}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Zc={focusedElem:e,selectionRange:r},Al=!1,V=t;V!==null;)if(t=V,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,V=e;else for(;V!==null;){t=V;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var b=x.memoizedProps,j=x.memoizedState,m=t.stateNode,p=m.getSnapshotBeforeUpdate(t.elementType===t.type?b:Xt(t.type,b),j);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(v){Me(t,t.return,v)}if(e=t.sibling,e!==null){e.return=t.return,V=e;break}V=t.return}return x=Hf,Hf=!1,x}function Qs(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&mu(t,r,i)}a=a.next}while(a!==n)}}function So(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function pu(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Rp(e){var t=e.alternate;t!==null&&(e.alternate=null,Rp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[gr],delete t[oi],delete t[ru],delete t[Lv],delete t[Av])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Dp(e){return e.tag===5||e.tag===3||e.tag===4}function qf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Dp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function xu(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=$l));else if(n!==4&&(e=e.child,e!==null))for(xu(e,t,r),e=e.sibling;e!==null;)xu(e,t,r),e=e.sibling}function yu(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(yu(e,t,r),e=e.sibling;e!==null;)yu(e,t,r),e=e.sibling}var Ye=null,er=!1;function Wr(e,t,r){for(r=r.child;r!==null;)Lp(e,t,r),r=r.sibling}function Lp(e,t,r){if(yr&&typeof yr.onCommitFiberUnmount=="function")try{yr.onCommitFiberUnmount(xo,r)}catch{}switch(r.tag){case 5:et||Da(r,t);case 6:var n=Ye,a=er;Ye=null,Wr(e,t,r),Ye=n,er=a,Ye!==null&&(er?(e=Ye,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ye.removeChild(r.stateNode));break;case 18:Ye!==null&&(er?(e=Ye,r=r.stateNode,e.nodeType===8?ac(e.parentNode,r):e.nodeType===1&&ac(e,r),ni(e)):ac(Ye,r.stateNode));break;case 4:n=Ye,a=er,Ye=r.stateNode.containerInfo,er=!0,Wr(e,t,r),Ye=n,er=a;break;case 0:case 11:case 14:case 15:if(!et&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&mu(r,t,l),a=a.next}while(a!==n)}Wr(e,t,r);break;case 1:if(!et&&(Da(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Me(r,t,o)}Wr(e,t,r);break;case 21:Wr(e,t,r);break;case 22:r.mode&1?(et=(n=et)||r.memoizedState!==null,Wr(e,t,r),et=n):Wr(e,t,r);break;default:Wr(e,t,r)}}function Wf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Jv),t.forEach(function(n){var a=ok.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Gt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 5:Ye=o.stateNode,er=!1;break e;case 3:Ye=o.stateNode.containerInfo,er=!0;break e;case 4:Ye=o.stateNode.containerInfo,er=!0;break e}o=o.return}if(Ye===null)throw Error($(160));Lp(i,l,a),Ye=null,er=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){Me(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ap(t,e),t=t.sibling}function Ap(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Gt(t,e),or(e),n&4){try{Qs(3,e,e.return),So(3,e)}catch(b){Me(e,e.return,b)}try{Qs(5,e,e.return)}catch(b){Me(e,e.return,b)}}break;case 1:Gt(t,e),or(e),n&512&&r!==null&&Da(r,r.return);break;case 5:if(Gt(t,e),or(e),n&512&&r!==null&&Da(r,r.return),e.flags&32){var a=e.stateNode;try{Zs(a,"")}catch(b){Me(e,e.return,b)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,l=r!==null?r.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&am(a,i),Bc(o,l);var u=Bc(o,i);for(l=0;l<c.length;l+=2){var h=c[l],d=c[l+1];h==="style"?cm(a,d):h==="dangerouslySetInnerHTML"?lm(a,d):h==="children"?Zs(a,d):md(a,h,d,u)}switch(o){case"input":Oc(a,i);break;case"textarea":sm(a,i);break;case"select":var g=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?Aa(a,!!i.multiple,f,!1):g!==!!i.multiple&&(i.defaultValue!=null?Aa(a,!!i.multiple,i.defaultValue,!0):Aa(a,!!i.multiple,i.multiple?[]:"",!1))}a[oi]=i}catch(b){Me(e,e.return,b)}}break;case 6:if(Gt(t,e),or(e),n&4){if(e.stateNode===null)throw Error($(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(b){Me(e,e.return,b)}}break;case 3:if(Gt(t,e),or(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ni(t.containerInfo)}catch(b){Me(e,e.return,b)}break;case 4:Gt(t,e),or(e);break;case 13:Gt(t,e),or(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Kd=De())),n&4&&Wf(e);break;case 22:if(h=r!==null&&r.memoizedState!==null,e.mode&1?(et=(u=et)||h,Gt(t,e),et=u):Gt(t,e),or(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(V=e,h=e.child;h!==null;){for(d=V=h;V!==null;){switch(g=V,f=g.child,g.tag){case 0:case 11:case 14:case 15:Qs(4,g,g.return);break;case 1:Da(g,g.return);var x=g.stateNode;if(typeof x.componentWillUnmount=="function"){n=g,r=g.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(b){Me(n,r,b)}}break;case 5:Da(g,g.return);break;case 22:if(g.memoizedState!==null){Vf(d);continue}}f!==null?(f.return=g,V=f):Vf(d)}h=h.sibling}e:for(h=null,d=e;;){if(d.tag===5){if(h===null){h=d;try{a=d.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=d.stateNode,c=d.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=om("display",l))}catch(b){Me(e,e.return,b)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(b){Me(e,e.return,b)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Gt(t,e),or(e),n&4&&Wf(e);break;case 21:break;default:Gt(t,e),or(e)}}function or(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Dp(r)){var n=r;break e}r=r.return}throw Error($(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Zs(a,""),n.flags&=-33);var i=qf(e);yu(e,i,a);break;case 3:case 4:var l=n.stateNode.containerInfo,o=qf(e);xu(e,o,l);break;default:throw Error($(161))}}catch(c){Me(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ek(e,t,r){V=e,Op(e)}function Op(e,t,r){for(var n=(e.mode&1)!==0;V!==null;){var a=V,i=a.child;if(a.tag===22&&n){var l=a.memoizedState!==null||nl;if(!l){var o=a.alternate,c=o!==null&&o.memoizedState!==null||et;o=nl;var u=et;if(nl=l,(et=c)&&!u)for(V=a;V!==null;)l=V,c=l.child,l.tag===22&&l.memoizedState!==null?Kf(a):c!==null?(c.return=l,V=c):Kf(a);for(;i!==null;)V=i,Op(i),i=i.sibling;V=a,nl=o,et=u}Qf(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,V=i):Qf(e)}}function Qf(e){for(;V!==null;){var t=V;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:et||So(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!et)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Xt(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&If(t,i,n);break;case 3:var l=t.updateQueue;if(l!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}If(t,l,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&ni(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}et||t.flags&512&&pu(t)}catch(g){Me(t,t.return,g)}}if(t===e){V=null;break}if(r=t.sibling,r!==null){r.return=t.return,V=r;break}V=t.return}}function Vf(e){for(;V!==null;){var t=V;if(t===e){V=null;break}var r=t.sibling;if(r!==null){r.return=t.return,V=r;break}V=t.return}}function Kf(e){for(;V!==null;){var t=V;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{So(4,t)}catch(c){Me(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){Me(t,a,c)}}var i=t.return;try{pu(t)}catch(c){Me(t,i,c)}break;case 5:var l=t.return;try{pu(t)}catch(c){Me(t,l,c)}}}catch(c){Me(t,t.return,c)}if(t===e){V=null;break}var o=t.sibling;if(o!==null){o.return=t.return,V=o;break}V=t.return}}var tk=Math.ceil,Gl=Br.ReactCurrentDispatcher,Qd=Br.ReactCurrentOwner,Wt=Br.ReactCurrentBatchConfig,le=0,Ke=null,$e=null,Ge=0,It=0,La=Tn(0),He=0,gi=null,sa=0,Co=0,Vd=0,Vs=null,vt=null,Kd=0,os=1/0,Cr=null,Xl=!1,bu=null,yn=null,al=!1,dn=null,Jl=0,Ks=0,vu=null,kl=-1,wl=0;function ut(){return le&6?De():kl!==-1?kl:kl=De()}function bn(e){return e.mode&1?le&2&&Ge!==0?Ge&-Ge:Fv.transition!==null?(wl===0&&(wl=km()),wl):(e=ge,e!==0||(e=window.event,e=e===void 0?16:_m(e.type)),e):1}function ir(e,t,r,n){if(50<Ks)throw Ks=0,vu=null,Error($(185));Ii(e,r,n),(!(le&2)||e!==Ke)&&(e===Ke&&(!(le&2)&&(Co|=r),He===4&&Jr(e,Ge)),Nt(e,n),r===1&&le===0&&!(t.mode&1)&&(os=De()+500,wo&&In()))}function Nt(e,t){var r=e.callbackNode;Fb(e,t);var n=Ll(e,e===Ke?Ge:0);if(n===0)r!==null&&rf(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&rf(r),t===1)e.tag===0?Ov(Yf.bind(null,e)):Vm(Yf.bind(null,e)),Rv(function(){!(le&6)&&In()}),r=null;else{switch(wm(n)){case 1:r=vd;break;case 4:r=bm;break;case 16:r=Dl;break;case 536870912:r=vm;break;default:r=Dl}r=Wp(r,Fp.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Fp(e,t){if(kl=-1,wl=0,le&6)throw Error($(327));var r=e.callbackNode;if(Ua()&&e.callbackNode!==r)return null;var n=Ll(e,e===Ke?Ge:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Zl(e,n);else{t=n;var a=le;le|=2;var i=zp();(Ke!==e||Ge!==t)&&(Cr=null,os=De()+500,Jn(e,t));do try{ak();break}catch(o){$p(e,o)}while(!0);Rd(),Gl.current=i,le=a,$e!==null?t=0:(Ke=null,Ge=0,t=He)}if(t!==0){if(t===2&&(a=Vc(e),a!==0&&(n=a,t=ku(e,a))),t===1)throw r=gi,Jn(e,0),Jr(e,n),Nt(e,De()),r;if(t===6)Jr(e,n);else{if(a=e.current.alternate,!(n&30)&&!rk(a)&&(t=Zl(e,n),t===2&&(i=Vc(e),i!==0&&(n=i,t=ku(e,i))),t===1))throw r=gi,Jn(e,0),Jr(e,n),Nt(e,De()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error($(345));case 2:An(e,vt,Cr);break;case 3:if(Jr(e,n),(n&130023424)===n&&(t=Kd+500-De(),10<t)){if(Ll(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){ut(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=tu(An.bind(null,e,vt,Cr),t);break}An(e,vt,Cr);break;case 4:if(Jr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var l=31-sr(n);i=1<<l,l=t[l],l>a&&(a=l),n&=~i}if(n=a,n=De()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*tk(n/1960))-n,10<n){e.timeoutHandle=tu(An.bind(null,e,vt,Cr),n);break}An(e,vt,Cr);break;case 5:An(e,vt,Cr);break;default:throw Error($(329))}}}return Nt(e,De()),e.callbackNode===r?Fp.bind(null,e):null}function ku(e,t){var r=Vs;return e.current.memoizedState.isDehydrated&&(Jn(e,t).flags|=256),e=Zl(e,t),e!==2&&(t=vt,vt=r,t!==null&&wu(t)),e}function wu(e){vt===null?vt=e:vt.push.apply(vt,e)}function rk(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!lr(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Jr(e,t){for(t&=~Vd,t&=~Co,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-sr(t),n=1<<r;e[r]=-1,t&=~n}}function Yf(e){if(le&6)throw Error($(327));Ua();var t=Ll(e,0);if(!(t&1))return Nt(e,De()),null;var r=Zl(e,t);if(e.tag!==0&&r===2){var n=Vc(e);n!==0&&(t=n,r=ku(e,n))}if(r===1)throw r=gi,Jn(e,0),Jr(e,t),Nt(e,De()),r;if(r===6)throw Error($(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,An(e,vt,Cr),Nt(e,De()),null}function Yd(e,t){var r=le;le|=1;try{return e(t)}finally{le=r,le===0&&(os=De()+500,wo&&In())}}function ia(e){dn!==null&&dn.tag===0&&!(le&6)&&Ua();var t=le;le|=1;var r=Wt.transition,n=ge;try{if(Wt.transition=null,ge=1,e)return e()}finally{ge=n,Wt.transition=r,le=t,!(le&6)&&In()}}function Gd(){It=La.current,we(La)}function Jn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Mv(r)),$e!==null)for(r=$e.return;r!==null;){var n=r;switch(Id(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&zl();break;case 3:is(),we(wt),we(rt),$d();break;case 5:Fd(n);break;case 4:is();break;case 13:we(Ce);break;case 19:we(Ce);break;case 10:Dd(n.type._context);break;case 22:case 23:Gd()}r=r.return}if(Ke=e,$e=e=vn(e.current,null),Ge=It=t,He=0,gi=null,Vd=Co=sa=0,vt=Vs=null,zn!==null){for(t=0;t<zn.length;t++)if(r=zn[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var l=i.next;i.next=a,n.next=l}r.pending=n}zn=null}return e}function $p(e,t){do{var r=$e;try{if(Rd(),yl.current=Yl,Kl){for(var n=Te.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Kl=!1}if(aa=0,Qe=Ue=Te=null,Ws=!1,di=0,Qd.current=null,r===null||r.return===null){He=1,gi=t,$e=null;break}e:{var i=e,l=r.return,o=r,c=t;if(t=Ge,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=o,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var g=h.alternate;g?(h.updateQueue=g.updateQueue,h.memoizedState=g.memoizedState,h.lanes=g.lanes):(h.updateQueue=null,h.memoizedState=null)}var f=Af(l);if(f!==null){f.flags&=-257,Of(f,l,o,i,t),f.mode&1&&Lf(i,u,t),t=f,c=u;var x=t.updateQueue;if(x===null){var b=new Set;b.add(c),t.updateQueue=b}else x.add(c);break e}else{if(!(t&1)){Lf(i,u,t),Xd();break e}c=Error($(426))}}else if(Se&&o.mode&1){var j=Af(l);if(j!==null){!(j.flags&65536)&&(j.flags|=256),Of(j,l,o,i,t),Pd(ls(c,o));break e}}i=c=ls(c,o),He!==4&&(He=2),Vs===null?Vs=[i]:Vs.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=wp(i,c,t);Tf(i,m);break e;case 1:o=c;var p=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(yn===null||!yn.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var v=jp(i,o,t);Tf(i,v);break e}}i=i.return}while(i!==null)}Bp(r)}catch(E){t=E,$e===r&&r!==null&&($e=r=r.return);continue}break}while(!0)}function zp(){var e=Gl.current;return Gl.current=Yl,e===null?Yl:e}function Xd(){(He===0||He===3||He===2)&&(He=4),Ke===null||!(sa&268435455)&&!(Co&268435455)||Jr(Ke,Ge)}function Zl(e,t){var r=le;le|=2;var n=zp();(Ke!==e||Ge!==t)&&(Cr=null,Jn(e,t));do try{nk();break}catch(a){$p(e,a)}while(!0);if(Rd(),le=r,Gl.current=n,$e!==null)throw Error($(261));return Ke=null,Ge=0,He}function nk(){for(;$e!==null;)Up($e)}function ak(){for(;$e!==null&&!Tb();)Up($e)}function Up(e){var t=qp(e.alternate,e,It);e.memoizedProps=e.pendingProps,t===null?Bp(e):$e=t,Qd.current=null}function Bp(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Xv(r,t),r!==null){r.flags&=32767,$e=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{He=6,$e=null;return}}else if(r=Gv(r,t,It),r!==null){$e=r;return}if(t=t.sibling,t!==null){$e=t;return}$e=t=e}while(t!==null);He===0&&(He=5)}function An(e,t,r){var n=ge,a=Wt.transition;try{Wt.transition=null,ge=1,sk(e,t,r,n)}finally{Wt.transition=a,ge=n}return null}function sk(e,t,r,n){do Ua();while(dn!==null);if(le&6)throw Error($(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error($(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if($b(e,i),e===Ke&&($e=Ke=null,Ge=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||al||(al=!0,Wp(Dl,function(){return Ua(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Wt.transition,Wt.transition=null;var l=ge;ge=1;var o=le;le|=4,Qd.current=null,Zv(e,r),Ap(r,e),Sv(Zc),Al=!!Jc,Zc=Jc=null,e.current=r,ek(r),Ib(),le=o,ge=l,Wt.transition=i}else e.current=r;if(al&&(al=!1,dn=e,Jl=a),i=e.pendingLanes,i===0&&(yn=null),Rb(r.stateNode),Nt(e,De()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Xl)throw Xl=!1,e=bu,bu=null,e;return Jl&1&&e.tag!==0&&Ua(),i=e.pendingLanes,i&1?e===vu?Ks++:(Ks=0,vu=e):Ks=0,In(),null}function Ua(){if(dn!==null){var e=wm(Jl),t=Wt.transition,r=ge;try{if(Wt.transition=null,ge=16>e?16:e,dn===null)var n=!1;else{if(e=dn,dn=null,Jl=0,le&6)throw Error($(331));var a=le;for(le|=4,V=e.current;V!==null;){var i=V,l=i.child;if(V.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(V=u;V!==null;){var h=V;switch(h.tag){case 0:case 11:case 15:Qs(8,h,i)}var d=h.child;if(d!==null)d.return=h,V=d;else for(;V!==null;){h=V;var g=h.sibling,f=h.return;if(Rp(h),h===u){V=null;break}if(g!==null){g.return=f,V=g;break}V=f}}}var x=i.alternate;if(x!==null){var b=x.child;if(b!==null){x.child=null;do{var j=b.sibling;b.sibling=null,b=j}while(b!==null)}}V=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,V=l;else e:for(;V!==null;){if(i=V,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Qs(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,V=m;break e}V=i.return}}var p=e.current;for(V=p;V!==null;){l=V;var y=l.child;if(l.subtreeFlags&2064&&y!==null)y.return=l,V=y;else e:for(l=p;V!==null;){if(o=V,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:So(9,o)}}catch(E){Me(o,o.return,E)}if(o===l){V=null;break e}var v=o.sibling;if(v!==null){v.return=o.return,V=v;break e}V=o.return}}if(le=a,In(),yr&&typeof yr.onPostCommitFiberRoot=="function")try{yr.onPostCommitFiberRoot(xo,e)}catch{}n=!0}return n}finally{ge=r,Wt.transition=t}}return!1}function Gf(e,t,r){t=ls(r,t),t=wp(e,t,1),e=xn(e,t,1),t=ut(),e!==null&&(Ii(e,1,t),Nt(e,t))}function Me(e,t,r){if(e.tag===3)Gf(e,e,r);else for(;t!==null;){if(t.tag===3){Gf(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(yn===null||!yn.has(n))){e=ls(r,e),e=jp(t,e,1),t=xn(t,e,1),e=ut(),t!==null&&(Ii(t,1,e),Nt(t,e));break}}t=t.return}}function ik(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ut(),e.pingedLanes|=e.suspendedLanes&r,Ke===e&&(Ge&r)===r&&(He===4||He===3&&(Ge&130023424)===Ge&&500>De()-Kd?Jn(e,0):Vd|=r),Nt(e,t)}function Hp(e,t){t===0&&(e.mode&1?(t=Ki,Ki<<=1,!(Ki&130023424)&&(Ki=4194304)):t=1);var r=ut();e=$r(e,t),e!==null&&(Ii(e,t,r),Nt(e,r))}function lk(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Hp(e,r)}function ok(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error($(314))}n!==null&&n.delete(t),Hp(e,r)}var qp;qp=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||wt.current)kt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return kt=!1,Yv(e,t,r);kt=!!(e.flags&131072)}else kt=!1,Se&&t.flags&1048576&&Km(t,Hl,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;vl(e,t),e=t.pendingProps;var a=ns(t,rt.current);za(t,r),a=Ud(null,t,n,e,a,r);var i=Bd();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,jt(n)?(i=!0,Ul(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Ad(t),a.updater=No,t.stateNode=a,a._reactInternals=t,ou(t,n,e,r),t=du(null,t,n,!0,i,r)):(t.tag=0,Se&&i&&Td(t),lt(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(vl(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=uk(n),e=Xt(n,e),a){case 0:t=uu(null,t,n,e,r);break e;case 1:t=zf(null,t,n,e,r);break e;case 11:t=Ff(null,t,n,e,r);break e;case 14:t=$f(null,t,n,Xt(n.type,e),r);break e}throw Error($(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Xt(n,a),uu(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Xt(n,a),zf(e,t,n,a,r);case 3:e:{if(Ep(t),e===null)throw Error($(387));n=t.pendingProps,i=t.memoizedState,a=i.element,ep(e,t),Ql(t,n,null,r);var l=t.memoizedState;if(n=l.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=ls(Error($(423)),t),t=Uf(e,t,n,r,a);break e}else if(n!==a){a=ls(Error($(424)),t),t=Uf(e,t,n,r,a);break e}else for(Pt=pn(t.stateNode.containerInfo.firstChild),Dt=t,Se=!0,rr=null,r=Jm(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(as(),n===a){t=zr(e,t,r);break e}lt(e,t,n,r)}t=t.child}return t;case 5:return tp(t),e===null&&su(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,l=a.children,eu(n,a)?l=null:i!==null&&eu(n,i)&&(t.flags|=32),Cp(e,t),lt(e,t,l,r),t.child;case 6:return e===null&&su(t),null;case 13:return _p(e,t,r);case 4:return Od(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ss(t,null,n,r):lt(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Xt(n,a),Ff(e,t,n,a,r);case 7:return lt(e,t,t.pendingProps,r),t.child;case 8:return lt(e,t,t.pendingProps.children,r),t.child;case 12:return lt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,l=a.value,ye(ql,n._currentValue),n._currentValue=l,i!==null)if(lr(i.value,l)){if(i.children===a.children&&!wt.current){t=zr(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Dr(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),iu(i.return,r,t),o.lanes|=r;break}c=c.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error($(341));l.lanes|=r,o=l.alternate,o!==null&&(o.lanes|=r),iu(l,r,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}lt(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,za(t,r),a=Qt(a),n=n(a),t.flags|=1,lt(e,t,n,r),t.child;case 14:return n=t.type,a=Xt(n,t.pendingProps),a=Xt(n.type,a),$f(e,t,n,a,r);case 15:return Np(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Xt(n,a),vl(e,t),t.tag=1,jt(n)?(e=!0,Ul(t)):e=!1,za(t,r),kp(t,n,a),ou(t,n,a,r),du(null,t,n,!0,e,r);case 19:return Tp(e,t,r);case 22:return Sp(e,t,r)}throw Error($(156,t.tag))};function Wp(e,t){return ym(e,t)}function ck(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qt(e,t,r,n){return new ck(e,t,r,n)}function Jd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function uk(e){if(typeof e=="function")return Jd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===xd)return 11;if(e===yd)return 14}return 2}function vn(e,t){var r=e.alternate;return r===null?(r=qt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function jl(e,t,r,n,a,i){var l=2;if(n=e,typeof e=="function")Jd(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Sa:return Zn(r.children,a,i,t);case pd:l=8,a|=8;break;case Mc:return e=qt(12,r,t,a|2),e.elementType=Mc,e.lanes=i,e;case Rc:return e=qt(13,r,t,a),e.elementType=Rc,e.lanes=i,e;case Dc:return e=qt(19,r,t,a),e.elementType=Dc,e.lanes=i,e;case tm:return Eo(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Zg:l=10;break e;case em:l=9;break e;case xd:l=11;break e;case yd:l=14;break e;case Yr:l=16,n=null;break e}throw Error($(130,e==null?e:typeof e,""))}return t=qt(l,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function Zn(e,t,r,n){return e=qt(7,e,n,t),e.lanes=r,e}function Eo(e,t,r,n){return e=qt(22,e,n,t),e.elementType=tm,e.lanes=r,e.stateNode={isHidden:!1},e}function hc(e,t,r){return e=qt(6,e,null,t),e.lanes=r,e}function fc(e,t,r){return t=qt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function dk(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vo(0),this.expirationTimes=Vo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vo(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Zd(e,t,r,n,a,i,l,o,c){return e=new dk(e,t,r,o,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=qt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ad(i),e}function hk(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Na,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Qp(e){if(!e)return Sn;e=e._reactInternals;e:{if(ha(e)!==e||e.tag!==1)throw Error($(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(jt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error($(171))}if(e.tag===1){var r=e.type;if(jt(r))return Qm(e,r,t)}return t}function Vp(e,t,r,n,a,i,l,o,c){return e=Zd(r,n,!0,e,a,i,l,o,c),e.context=Qp(null),r=e.current,n=ut(),a=bn(r),i=Dr(n,a),i.callback=t??null,xn(r,i,a),e.current.lanes=a,Ii(e,a,n),Nt(e,n),e}function _o(e,t,r,n){var a=t.current,i=ut(),l=bn(a);return r=Qp(r),t.context===null?t.context=r:t.pendingContext=r,t=Dr(i,l),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=xn(a,t,l),e!==null&&(ir(e,a,l,i),xl(e,a,l)),l}function eo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Xf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function eh(e,t){Xf(e,t),(e=e.alternate)&&Xf(e,t)}function fk(){return null}var Kp=typeof reportError=="function"?reportError:function(e){console.error(e)};function th(e){this._internalRoot=e}To.prototype.render=th.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error($(409));_o(e,t,null,null)};To.prototype.unmount=th.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ia(function(){_o(null,e,null,null)}),t[Fr]=null}};function To(e){this._internalRoot=e}To.prototype.unstable_scheduleHydration=function(e){if(e){var t=Sm();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Xr.length&&t!==0&&t<Xr[r].priority;r++);Xr.splice(r,0,e),r===0&&Em(e)}};function rh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Io(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Jf(){}function gk(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=eo(l);i.call(u)}}var l=Vp(t,n,e,0,null,!1,!1,"",Jf);return e._reactRootContainer=l,e[Fr]=l.current,ii(e.nodeType===8?e.parentNode:e),ia(),l}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var u=eo(c);o.call(u)}}var c=Zd(e,0,!1,null,null,!1,!1,"",Jf);return e._reactRootContainer=c,e[Fr]=c.current,ii(e.nodeType===8?e.parentNode:e),ia(function(){_o(t,c,r,n)}),c}function Po(e,t,r,n,a){var i=r._reactRootContainer;if(i){var l=i;if(typeof a=="function"){var o=a;a=function(){var c=eo(l);o.call(c)}}_o(t,l,e,a)}else l=gk(r,t,e,a,n);return eo(l)}jm=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Os(t.pendingLanes);r!==0&&(kd(t,r|1),Nt(t,De()),!(le&6)&&(os=De()+500,In()))}break;case 13:ia(function(){var n=$r(e,1);if(n!==null){var a=ut();ir(n,e,1,a)}}),eh(e,1)}};wd=function(e){if(e.tag===13){var t=$r(e,134217728);if(t!==null){var r=ut();ir(t,e,134217728,r)}eh(e,134217728)}};Nm=function(e){if(e.tag===13){var t=bn(e),r=$r(e,t);if(r!==null){var n=ut();ir(r,e,t,n)}eh(e,t)}};Sm=function(){return ge};Cm=function(e,t){var r=ge;try{return ge=e,t()}finally{ge=r}};qc=function(e,t,r){switch(t){case"input":if(Oc(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=ko(n);if(!a)throw Error($(90));nm(n),Oc(n,a)}}}break;case"textarea":sm(e,r);break;case"select":t=r.value,t!=null&&Aa(e,!!r.multiple,t,!1)}};hm=Yd;fm=ia;var mk={usingClientEntryPoint:!1,Events:[Mi,Ta,ko,um,dm,Yd]},Is={findFiberByHostInstance:$n,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pk={bundleType:Is.bundleType,version:Is.version,rendererPackageName:Is.rendererPackageName,rendererConfig:Is.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Br.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=pm(e),e===null?null:e.stateNode},findFiberByHostInstance:Is.findFiberByHostInstance||fk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sl.isDisabled&&sl.supportsFiber)try{xo=sl.inject(pk),yr=sl}catch{}}At.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mk;At.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rh(t))throw Error($(200));return hk(e,t,null,r)};At.createRoot=function(e,t){if(!rh(e))throw Error($(299));var r=!1,n="",a=Kp;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Zd(e,1,!1,null,null,r,!1,n,a),e[Fr]=t.current,ii(e.nodeType===8?e.parentNode:e),new th(t)};At.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error($(188)):(e=Object.keys(e).join(","),Error($(268,e)));return e=pm(t),e=e===null?null:e.stateNode,e};At.flushSync=function(e){return ia(e)};At.hydrate=function(e,t,r){if(!Io(t))throw Error($(200));return Po(null,e,t,!0,r)};At.hydrateRoot=function(e,t,r){if(!rh(e))throw Error($(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",l=Kp;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),t=Vp(t,null,e,1,r??null,a,!1,i,l),e[Fr]=t.current,ii(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new To(t)};At.render=function(e,t,r){if(!Io(t))throw Error($(200));return Po(null,e,t,!1,r)};At.unmountComponentAtNode=function(e){if(!Io(e))throw Error($(40));return e._reactRootContainer?(ia(function(){Po(null,null,e,!1,function(){e._reactRootContainer=null,e[Fr]=null})}),!0):!1};At.unstable_batchedUpdates=Yd;At.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Io(r))throw Error($(200));if(e==null||e._reactInternals===void 0)throw Error($(38));return Po(e,t,r,!1,n)};At.version="18.3.1-next-f1338f8080-20240426";function Yp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Yp)}catch(e){console.error(e)}}Yp(),Yg.exports=At;var xk=Yg.exports,Zf=xk;Ic.createRoot=Zf.createRoot,Ic.hydrateRoot=Zf.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mi(){return mi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mi.apply(this,arguments)}var hn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(hn||(hn={}));const e0="popstate";function yk(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:l,hash:o}=n.location;return ju("",{pathname:i,search:l,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:to(a)}return vk(t,r,null,e)}function Le(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Gp(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function bk(){return Math.random().toString(36).substr(2,8)}function t0(e,t){return{usr:e.state,key:e.key,idx:t}}function ju(e,t,r,n){return r===void 0&&(r=null),mi({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?fs(t):t,{state:r,key:t&&t.key||n||bk()})}function to(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function fs(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function vk(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,l=a.history,o=hn.Pop,c=null,u=h();u==null&&(u=0,l.replaceState(mi({},l.state,{idx:u}),""));function h(){return(l.state||{idx:null}).idx}function d(){o=hn.Pop;let j=h(),m=j==null?null:j-u;u=j,c&&c({action:o,location:b.location,delta:m})}function g(j,m){o=hn.Push;let p=ju(b.location,j,m);u=h()+1;let y=t0(p,u),v=b.createHref(p);try{l.pushState(y,"",v)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;a.location.assign(v)}i&&c&&c({action:o,location:b.location,delta:1})}function f(j,m){o=hn.Replace;let p=ju(b.location,j,m);u=h();let y=t0(p,u),v=b.createHref(p);l.replaceState(y,"",v),i&&c&&c({action:o,location:b.location,delta:0})}function x(j){let m=a.location.origin!=="null"?a.location.origin:a.location.href,p=typeof j=="string"?j:to(j);return p=p.replace(/ $/,"%20"),Le(m,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,m)}let b={get action(){return o},get location(){return e(a,l)},listen(j){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(e0,d),c=j,()=>{a.removeEventListener(e0,d),c=null}},createHref(j){return t(a,j)},createURL:x,encodeLocation(j){let m=x(j);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:g,replace:f,go(j){return l.go(j)}};return b}var r0;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(r0||(r0={}));function kk(e,t,r){return r===void 0&&(r="/"),wk(e,t,r)}function wk(e,t,r,n){let a=typeof t=="string"?fs(t):t,i=nh(a.pathname||"/",r);if(i==null)return null;let l=Xp(e);jk(l);let o=null;for(let c=0;o==null&&c<l.length;++c){let u=Lk(i);o=Mk(l[c],u)}return o}function Xp(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,l,o)=>{let c={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};c.relativePath.startsWith("/")&&(Le(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=kn([n,c.relativePath]),h=r.concat(c);i.children&&i.children.length>0&&(Le(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Xp(i.children,t,h,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:Ik(u,i.index),routesMeta:h})};return e.forEach((i,l)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))a(i,l);else for(let c of Jp(i.path))a(i,l,c)}),t}function Jp(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let l=Jp(n.join("/")),o=[];return o.push(...l.map(c=>c===""?i:[i,c].join("/"))),a&&o.push(...l),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function jk(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Pk(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Nk=/^:[\w-]+$/,Sk=3,Ck=2,Ek=1,_k=10,Tk=-2,n0=e=>e==="*";function Ik(e,t){let r=e.split("/"),n=r.length;return r.some(n0)&&(n+=Tk),t&&(n+=Ck),r.filter(a=>!n0(a)).reduce((a,i)=>a+(Nk.test(i)?Sk:i===""?Ek:_k),n)}function Pk(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function Mk(e,t,r){let{routesMeta:n}=e,a={},i="/",l=[];for(let o=0;o<n.length;++o){let c=n[o],u=o===n.length-1,h=i==="/"?t:t.slice(i.length)||"/",d=Rk({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),g=c.route;if(!d)return null;Object.assign(a,d.params),l.push({params:a,pathname:kn([i,d.pathname]),pathnameBase:$k(kn([i,d.pathnameBase])),route:g}),d.pathnameBase!=="/"&&(i=kn([i,d.pathnameBase]))}return l}function Rk(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Dk(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],l=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((u,h,d)=>{let{paramName:g,isOptional:f}=h;if(g==="*"){let b=o[d]||"";l=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const x=o[d];return f&&!x?u[g]=void 0:u[g]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:l,pattern:e}}function Dk(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Gp(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function Lk(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Gp(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function nh(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Ak(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?fs(e):e;return{pathname:r?r.startsWith("/")?r:Ok(r,t):t,search:zk(n),hash:Uk(a)}}function Ok(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function gc(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Fk(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function ah(e,t){let r=Fk(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function sh(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=fs(e):(a=mi({},e),Le(!a.pathname||!a.pathname.includes("?"),gc("?","pathname","search",a)),Le(!a.pathname||!a.pathname.includes("#"),gc("#","pathname","hash",a)),Le(!a.search||!a.search.includes("#"),gc("#","search","hash",a)));let i=e===""||a.pathname==="",l=i?"/":a.pathname,o;if(l==null)o=r;else{let d=t.length-1;if(!n&&l.startsWith("..")){let g=l.split("/");for(;g[0]==="..";)g.shift(),d-=1;a.pathname=g.join("/")}o=d>=0?t[d]:"/"}let c=Ak(a,o),u=l&&l!=="/"&&l.endsWith("/"),h=(i||l===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const kn=e=>e.join("/").replace(/\/\/+/g,"/"),$k=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),zk=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Uk=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Bk(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Zp=["post","put","patch","delete"];new Set(Zp);const Hk=["get",...Zp];new Set(Hk);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pi(){return pi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pi.apply(this,arguments)}const ih=k.createContext(null),qk=k.createContext(null),Pn=k.createContext(null),Mo=k.createContext(null),Hr=k.createContext({outlet:null,matches:[],isDataRoute:!1}),ex=k.createContext(null);function Wk(e,t){let{relative:r}=t===void 0?{}:t;gs()||Le(!1);let{basename:n,navigator:a}=k.useContext(Pn),{hash:i,pathname:l,search:o}=rx(e,{relative:r}),c=l;return n!=="/"&&(c=l==="/"?n:kn([n,l])),a.createHref({pathname:c,search:o,hash:i})}function gs(){return k.useContext(Mo)!=null}function ms(){return gs()||Le(!1),k.useContext(Mo).location}function tx(e){k.useContext(Pn).static||k.useLayoutEffect(e)}function gt(){let{isDataRoute:e}=k.useContext(Hr);return e?sw():Qk()}function Qk(){gs()||Le(!1);let e=k.useContext(ih),{basename:t,future:r,navigator:n}=k.useContext(Pn),{matches:a}=k.useContext(Hr),{pathname:i}=ms(),l=JSON.stringify(ah(a,r.v7_relativeSplatPath)),o=k.useRef(!1);return tx(()=>{o.current=!0}),k.useCallback(function(u,h){if(h===void 0&&(h={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let d=sh(u,JSON.parse(l),i,h.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:kn([t,d.pathname])),(h.replace?n.replace:n.push)(d,h.state,h)},[t,n,l,i,e])}function Vk(){let{matches:e}=k.useContext(Hr),t=e[e.length-1];return t?t.params:{}}function rx(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=k.useContext(Pn),{matches:a}=k.useContext(Hr),{pathname:i}=ms(),l=JSON.stringify(ah(a,n.v7_relativeSplatPath));return k.useMemo(()=>sh(e,JSON.parse(l),i,r==="path"),[e,l,i,r])}function Kk(e,t){return Yk(e,t)}function Yk(e,t,r,n){gs()||Le(!1);let{navigator:a}=k.useContext(Pn),{matches:i}=k.useContext(Hr),l=i[i.length-1],o=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let u=ms(),h;if(t){var d;let j=typeof t=="string"?fs(t):t;c==="/"||(d=j.pathname)!=null&&d.startsWith(c)||Le(!1),h=j}else h=u;let g=h.pathname||"/",f=g;if(c!=="/"){let j=c.replace(/^\//,"").split("/");f="/"+g.replace(/^\//,"").split("/").slice(j.length).join("/")}let x=kk(e,{pathname:f}),b=ew(x&&x.map(j=>Object.assign({},j,{params:Object.assign({},o,j.params),pathname:kn([c,a.encodeLocation?a.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?c:kn([c,a.encodeLocation?a.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),i,r,n);return t&&b?k.createElement(Mo.Provider,{value:{location:pi({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:hn.Pop}},b):b}function Gk(){let e=aw(),t=Bk(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),r?k.createElement("pre",{style:a},r):null,null)}const Xk=k.createElement(Gk,null);class Jk extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?k.createElement(Hr.Provider,{value:this.props.routeContext},k.createElement(ex.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Zk(e){let{routeContext:t,match:r,children:n}=e,a=k.useContext(ih);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),k.createElement(Hr.Provider,{value:t},n)}function ew(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let l=e,o=(a=r)==null?void 0:a.errors;if(o!=null){let h=l.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);h>=0||Le(!1),l=l.slice(0,Math.min(l.length,h+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let h=0;h<l.length;h++){let d=l[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=h),d.route.id){let{loaderData:g,errors:f}=r,x=d.route.loader&&g[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||x){c=!0,u>=0?l=l.slice(0,u+1):l=[l[0]];break}}}return l.reduceRight((h,d,g)=>{let f,x=!1,b=null,j=null;r&&(f=o&&d.route.id?o[d.route.id]:void 0,b=d.route.errorElement||Xk,c&&(u<0&&g===0?(iw("route-fallback"),x=!0,j=null):u===g&&(x=!0,j=d.route.hydrateFallbackElement||null)));let m=t.concat(l.slice(0,g+1)),p=()=>{let y;return f?y=b:x?y=j:d.route.Component?y=k.createElement(d.route.Component,null):d.route.element?y=d.route.element:y=h,k.createElement(Zk,{match:d,routeContext:{outlet:h,matches:m,isDataRoute:r!=null},children:y})};return r&&(d.route.ErrorBoundary||d.route.errorElement||g===0)?k.createElement(Jk,{location:r.location,revalidation:r.revalidation,component:b,error:f,children:p(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):p()},null)}var nx=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(nx||{}),ax=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ax||{});function tw(e){let t=k.useContext(ih);return t||Le(!1),t}function rw(e){let t=k.useContext(qk);return t||Le(!1),t}function nw(e){let t=k.useContext(Hr);return t||Le(!1),t}function sx(e){let t=nw(),r=t.matches[t.matches.length-1];return r.route.id||Le(!1),r.route.id}function aw(){var e;let t=k.useContext(ex),r=rw(),n=sx();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function sw(){let{router:e}=tw(nx.UseNavigateStable),t=sx(ax.UseNavigateStable),r=k.useRef(!1);return tx(()=>{r.current=!0}),k.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,pi({fromRouteId:t},i)))},[e,t])}const a0={};function iw(e,t,r){a0[e]||(a0[e]=!0)}function lw(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function ow(e){let{to:t,replace:r,state:n,relative:a}=e;gs()||Le(!1);let{future:i,static:l}=k.useContext(Pn),{matches:o}=k.useContext(Hr),{pathname:c}=ms(),u=gt(),h=sh(t,ah(o,i.v7_relativeSplatPath),c,a==="path"),d=JSON.stringify(h);return k.useEffect(()=>u(JSON.parse(d),{replace:r,state:n,relative:a}),[u,d,a,r,n]),null}function pt(e){Le(!1)}function cw(e){let{basename:t="/",children:r=null,location:n,navigationType:a=hn.Pop,navigator:i,static:l=!1,future:o}=e;gs()&&Le(!1);let c=t.replace(/^\/*/,"/"),u=k.useMemo(()=>({basename:c,navigator:i,static:l,future:pi({v7_relativeSplatPath:!1},o)}),[c,o,i,l]);typeof n=="string"&&(n=fs(n));let{pathname:h="/",search:d="",hash:g="",state:f=null,key:x="default"}=n,b=k.useMemo(()=>{let j=nh(h,c);return j==null?null:{location:{pathname:j,search:d,hash:g,state:f,key:x},navigationType:a}},[c,h,d,g,f,x,a]);return b==null?null:k.createElement(Pn.Provider,{value:u},k.createElement(Mo.Provider,{children:r,value:b}))}function s0(e){let{children:t,location:r}=e;return Kk(Nu(t),r)}new Promise(()=>{});function Nu(e,t){t===void 0&&(t=[]);let r=[];return k.Children.forEach(e,(n,a)=>{if(!k.isValidElement(n))return;let i=[...t,a];if(n.type===k.Fragment){r.push.apply(r,Nu(n.props.children,i));return}n.type!==pt&&Le(!1),!n.props.index||!n.props.children||Le(!1);let l={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=Nu(n.props.children,i)),r.push(l)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Su(){return Su=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Su.apply(this,arguments)}function uw(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function dw(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function hw(e,t){return e.button===0&&(!t||t==="_self")&&!dw(e)}const fw=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],gw="6";try{window.__reactRouterVersion=gw}catch{}const mw="startTransition",i0=ib[mw];function pw(e){let{basename:t,children:r,future:n,window:a}=e,i=k.useRef();i.current==null&&(i.current=yk({window:a,v5Compat:!0}));let l=i.current,[o,c]=k.useState({action:l.action,location:l.location}),{v7_startTransition:u}=n||{},h=k.useCallback(d=>{u&&i0?i0(()=>c(d)):c(d)},[c,u]);return k.useLayoutEffect(()=>l.listen(h),[l,h]),k.useEffect(()=>lw(n),[n]),k.createElement(cw,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:l,future:n})}const xw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",yw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ro=k.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:l,state:o,target:c,to:u,preventScrollReset:h,viewTransition:d}=t,g=uw(t,fw),{basename:f}=k.useContext(Pn),x,b=!1;if(typeof u=="string"&&yw.test(u)&&(x=u,xw))try{let y=new URL(window.location.href),v=u.startsWith("//")?new URL(y.protocol+u):new URL(u),E=nh(v.pathname,f);v.origin===y.origin&&E!=null?u=E+v.search+v.hash:b=!0}catch{}let j=Wk(u,{relative:a}),m=bw(u,{replace:l,state:o,target:c,preventScrollReset:h,relative:a,viewTransition:d});function p(y){n&&n(y),y.defaultPrevented||m(y)}return k.createElement("a",Su({},g,{href:x||j,onClick:b||i?n:p,ref:r,target:c}))});var l0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(l0||(l0={}));var o0;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(o0||(o0={}));function bw(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:l,viewTransition:o}=t===void 0?{}:t,c=gt(),u=ms(),h=rx(e,{relative:l});return k.useCallback(d=>{if(hw(d,r)){d.preventDefault();let g=n!==void 0?n:to(u)===to(h);c(e,{replace:g,state:a,preventScrollReset:i,relative:l,viewTransition:o})}},[u,c,h,n,a,r,e,i,l,o])}var ps=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},vw={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},en,id,Eg,kw=(Eg=class{constructor(){Y(this,en,vw);Y(this,id,!1)}setTimeoutProvider(e){q(this,en,e)}setTimeout(e,t){return N(this,en).setTimeout(e,t)}clearTimeout(e){N(this,en).clearTimeout(e)}setInterval(e,t){return N(this,en).setInterval(e,t)}clearInterval(e){N(this,en).clearInterval(e)}},en=new WeakMap,id=new WeakMap,Eg),Bn=new kw;function ww(e){setTimeout(e,0)}var la=typeof window>"u"||"Deno"in globalThis;function ot(){}function jw(e,t){return typeof e=="function"?e(t):e}function Cu(e){return typeof e=="number"&&e>=0&&e!==1/0}function ix(e,t){return Math.max(e+(t||0)-Date.now(),0)}function wn(e,t){return typeof e=="function"?e(t):e}function zt(e,t){return typeof e=="function"?e(t):e}function c0(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:l,stale:o}=e;if(l){if(n){if(t.queryHash!==lh(l,t.options))return!1}else if(!xi(t.queryKey,l))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||a&&a!==t.state.fetchStatus||i&&!i(t))}function u0(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(oa(t.options.mutationKey)!==oa(i))return!1}else if(!xi(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function lh(e,t){return((t==null?void 0:t.queryKeyHashFn)||oa)(e)}function oa(e){return JSON.stringify(e,(t,r)=>Eu(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function xi(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>xi(e[r],t[r])):!1}var Nw=Object.prototype.hasOwnProperty;function oh(e,t){if(e===t)return e;const r=d0(e)&&d0(t);if(!r&&!(Eu(e)&&Eu(t)))return t;const a=(r?e:Object.keys(e)).length,i=r?t:Object.keys(t),l=i.length,o=r?new Array(l):{};let c=0;for(let u=0;u<l;u++){const h=r?u:i[u],d=e[h],g=t[h];if(d===g){o[h]=d,(r?u<a:Nw.call(e,h))&&c++;continue}if(d===null||g===null||typeof d!="object"||typeof g!="object"){o[h]=g;continue}const f=oh(d,g);o[h]=f,f===d&&c++}return a===l&&c===a?e:o}function no(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function d0(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Eu(e){if(!h0(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!h0(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function h0(e){return Object.prototype.toString.call(e)==="[object Object]"}function Sw(e){return new Promise(t=>{Bn.setTimeout(t,e)})}function _u(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?oh(e,t):t}function Cw(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function Ew(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var ch=Symbol();function lx(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===ch?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function ox(e,t){return typeof e=="function"?e(...t):!!e}var Hn,tn,qa,_g,_w=(_g=class extends ps{constructor(){super();Y(this,Hn);Y(this,tn);Y(this,qa);q(this,qa,t=>{if(!la&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){N(this,tn)||this.setEventListener(N(this,qa))}onUnsubscribe(){var t;this.hasListeners()||((t=N(this,tn))==null||t.call(this),q(this,tn,void 0))}setEventListener(t){var r;q(this,qa,t),(r=N(this,tn))==null||r.call(this),q(this,tn,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){N(this,Hn)!==t&&(q(this,Hn,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof N(this,Hn)=="boolean"?N(this,Hn):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Hn=new WeakMap,tn=new WeakMap,qa=new WeakMap,_g),uh=new _w;function Tu(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}var Tw=ww;function Iw(){let e=[],t=0,r=o=>{o()},n=o=>{o()},a=Tw;const i=o=>{t?e.push(o):a(()=>{r(o)})},l=()=>{const o=e;e=[],o.length&&a(()=>{n(()=>{o.forEach(c=>{r(c)})})})};return{batch:o=>{let c;t++;try{c=o()}finally{t--,t||l()}return c},batchCalls:o=>(...c)=>{i(()=>{o(...c)})},schedule:i,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{a=o}}}var Oe=Iw(),Wa,rn,Qa,Tg,Pw=(Tg=class extends ps{constructor(){super();Y(this,Wa,!0);Y(this,rn);Y(this,Qa);q(this,Qa,t=>{if(!la&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){N(this,rn)||this.setEventListener(N(this,Qa))}onUnsubscribe(){var t;this.hasListeners()||((t=N(this,rn))==null||t.call(this),q(this,rn,void 0))}setEventListener(t){var r;q(this,Qa,t),(r=N(this,rn))==null||r.call(this),q(this,rn,t(this.setOnline.bind(this)))}setOnline(t){N(this,Wa)!==t&&(q(this,Wa,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return N(this,Wa)}},Wa=new WeakMap,rn=new WeakMap,Qa=new WeakMap,Tg),ao=new Pw;function Mw(e){return Math.min(1e3*2**e,3e4)}function cx(e){return(e??"online")==="online"?ao.isOnline():!0}var Iu=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function ux(e){let t=!1,r=0,n;const a=Tu(),i=()=>a.status!=="pending",l=b=>{var j;if(!i()){const m=new Iu(b);g(m),(j=e.onCancel)==null||j.call(e,m)}},o=()=>{t=!0},c=()=>{t=!1},u=()=>uh.isFocused()&&(e.networkMode==="always"||ao.isOnline())&&e.canRun(),h=()=>cx(e.networkMode)&&e.canRun(),d=b=>{i()||(n==null||n(),a.resolve(b))},g=b=>{i()||(n==null||n(),a.reject(b))},f=()=>new Promise(b=>{var j;n=m=>{(i()||u())&&b(m)},(j=e.onPause)==null||j.call(e)}).then(()=>{var b;n=void 0,i()||(b=e.onContinue)==null||b.call(e)}),x=()=>{if(i())return;let b;const j=r===0?e.initialPromise:void 0;try{b=j??e.fn()}catch(m){b=Promise.reject(m)}Promise.resolve(b).then(d).catch(m=>{var C;if(i())return;const p=e.retry??(la?0:3),y=e.retryDelay??Mw,v=typeof y=="function"?y(r,m):y,E=p===!0||typeof p=="number"&&r<p||typeof p=="function"&&p(r,m);if(t||!E){g(m);return}r++,(C=e.onFail)==null||C.call(e,r,m),Sw(v).then(()=>u()?void 0:f()).then(()=>{t?g(m):x()})})};return{promise:a,status:()=>a.status,cancel:l,continue:()=>(n==null||n(),a),cancelRetry:o,continueRetry:c,canStart:h,start:()=>(h()?x():f().then(x),a)}}var qn,Ig,dx=(Ig=class{constructor(){Y(this,qn)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Cu(this.gcTime)&&q(this,qn,Bn.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(la?1/0:5*60*1e3))}clearGcTimeout(){N(this,qn)&&(Bn.clearTimeout(N(this,qn)),q(this,qn,void 0))}},qn=new WeakMap,Ig),Wn,Va,$t,Qn,qe,Ni,Vn,Jt,Sr,Pg,Rw=(Pg=class extends dx{constructor(t){super();Y(this,Jt);Y(this,Wn);Y(this,Va);Y(this,$t);Y(this,Qn);Y(this,qe);Y(this,Ni);Y(this,Vn);q(this,Vn,!1),q(this,Ni,t.defaultOptions),this.setOptions(t.options),this.observers=[],q(this,Qn,t.client),q(this,$t,N(this,Qn).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,q(this,Wn,f0(this.options)),this.state=t.state??N(this,Wn),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=N(this,qe))==null?void 0:t.promise}setOptions(t){if(this.options={...N(this,Ni),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=f0(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),q(this,Wn,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&N(this,$t).remove(this)}setData(t,r){const n=_u(this.state.data,t,this.options);return te(this,Jt,Sr).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){te(this,Jt,Sr).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=N(this,qe))==null?void 0:n.promise;return(a=N(this,qe))==null||a.cancel(t),r?r.then(ot).catch(ot):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(N(this,Wn))}isActive(){return this.observers.some(t=>zt(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ch||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>wn(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!ix(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=N(this,qe))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=N(this,qe))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),N(this,$t).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(N(this,qe)&&(N(this,Vn)?N(this,qe).cancel({revert:!0}):N(this,qe).cancelRetry()),this.scheduleGc()),N(this,$t).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||te(this,Jt,Sr).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,h,d,g,f,x,b,j,m,p,y;if(this.state.fetchStatus!=="idle"&&((c=N(this,qe))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(N(this,qe))return N(this,qe).continueRetry(),N(this,qe).promise}if(t&&this.setOptions(t),!this.options.queryFn){const v=this.observers.find(E=>E.options.queryFn);v&&this.setOptions(v.options)}const n=new AbortController,a=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(q(this,Vn,!0),n.signal)})},i=()=>{const v=lx(this.options,r),C=(()=>{const M={client:N(this,Qn),queryKey:this.queryKey,meta:this.meta};return a(M),M})();return q(this,Vn,!1),this.options.persister?this.options.persister(v,C,this):v(C)},o=(()=>{const v={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:N(this,Qn),state:this.state,fetchFn:i};return a(v),v})();(u=this.options.behavior)==null||u.onFetch(o,this),q(this,Va,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=o.fetchOptions)==null?void 0:h.meta))&&te(this,Jt,Sr).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta}),q(this,qe,ux({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,onCancel:v=>{v instanceof Iu&&v.revert&&this.setState({...N(this,Va),fetchStatus:"idle"}),n.abort()},onFail:(v,E)=>{te(this,Jt,Sr).call(this,{type:"failed",failureCount:v,error:E})},onPause:()=>{te(this,Jt,Sr).call(this,{type:"pause"})},onContinue:()=>{te(this,Jt,Sr).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const v=await N(this,qe).start();if(v===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(v),(f=(g=N(this,$t).config).onSuccess)==null||f.call(g,v,this),(b=(x=N(this,$t).config).onSettled)==null||b.call(x,v,this.state.error,this),v}catch(v){if(v instanceof Iu){if(v.silent)return N(this,qe).promise;if(v.revert){if(this.state.data===void 0)throw v;return this.state.data}}throw te(this,Jt,Sr).call(this,{type:"error",error:v}),(m=(j=N(this,$t).config).onError)==null||m.call(j,v,this),(y=(p=N(this,$t).config).onSettled)==null||y.call(p,this.state.data,v,this),v}finally{this.scheduleGc()}}},Wn=new WeakMap,Va=new WeakMap,$t=new WeakMap,Qn=new WeakMap,qe=new WeakMap,Ni=new WeakMap,Vn=new WeakMap,Jt=new WeakSet,Sr=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...hx(n.data,this.options),fetchMeta:t.meta??null};case"success":const a={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return q(this,Va,t.manual?a:void 0),a;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Oe.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),N(this,$t).notify({query:this,type:"updated",action:t})})},Pg);function hx(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:cx(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function f0(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var yt,ie,Si,st,Kn,Ka,_r,nn,Ci,Ya,Ga,Yn,Gn,an,Xa,de,$s,Pu,Mu,Ru,Du,Lu,Au,Ou,fx,Mg,Dw=(Mg=class extends ps{constructor(t,r){super();Y(this,de);Y(this,yt);Y(this,ie);Y(this,Si);Y(this,st);Y(this,Kn);Y(this,Ka);Y(this,_r);Y(this,nn);Y(this,Ci);Y(this,Ya);Y(this,Ga);Y(this,Yn);Y(this,Gn);Y(this,an);Y(this,Xa,new Set);this.options=r,q(this,yt,t),q(this,nn,null),q(this,_r,Tu()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(N(this,ie).addObserver(this),g0(N(this,ie),this.options)?te(this,de,$s).call(this):this.updateResult(),te(this,de,Du).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Fu(N(this,ie),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Fu(N(this,ie),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,te(this,de,Lu).call(this),te(this,de,Au).call(this),N(this,ie).removeObserver(this)}setOptions(t){const r=this.options,n=N(this,ie);if(this.options=N(this,yt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof zt(this.options.enabled,N(this,ie))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");te(this,de,Ou).call(this),N(this,ie).setOptions(this.options),r._defaulted&&!no(this.options,r)&&N(this,yt).getQueryCache().notify({type:"observerOptionsUpdated",query:N(this,ie),observer:this});const a=this.hasListeners();a&&m0(N(this,ie),n,this.options,r)&&te(this,de,$s).call(this),this.updateResult(),a&&(N(this,ie)!==n||zt(this.options.enabled,N(this,ie))!==zt(r.enabled,N(this,ie))||wn(this.options.staleTime,N(this,ie))!==wn(r.staleTime,N(this,ie)))&&te(this,de,Pu).call(this);const i=te(this,de,Mu).call(this);a&&(N(this,ie)!==n||zt(this.options.enabled,N(this,ie))!==zt(r.enabled,N(this,ie))||i!==N(this,an))&&te(this,de,Ru).call(this,i)}getOptimisticResult(t){const r=N(this,yt).getQueryCache().build(N(this,yt),t),n=this.createResult(r,t);return Aw(this,n)&&(q(this,st,n),q(this,Ka,this.options),q(this,Kn,N(this,ie).state)),n}getCurrentResult(){return N(this,st)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),a==="promise"&&!this.options.experimental_prefetchInRender&&N(this,_r).status==="pending"&&N(this,_r).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(n,a))})}trackProp(t){N(this,Xa).add(t)}getCurrentQuery(){return N(this,ie)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=N(this,yt).defaultQueryOptions(t),n=N(this,yt).getQueryCache().build(N(this,yt),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return te(this,de,$s).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),N(this,st)))}createResult(t,r){var U;const n=N(this,ie),a=this.options,i=N(this,st),l=N(this,Kn),o=N(this,Ka),u=t!==n?t.state:N(this,Si),{state:h}=t;let d={...h},g=!1,f;if(r._optimisticResults){const R=this.hasListeners(),_=!R&&g0(t,r),F=R&&m0(t,n,r,a);(_||F)&&(d={...d,...hx(h.data,t.options)}),r._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:x,errorUpdatedAt:b,status:j}=d;f=d.data;let m=!1;if(r.placeholderData!==void 0&&f===void 0&&j==="pending"){let R;i!=null&&i.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData)?(R=i.data,m=!0):R=typeof r.placeholderData=="function"?r.placeholderData((U=N(this,Ga))==null?void 0:U.state.data,N(this,Ga)):r.placeholderData,R!==void 0&&(j="success",f=_u(i==null?void 0:i.data,R,r),g=!0)}if(r.select&&f!==void 0&&!m)if(i&&f===(l==null?void 0:l.data)&&r.select===N(this,Ci))f=N(this,Ya);else try{q(this,Ci,r.select),f=r.select(f),f=_u(i==null?void 0:i.data,f,r),q(this,Ya,f),q(this,nn,null)}catch(R){q(this,nn,R)}N(this,nn)&&(x=N(this,nn),f=N(this,Ya),b=Date.now(),j="error");const p=d.fetchStatus==="fetching",y=j==="pending",v=j==="error",E=y&&p,C=f!==void 0,O={status:j,fetchStatus:d.fetchStatus,isPending:y,isSuccess:j==="success",isError:v,isInitialLoading:E,isLoading:E,data:f,dataUpdatedAt:d.dataUpdatedAt,error:x,errorUpdatedAt:b,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>u.dataUpdateCount||d.errorUpdateCount>u.errorUpdateCount,isFetching:p,isRefetching:p&&!y,isLoadingError:v&&!C,isPaused:d.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:v&&C,isStale:dh(t,r),refetch:this.refetch,promise:N(this,_r),isEnabled:zt(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const R=L=>{O.status==="error"?L.reject(O.error):O.data!==void 0&&L.resolve(O.data)},_=()=>{const L=q(this,_r,O.promise=Tu());R(L)},F=N(this,_r);switch(F.status){case"pending":t.queryHash===n.queryHash&&R(F);break;case"fulfilled":(O.status==="error"||O.data!==F.value)&&_();break;case"rejected":(O.status!=="error"||O.error!==F.reason)&&_();break}}return O}updateResult(){const t=N(this,st),r=this.createResult(N(this,ie),this.options);if(q(this,Kn,N(this,ie).state),q(this,Ka,this.options),N(this,Kn).data!==void 0&&q(this,Ga,N(this,ie)),no(r,t))return;q(this,st,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!N(this,Xa).size)return!0;const l=new Set(i??N(this,Xa));return this.options.throwOnError&&l.add("error"),Object.keys(N(this,st)).some(o=>{const c=o;return N(this,st)[c]!==t[c]&&l.has(c)})};te(this,de,fx).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&te(this,de,Du).call(this)}},yt=new WeakMap,ie=new WeakMap,Si=new WeakMap,st=new WeakMap,Kn=new WeakMap,Ka=new WeakMap,_r=new WeakMap,nn=new WeakMap,Ci=new WeakMap,Ya=new WeakMap,Ga=new WeakMap,Yn=new WeakMap,Gn=new WeakMap,an=new WeakMap,Xa=new WeakMap,de=new WeakSet,$s=function(t){te(this,de,Ou).call(this);let r=N(this,ie).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(ot)),r},Pu=function(){te(this,de,Lu).call(this);const t=wn(this.options.staleTime,N(this,ie));if(la||N(this,st).isStale||!Cu(t))return;const n=ix(N(this,st).dataUpdatedAt,t)+1;q(this,Yn,Bn.setTimeout(()=>{N(this,st).isStale||this.updateResult()},n))},Mu=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(N(this,ie)):this.options.refetchInterval)??!1},Ru=function(t){te(this,de,Au).call(this),q(this,an,t),!(la||zt(this.options.enabled,N(this,ie))===!1||!Cu(N(this,an))||N(this,an)===0)&&q(this,Gn,Bn.setInterval(()=>{(this.options.refetchIntervalInBackground||uh.isFocused())&&te(this,de,$s).call(this)},N(this,an)))},Du=function(){te(this,de,Pu).call(this),te(this,de,Ru).call(this,te(this,de,Mu).call(this))},Lu=function(){N(this,Yn)&&(Bn.clearTimeout(N(this,Yn)),q(this,Yn,void 0))},Au=function(){N(this,Gn)&&(Bn.clearInterval(N(this,Gn)),q(this,Gn,void 0))},Ou=function(){const t=N(this,yt).getQueryCache().build(N(this,yt),this.options);if(t===N(this,ie))return;const r=N(this,ie);q(this,ie,t),q(this,Si,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},fx=function(t){Oe.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(N(this,st))}),N(this,yt).getQueryCache().notify({query:N(this,ie),type:"observerResultsUpdated"})})},Mg);function Lw(e,t){return zt(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function g0(e,t){return Lw(e,t)||e.state.data!==void 0&&Fu(e,t,t.refetchOnMount)}function Fu(e,t,r){if(zt(t.enabled,e)!==!1&&wn(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&dh(e,t)}return!1}function m0(e,t,r,n){return(e!==t||zt(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&dh(e,r)}function dh(e,t){return zt(t.enabled,e)!==!1&&e.isStaleByTime(wn(t.staleTime,e))}function Aw(e,t){return!no(e.getCurrentResult(),t)}function p0(e){return{onFetch:(t,r)=>{var h,d,g,f,x;const n=t.options,a=(g=(d=(h=t.fetchOptions)==null?void 0:h.meta)==null?void 0:d.fetchMore)==null?void 0:g.direction,i=((f=t.state.data)==null?void 0:f.pages)||[],l=((x=t.state.data)==null?void 0:x.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const u=async()=>{let b=!1;const j=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(t.signal.aborted?b=!0:t.signal.addEventListener("abort",()=>{b=!0}),t.signal)})},m=lx(t.options,t.fetchOptions),p=async(y,v,E)=>{if(b)return Promise.reject();if(v==null&&y.pages.length)return Promise.resolve(y);const M=(()=>{const _={client:t.client,queryKey:t.queryKey,pageParam:v,direction:E?"backward":"forward",meta:t.options.meta};return j(_),_})(),O=await m(M),{maxPages:U}=t.options,R=E?Ew:Cw;return{pages:R(y.pages,O,U),pageParams:R(y.pageParams,v,U)}};if(a&&i.length){const y=a==="backward",v=y?Ow:x0,E={pages:i,pageParams:l},C=v(n,E);o=await p(E,C,y)}else{const y=e??i.length;do{const v=c===0?l[0]??n.initialPageParam:x0(n,o);if(c>0&&v==null)break;o=await p(o,v),c++}while(c<y)}return o};t.options.persister?t.fetchFn=()=>{var b,j;return(j=(b=t.options).persister)==null?void 0:j.call(b,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function x0(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function Ow(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Ei,dr,it,Xn,hr,Kr,Rg,Fw=(Rg=class extends dx{constructor(t){super();Y(this,hr);Y(this,Ei);Y(this,dr);Y(this,it);Y(this,Xn);q(this,Ei,t.client),this.mutationId=t.mutationId,q(this,it,t.mutationCache),q(this,dr,[]),this.state=t.state||gx(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){N(this,dr).includes(t)||(N(this,dr).push(t),this.clearGcTimeout(),N(this,it).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){q(this,dr,N(this,dr).filter(r=>r!==t)),this.scheduleGc(),N(this,it).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){N(this,dr).length||(this.state.status==="pending"?this.scheduleGc():N(this,it).remove(this))}continue(){var t;return((t=N(this,Xn))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var l,o,c,u,h,d,g,f,x,b,j,m,p,y,v,E,C,M,O,U;const r=()=>{te(this,hr,Kr).call(this,{type:"continue"})},n={client:N(this,Ei),meta:this.options.meta,mutationKey:this.options.mutationKey};q(this,Xn,ux({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(R,_)=>{te(this,hr,Kr).call(this,{type:"failed",failureCount:R,error:_})},onPause:()=>{te(this,hr,Kr).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>N(this,it).canRun(this)}));const a=this.state.status==="pending",i=!N(this,Xn).canStart();try{if(a)r();else{te(this,hr,Kr).call(this,{type:"pending",variables:t,isPaused:i}),await((o=(l=N(this,it).config).onMutate)==null?void 0:o.call(l,t,this,n));const _=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,n));_!==this.state.context&&te(this,hr,Kr).call(this,{type:"pending",context:_,variables:t,isPaused:i})}const R=await N(this,Xn).start();return await((d=(h=N(this,it).config).onSuccess)==null?void 0:d.call(h,R,t,this.state.context,this,n)),await((f=(g=this.options).onSuccess)==null?void 0:f.call(g,R,t,this.state.context,n)),await((b=(x=N(this,it).config).onSettled)==null?void 0:b.call(x,R,null,this.state.variables,this.state.context,this,n)),await((m=(j=this.options).onSettled)==null?void 0:m.call(j,R,null,t,this.state.context,n)),te(this,hr,Kr).call(this,{type:"success",data:R}),R}catch(R){try{throw await((y=(p=N(this,it).config).onError)==null?void 0:y.call(p,R,t,this.state.context,this,n)),await((E=(v=this.options).onError)==null?void 0:E.call(v,R,t,this.state.context,n)),await((M=(C=N(this,it).config).onSettled)==null?void 0:M.call(C,void 0,R,this.state.variables,this.state.context,this,n)),await((U=(O=this.options).onSettled)==null?void 0:U.call(O,void 0,R,t,this.state.context,n)),R}finally{te(this,hr,Kr).call(this,{type:"error",error:R})}}finally{N(this,it).runNext(this)}}},Ei=new WeakMap,dr=new WeakMap,it=new WeakMap,Xn=new WeakMap,hr=new WeakSet,Kr=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Oe.batch(()=>{N(this,dr).forEach(n=>{n.onMutationUpdate(t)}),N(this,it).notify({mutation:this,type:"updated",action:t})})},Rg);function gx(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Tr,Zt,_i,Dg,$w=(Dg=class extends ps{constructor(t={}){super();Y(this,Tr);Y(this,Zt);Y(this,_i);this.config=t,q(this,Tr,new Set),q(this,Zt,new Map),q(this,_i,0)}build(t,r,n){const a=new Fw({client:t,mutationCache:this,mutationId:++Bi(this,_i)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){N(this,Tr).add(t);const r=il(t);if(typeof r=="string"){const n=N(this,Zt).get(r);n?n.push(t):N(this,Zt).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(N(this,Tr).delete(t)){const r=il(t);if(typeof r=="string"){const n=N(this,Zt).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&N(this,Zt).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=il(t);if(typeof r=="string"){const n=N(this,Zt).get(r),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=il(t);if(typeof r=="string"){const a=(n=N(this,Zt).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Oe.batch(()=>{N(this,Tr).forEach(t=>{this.notify({type:"removed",mutation:t})}),N(this,Tr).clear(),N(this,Zt).clear()})}getAll(){return Array.from(N(this,Tr))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>u0(r,n))}findAll(t={}){return this.getAll().filter(r=>u0(t,r))}notify(t){Oe.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Oe.batch(()=>Promise.all(t.map(r=>r.continue().catch(ot))))}},Tr=new WeakMap,Zt=new WeakMap,_i=new WeakMap,Dg);function il(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Ir,sn,bt,Pr,Ar,Nl,$u,Lg,zw=(Lg=class extends ps{constructor(r,n){super();Y(this,Ar);Y(this,Ir);Y(this,sn);Y(this,bt);Y(this,Pr);q(this,Ir,r),this.setOptions(n),this.bindMethods(),te(this,Ar,Nl).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=N(this,Ir).defaultMutationOptions(r),no(this.options,n)||N(this,Ir).getMutationCache().notify({type:"observerOptionsUpdated",mutation:N(this,bt),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&oa(n.mutationKey)!==oa(this.options.mutationKey)?this.reset():((a=N(this,bt))==null?void 0:a.state.status)==="pending"&&N(this,bt).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=N(this,bt))==null||r.removeObserver(this)}onMutationUpdate(r){te(this,Ar,Nl).call(this),te(this,Ar,$u).call(this,r)}getCurrentResult(){return N(this,sn)}reset(){var r;(r=N(this,bt))==null||r.removeObserver(this),q(this,bt,void 0),te(this,Ar,Nl).call(this),te(this,Ar,$u).call(this)}mutate(r,n){var a;return q(this,Pr,n),(a=N(this,bt))==null||a.removeObserver(this),q(this,bt,N(this,Ir).getMutationCache().build(N(this,Ir),this.options)),N(this,bt).addObserver(this),N(this,bt).execute(r)}},Ir=new WeakMap,sn=new WeakMap,bt=new WeakMap,Pr=new WeakMap,Ar=new WeakSet,Nl=function(){var n;const r=((n=N(this,bt))==null?void 0:n.state)??gx();q(this,sn,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},$u=function(r){Oe.batch(()=>{var n,a,i,l,o,c,u,h;if(N(this,Pr)&&this.hasListeners()){const d=N(this,sn).variables,g=N(this,sn).context,f={client:N(this,Ir),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((a=(n=N(this,Pr)).onSuccess)==null||a.call(n,r.data,d,g,f),(l=(i=N(this,Pr)).onSettled)==null||l.call(i,r.data,null,d,g,f)):(r==null?void 0:r.type)==="error"&&((c=(o=N(this,Pr)).onError)==null||c.call(o,r.error,d,g,f),(h=(u=N(this,Pr)).onSettled)==null||h.call(u,void 0,r.error,d,g,f))}this.listeners.forEach(d=>{d(N(this,sn))})})},Lg),fr,Ag,Uw=(Ag=class extends ps{constructor(t={}){super();Y(this,fr);this.config=t,q(this,fr,new Map)}build(t,r,n){const a=r.queryKey,i=r.queryHash??lh(a,r);let l=this.get(i);return l||(l=new Rw({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(l)),l}add(t){N(this,fr).has(t.queryHash)||(N(this,fr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=N(this,fr).get(t.queryHash);r&&(t.destroy(),r===t&&N(this,fr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Oe.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return N(this,fr).get(t)}getAll(){return[...N(this,fr).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>c0(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>c0(t,n)):r}notify(t){Oe.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Oe.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Oe.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},fr=new WeakMap,Ag),Pe,ln,on,Ja,Za,cn,es,ts,Og,Bw=(Og=class{constructor(e={}){Y(this,Pe);Y(this,ln);Y(this,on);Y(this,Ja);Y(this,Za);Y(this,cn);Y(this,es);Y(this,ts);q(this,Pe,e.queryCache||new Uw),q(this,ln,e.mutationCache||new $w),q(this,on,e.defaultOptions||{}),q(this,Ja,new Map),q(this,Za,new Map),q(this,cn,0)}mount(){Bi(this,cn)._++,N(this,cn)===1&&(q(this,es,uh.subscribe(async e=>{e&&(await this.resumePausedMutations(),N(this,Pe).onFocus())})),q(this,ts,ao.subscribe(async e=>{e&&(await this.resumePausedMutations(),N(this,Pe).onOnline())})))}unmount(){var e,t;Bi(this,cn)._--,N(this,cn)===0&&((e=N(this,es))==null||e.call(this),q(this,es,void 0),(t=N(this,ts))==null||t.call(this),q(this,ts,void 0))}isFetching(e){return N(this,Pe).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return N(this,ln).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=N(this,Pe).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=N(this,Pe).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(wn(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return N(this,Pe).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=N(this,Pe).get(n.queryHash),i=a==null?void 0:a.state.data,l=jw(t,i);if(l!==void 0)return N(this,Pe).build(this,n).setData(l,{...r,manual:!0})}setQueriesData(e,t,r){return Oe.batch(()=>N(this,Pe).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=N(this,Pe).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=N(this,Pe);Oe.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=N(this,Pe);return Oe.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Oe.batch(()=>N(this,Pe).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(ot).catch(ot)}invalidateQueries(e,t={}){return Oe.batch(()=>(N(this,Pe).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Oe.batch(()=>N(this,Pe).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(ot)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(ot)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=N(this,Pe).build(this,t);return r.isStaleByTime(wn(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ot).catch(ot)}fetchInfiniteQuery(e){return e.behavior=p0(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ot).catch(ot)}ensureInfiniteQueryData(e){return e.behavior=p0(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ao.isOnline()?N(this,ln).resumePausedMutations():Promise.resolve()}getQueryCache(){return N(this,Pe)}getMutationCache(){return N(this,ln)}getDefaultOptions(){return N(this,on)}setDefaultOptions(e){q(this,on,e)}setQueryDefaults(e,t){N(this,Ja).set(oa(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...N(this,Ja).values()],r={};return t.forEach(n=>{xi(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){N(this,Za).set(oa(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...N(this,Za).values()],r={};return t.forEach(n=>{xi(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...N(this,on).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=lh(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===ch&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...N(this,on).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){N(this,Pe).clear(),N(this,ln).clear()}},Pe=new WeakMap,ln=new WeakMap,on=new WeakMap,Ja=new WeakMap,Za=new WeakMap,cn=new WeakMap,es=new WeakMap,ts=new WeakMap,Og),mx=k.createContext(void 0),Ft=e=>{const t=k.useContext(mx);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Hw=({client:e,children:t})=>(k.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(mx.Provider,{value:e,children:t})),px=k.createContext(!1),qw=()=>k.useContext(px);px.Provider;function Ww(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Qw=k.createContext(Ww()),Vw=()=>k.useContext(Qw),Kw=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Yw=e=>{k.useEffect(()=>{e.clearReset()},[e])},Gw=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||ox(r,[e.error,n])),Xw=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Jw=(e,t)=>e.isLoading&&e.isFetching&&!t,Zw=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,y0=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function e1(e,t,r){var d,g,f,x,b;const n=qw(),a=Vw(),i=Ft(),l=i.defaultQueryOptions(e);(g=(d=i.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||g.call(d,l),l._optimisticResults=n?"isRestoring":"optimistic",Xw(l),Kw(l,a),Yw(a);const o=!i.getQueryCache().get(l.queryHash),[c]=k.useState(()=>new t(i,l)),u=c.getOptimisticResult(l),h=!n&&e.subscribed!==!1;if(k.useSyncExternalStore(k.useCallback(j=>{const m=h?c.subscribe(Oe.batchCalls(j)):ot;return c.updateResult(),m},[c,h]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),k.useEffect(()=>{c.setOptions(l)},[l,c]),Zw(l,u))throw y0(l,c,a);if(Gw({result:u,errorResetBoundary:a,throwOnError:l.throwOnError,query:i.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw u.error;if((x=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||x.call(f,l,u),l.experimental_prefetchInRender&&!la&&Jw(u,n)){const j=o?y0(l,c,a):(b=i.getQueryCache().get(l.queryHash))==null?void 0:b.promise;j==null||j.catch(ot).finally(()=>{c.updateResult()})}return l.notifyOnChangeProps?u:c.trackResult(u)}function Re(e,t){return e1(e,Dw)}function b0(e,t){return e.findAll(t.filters).map(r=>t.select?t.select(r):r.state)}function v0(e={},t){const r=Ft().getMutationCache(),n=k.useRef(e),a=k.useRef(null);return a.current||(a.current=b0(r,e)),k.useEffect(()=>{n.current=e}),k.useSyncExternalStore(k.useCallback(i=>r.subscribe(()=>{const l=oh(a.current,b0(r,n.current));a.current!==l&&(a.current=l,Oe.schedule(i))}),[r]),()=>a.current,()=>a.current)}function ct(e,t){const r=Ft(),[n]=k.useState(()=>new zw(r,e));k.useEffect(()=>{n.setOptions(e)},[n,e]);const a=k.useSyncExternalStore(k.useCallback(l=>n.subscribe(Oe.batchCalls(l)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=k.useCallback((l,o)=>{n.mutate(l,o).catch(ot)},[n]);if(a.error&&ox(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}let t1={data:""},r1=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||t1},n1=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,a1=/\/\*[^]*?\*\/|  +/g,k0=/\n+/g,Zr=(e,t)=>{let r="",n="",a="";for(let i in e){let l=e[i];i[0]=="@"?i[1]=="i"?r=i+" "+l+";":n+=i[1]=="f"?Zr(l,i):i+"{"+Zr(l,i[1]=="k"?"":t)+"}":typeof l=="object"?n+=Zr(l,t?t.replace(/([^,])+/g,o=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,o):o?o+" "+c:c)):i):l!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Zr.p?Zr.p(i,l):i+":"+l+";")}return r+(t&&a?t+"{"+a+"}":a)+n},Nr={},xx=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+xx(e[r]);return t}return e},s1=(e,t,r,n,a)=>{let i=xx(e),l=Nr[i]||(Nr[i]=(c=>{let u=0,h=11;for(;u<c.length;)h=101*h+c.charCodeAt(u++)>>>0;return"go"+h})(i));if(!Nr[l]){let c=i!==e?e:(u=>{let h,d,g=[{}];for(;h=n1.exec(u.replace(a1,""));)h[4]?g.shift():h[3]?(d=h[3].replace(k0," ").trim(),g.unshift(g[0][d]=g[0][d]||{})):g[0][h[1]]=h[2].replace(k0," ").trim();return g[0]})(e);Nr[l]=Zr(a?{["@keyframes "+l]:c}:c,r?"":"."+l)}let o=r&&Nr.g?Nr.g:null;return r&&(Nr.g=Nr[l]),((c,u,h,d)=>{d?u.data=u.data.replace(d,c):u.data.indexOf(c)===-1&&(u.data=h?c+u.data:u.data+c)})(Nr[l],t,n,o),l},i1=(e,t,r)=>e.reduce((n,a,i)=>{let l=t[i];if(l&&l.call){let o=l(r),c=o&&o.props&&o.props.className||/^go/.test(o)&&o;l=c?"."+c:o&&typeof o=="object"?o.props?"":Zr(o,""):o===!1?"":o}return n+a+(l??"")},"");function Ro(e){let t=this||{},r=e.call?e(t.p):e;return s1(r.unshift?r.raw?i1(r,[].slice.call(arguments,1),t.p):r.reduce((n,a)=>Object.assign(n,a&&a.call?a(t.p):a),{}):r,r1(t.target),t.g,t.o,t.k)}let yx,zu,Uu;Ro.bind({g:1});let Ur=Ro.bind({k:1});function l1(e,t,r,n){Zr.p=t,yx=e,zu=r,Uu=n}function Mn(e,t){let r=this||{};return function(){let n=arguments;function a(i,l){let o=Object.assign({},i),c=o.className||a.className;r.p=Object.assign({theme:zu&&zu()},o),r.o=/ *go\d+/.test(c),o.className=Ro.apply(r,n)+(c?" "+c:"");let u=e;return e[0]&&(u=o.as||e,delete o.as),Uu&&u[0]&&Uu(o),yx(u,o)}return a}}var o1=e=>typeof e=="function",so=(e,t)=>o1(e)?e(t):e,c1=(()=>{let e=0;return()=>(++e).toString()})(),bx=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),u1=20,hh="default",vx=(e,t)=>{let{toastLimit:r}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,r)};case 1:return{...e,toasts:e.toasts.map(l=>l.id===t.toast.id?{...l,...t.toast}:l)};case 2:let{toast:n}=t;return vx(e,{type:e.toasts.find(l=>l.id===n.id)?1:0,toast:n});case 3:let{toastId:a}=t;return{...e,toasts:e.toasts.map(l=>l.id===a||a===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(l=>l.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+i}))}}},Sl=[],kx={toasts:[],pausedAt:void 0,settings:{toastLimit:u1}},pr={},wx=(e,t=hh)=>{pr[t]=vx(pr[t]||kx,e),Sl.forEach(([r,n])=>{r===t&&n(pr[t])})},jx=e=>Object.keys(pr).forEach(t=>wx(e,t)),d1=e=>Object.keys(pr).find(t=>pr[t].toasts.some(r=>r.id===e)),Do=(e=hh)=>t=>{wx(t,e)},h1={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},f1=(e={},t=hh)=>{let[r,n]=k.useState(pr[t]||kx),a=k.useRef(pr[t]);k.useEffect(()=>(a.current!==pr[t]&&n(pr[t]),Sl.push([t,n]),()=>{let l=Sl.findIndex(([o])=>o===t);l>-1&&Sl.splice(l,1)}),[t]);let i=r.toasts.map(l=>{var o,c,u;return{...e,...e[l.type],...l,removeDelay:l.removeDelay||((o=e[l.type])==null?void 0:o.removeDelay)||(e==null?void 0:e.removeDelay),duration:l.duration||((c=e[l.type])==null?void 0:c.duration)||(e==null?void 0:e.duration)||h1[l.type],style:{...e.style,...(u=e[l.type])==null?void 0:u.style,...l.style}}});return{...r,toasts:i}},g1=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||c1()}),Di=e=>(t,r)=>{let n=g1(t,e,r);return Do(n.toasterId||d1(n.id))({type:2,toast:n}),n.id},Ve=(e,t)=>Di("blank")(e,t);Ve.error=Di("error");Ve.success=Di("success");Ve.loading=Di("loading");Ve.custom=Di("custom");Ve.dismiss=(e,t)=>{let r={type:3,toastId:e};t?Do(t)(r):jx(r)};Ve.dismissAll=e=>Ve.dismiss(void 0,e);Ve.remove=(e,t)=>{let r={type:4,toastId:e};t?Do(t)(r):jx(r)};Ve.removeAll=e=>Ve.remove(void 0,e);Ve.promise=(e,t,r)=>{let n=Ve.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(a=>{let i=t.success?so(t.success,a):void 0;return i?Ve.success(i,{id:n,...r,...r==null?void 0:r.success}):Ve.dismiss(n),a}).catch(a=>{let i=t.error?so(t.error,a):void 0;i?Ve.error(i,{id:n,...r,...r==null?void 0:r.error}):Ve.dismiss(n)}),e};var m1=1e3,p1=(e,t="default")=>{let{toasts:r,pausedAt:n}=f1(e,t),a=k.useRef(new Map).current,i=k.useCallback((d,g=m1)=>{if(a.has(d))return;let f=setTimeout(()=>{a.delete(d),l({type:4,toastId:d})},g);a.set(d,f)},[]);k.useEffect(()=>{if(n)return;let d=Date.now(),g=r.map(f=>{if(f.duration===1/0)return;let x=(f.duration||0)+f.pauseDuration-(d-f.createdAt);if(x<0){f.visible&&Ve.dismiss(f.id);return}return setTimeout(()=>Ve.dismiss(f.id,t),x)});return()=>{g.forEach(f=>f&&clearTimeout(f))}},[r,n,t]);let l=k.useCallback(Do(t),[t]),o=k.useCallback(()=>{l({type:5,time:Date.now()})},[l]),c=k.useCallback((d,g)=>{l({type:1,toast:{id:d,height:g}})},[l]),u=k.useCallback(()=>{n&&l({type:6,time:Date.now()})},[n,l]),h=k.useCallback((d,g)=>{let{reverseOrder:f=!1,gutter:x=8,defaultPosition:b}=g||{},j=r.filter(y=>(y.position||b)===(d.position||b)&&y.height),m=j.findIndex(y=>y.id===d.id),p=j.filter((y,v)=>v<m&&y.visible).length;return j.filter(y=>y.visible).slice(...f?[p+1]:[0,p]).reduce((y,v)=>y+(v.height||0)+x,0)},[r]);return k.useEffect(()=>{r.forEach(d=>{if(d.dismissed)i(d.id,d.removeDelay);else{let g=a.get(d.id);g&&(clearTimeout(g),a.delete(d.id))}})},[r,i]),{toasts:r,handlers:{updateHeight:c,startPause:o,endPause:u,calculateOffset:h}}},x1=Ur`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,y1=Ur`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,b1=Ur`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,v1=Mn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${x1} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${y1} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${b1} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,k1=Ur`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,w1=Mn("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${k1} 1s linear infinite;
`,j1=Ur`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,N1=Ur`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,S1=Mn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${j1} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${N1} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,C1=Mn("div")`
  position: absolute;
`,E1=Mn("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,_1=Ur`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,T1=Mn("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${_1} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,I1=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?k.createElement(T1,null,t):t:r==="blank"?null:k.createElement(E1,null,k.createElement(w1,{...n}),r!=="loading"&&k.createElement(C1,null,r==="error"?k.createElement(v1,{...n}):k.createElement(S1,{...n})))},P1=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,M1=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,R1="0%{opacity:0;} 100%{opacity:1;}",D1="0%{opacity:1;} 100%{opacity:0;}",L1=Mn("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,A1=Mn("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,O1=(e,t)=>{let r=e.includes("top")?1:-1,[n,a]=bx()?[R1,D1]:[P1(r),M1(r)];return{animation:t?`${Ur(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ur(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},F1=k.memo(({toast:e,position:t,style:r,children:n})=>{let a=e.height?O1(e.position||t||"top-center",e.visible):{opacity:0},i=k.createElement(I1,{toast:e}),l=k.createElement(A1,{...e.ariaProps},so(e.message,e));return k.createElement(L1,{className:e.className,style:{...a,...r,...e.style}},typeof n=="function"?n({icon:i,message:l}):k.createElement(k.Fragment,null,i,l))});l1(k.createElement);var $1=({id:e,className:t,style:r,onHeightUpdate:n,children:a})=>{let i=k.useCallback(l=>{if(l){let o=()=>{let c=l.getBoundingClientRect().height;n(e,c)};o(),new MutationObserver(o).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return k.createElement("div",{ref:i,className:t,style:r},a)},z1=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:bx()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...a}},U1=Ro`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,ll=16,B1=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:a,toasterId:i,containerStyle:l,containerClassName:o})=>{let{toasts:c,handlers:u}=p1(r,i);return k.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:ll,left:ll,right:ll,bottom:ll,pointerEvents:"none",...l},className:o,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map(h=>{let d=h.position||t,g=u.calculateOffset(h,{reverseOrder:e,gutter:n,defaultPosition:t}),f=z1(d,g);return k.createElement($1,{id:h.id,key:h.id,onHeightUpdate:u.updateHeight,className:h.visible?U1:"",style:f},h.type==="custom"?so(h.message,h):a?a(h):k.createElement(F1,{toast:h,position:d}))}))};/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Nx=(...e)=>e.filter((t,r,n)=>!!t&&n.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var q1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=k.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:l,...o},c)=>k.createElement("svg",{ref:c,...q1,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Nx("lucide",a),...o},[...l.map(([u,h])=>k.createElement(u,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=(e,t)=>{const r=k.forwardRef(({className:n,...a},i)=>k.createElement(W1,{ref:i,iconNode:t,className:Nx(`lucide-${H1(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cn=W("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=W("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=W("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=W("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const io=W("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=W("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fh=W("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=W("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=W("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=W("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=W("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=W("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=W("CirclePause",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0=W("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=W("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=W("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=W("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=W("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=W("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bu=W("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=W("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=W("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gh=W("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=W("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=W("FileSearch",[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M4.268 21a2 2 0 0 0 1.727 1H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"ms7g94"}],["path",{d:"m9 18-1.5-1.5",key:"1j6qii"}],["circle",{cx:"5",cy:"14",r:"3",key:"ufru5t"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mh=W("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=W("FileX",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m14.5 12.5-5 5",key:"b62r18"}],["path",{d:"m9.5 12.5 5 5",key:"1rk7el"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ej=W("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=W("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=W("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hu=W("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=W("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tj=W("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=W("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qu=W("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=W("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rj=W("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=W("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0=W("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nj=W("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aj=W("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=W("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bi=W("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wu=W("PowerOff",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qu=W("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vi=W("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=W("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=W("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=W("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sj=W("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lo=W("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ph=W("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=W("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ij=W("Signal",[["path",{d:"M2 20h.01",key:"4haj6o"}],["path",{d:"M7 20v-4",key:"j294jx"}],["path",{d:"M12 20v-8",key:"i3yub9"}],["path",{d:"M17 20V8",key:"1tkaf5"}],["path",{d:"M22 4v16",key:"sih9yq"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lj=W("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oj=W("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cj=W("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=W("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=W("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Li=W("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xh=W("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=W("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oo=W("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vu=W("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=W("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uj=W("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ga=W("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yh=W("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Lr={},fe=(Lr==null?void 0:Lr.VITE_API_URL)||"http://localhost:5000/api",dj=(Lr==null?void 0:Lr.VITE_SIGNALR_URL)||"http://localhost:5000/hubs",hj=(Lr==null?void 0:Lr.VITE_SIGNALR_HUB)||"scan-progress",mc="auth_token";class jn{static async login(t,r){const n=await fetch(`${fe}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:r})});if(!n.ok)throw new Error("Login failed");const a=await n.json().catch(()=>({})),i=n.headers.get("authorization")||n.headers.get("Authorization");let l;const o=[a,a==null?void 0:a.data];for(const c of o)if(!(!c||typeof c!="object")&&(l=c.accessToken||c.token||c.jwt||c.bearerToken||c.id_token||c.idToken,l))break;if(!l&&typeof i=="string"){const c=i.split(" ");l=c.length===2?c[1]:i}return l&&localStorage.setItem(mc,l),{accessToken:l||"",...a}}static logout(){localStorage.removeItem(mc)}static getToken(){return localStorage.getItem(mc)}}const fj=[{name:"Dashboard",href:"/",icon:tj,description:"Mission Control Center"},{name:"AI Chat",href:"/chat",icon:Dx,description:"Ask CastellanAI"},{name:"Security Events",href:"/security-events",icon:dt,description:"Event Investigation"},{name:"Timeline",href:"/timeline",icon:vr,description:"Attack Visualization"},{name:"Threat Intelligence",href:"/mitre-attack",icon:Lo,description:"MITRE ATT&CK"},{name:"Malware Detection",href:"/malware-rules",icon:fa,description:"Rule Management"},{name:"Threat Scanner",href:"/threat-scanner",icon:Ax,description:"Security Scanning"},{name:"System Status",href:"/system-status",icon:Cn,description:"Platform Health"}];function gj({children:e}){const t=ms(),r=gt(),[n,a]=k.useState(!1),[i,l]=k.useState(()=>{const h=localStorage.getItem("theme");return h?h==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches}),o=k.useRef(null);k.useEffect(()=>{i?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[i]),k.useEffect(()=>{function h(d){o.current&&!o.current.contains(d.target)&&a(!1)}return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[]);const c=()=>{jn.logout(),r("/login",{replace:!0})},u=()=>{l(!i)};return s.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[s.jsxs("div",{className:"fixed inset-y-0 left-0 z-50 w-72 bg-white dark:bg-gray-800 shadow-xl border-r border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex h-16 items-center justify-between px-6 border-b border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-blue-600",children:s.jsx(Be,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"CastellanAI"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Security Platform"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(io,{className:"hidden h-5 w-5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 cursor-pointer"}),s.jsxs("div",{className:"relative",ref:o,children:[s.jsx("button",{onClick:()=>a(!n),className:"flex items-center justify-center h-8 w-8 rounded-full bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:s.jsx(Fx,{className:"h-5 w-5 text-gray-600 dark:text-gray-300"})}),n&&s.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-1 z-50",children:[s.jsx("button",{onClick:()=>{u(),a(!1)},className:"w-full flex items-center space-x-3 px-4 py-2.5 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:i?s.jsxs(s.Fragment,{children:[s.jsx(oj,{className:"h-4 w-4"}),s.jsx("span",{children:"Light Mode"})]}):s.jsxs(s.Fragment,{children:[s.jsx(aj,{className:"h-4 w-4"}),s.jsx("span",{children:"Dark Mode"})]})}),s.jsxs(ro,{to:"/configuration",onClick:()=>a(!1),className:"w-full flex items-center space-x-3 px-4 py-2.5 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[s.jsx(ph,{className:"h-4 w-4"}),s.jsx("span",{children:"Configuration"})]}),s.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 my-1"}),s.jsxs("button",{onClick:c,className:"w-full flex items-center space-x-3 px-4 py-2.5 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[s.jsx(rj,{className:"h-4 w-4"}),s.jsx("span",{children:"Logout"})]})]})]})]})]}),s.jsx("nav",{className:"mt-6 px-3",children:s.jsx("ul",{className:"space-y-1",children:fj.map(h=>{const d=t.pathname===h.href,g=h.icon;return s.jsx("li",{children:s.jsxs(ro,{to:h.href,className:`group flex items-center justify-between rounded-lg px-3 py-2.5 text-sm font-medium transition-all duration-200 ${d?"bg-blue-50 text-blue-700 dark:bg-blue-900/50 dark:text-blue-300":"text-gray-700 hover:bg-gray-50 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white"}`,children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(g,{className:`h-5 w-5 ${d?"text-blue-600 dark:text-blue-400":"text-gray-400 group-hover:text-gray-600 dark:group-hover:text-gray-300"}`}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:h.name}),s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:h.description})]})]}),d&&s.jsx(Ex,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})]})},h.name)})})}),s.jsx("div",{className:"absolute bottom-6 left-6 right-6",children:s.jsxs("div",{className:"rounded-lg bg-green-50 dark:bg-green-900/20 p-3 border border-green-200 dark:border-green-800",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500 animate-pulse"}),s.jsx("span",{className:"text-sm font-medium text-green-700 dark:text-green-300",children:"System Operational"})]}),s.jsx("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:"All services running normally"})]})})]}),s.jsx("div",{className:"pl-72",children:s.jsx("main",{className:"min-h-screen",children:e})})]})}const mj={blue:{bg:"bg-blue-50 dark:bg-blue-900/20",border:"border-blue-200 dark:border-blue-800",icon:"text-blue-600 dark:text-blue-400",text:"text-blue-900 dark:text-blue-100",change:"text-blue-600 dark:text-blue-400"},green:{bg:"bg-green-50 dark:bg-green-900/20",border:"border-green-200 dark:border-green-800",icon:"text-green-600 dark:text-green-400",text:"text-green-900 dark:text-green-100",change:"text-green-600 dark:text-green-400"},yellow:{bg:"bg-yellow-50 dark:bg-yellow-900/20",border:"border-yellow-200 dark:border-yellow-800",icon:"text-yellow-600 dark:text-yellow-400",text:"text-yellow-900 dark:text-yellow-100",change:"text-yellow-600 dark:text-yellow-400"},red:{bg:"bg-red-50 dark:bg-red-900/20",border:"border-red-200 dark:border-red-800",icon:"text-red-600 dark:text-red-400",text:"text-red-900 dark:text-red-100",change:"text-red-600 dark:text-red-400"},gray:{bg:"bg-gray-50 dark:bg-gray-800",border:"border-gray-200 dark:border-gray-700",icon:"text-gray-600 dark:text-gray-400",text:"text-gray-900 dark:text-gray-100",change:"text-gray-600 dark:text-gray-400"}};function tr({title:e,value:t,change:r,icon:n,color:a,description:i}){const l=mj[a];return s.jsxs("div",{className:`rounded-xl border p-6 transition-all duration-200 hover:shadow-md ${l.bg} ${l.border}`,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`rounded-lg p-2 ${l.bg}`,children:s.jsx(n,{className:`h-6 w-6 ${l.icon}`})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:e}),s.jsx("p",{className:`text-2xl font-bold ${l.text}`,children:typeof t=="number"?t.toLocaleString():t})]})]}),r&&s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:`text-sm font-medium ${l.change}`,children:[r.value>0?"+":"",r.value]}),s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:r.period})]})]}),i&&s.jsx("p",{className:"mt-3 text-sm text-gray-600 dark:text-gray-400",children:i})]})}function pj(e){switch((e||"MEDIUM").toUpperCase()){case"CRITICAL":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"HIGH":return"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200";case"MEDIUM":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"LOW":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}}function xj({events:e,isLoading:t}){return t?s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Recent Activity"}),s.jsx("div",{className:"space-y-3",children:[...Array(5)].map((r,n)=>s.jsx("div",{className:"h-20 rounded-xl border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 animate-pulse"},n))})]}):s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Recent Activity"}),s.jsx(ro,{to:"/security-events",className:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium",children:"View all →"})]}),s.jsx("div",{className:"space-y-3",children:!e||e.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Be,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No recent security events"})]}):e.map(r=>{const n=(r.riskLevel||"MEDIUM").toUpperCase();return s.jsx(ro,{to:`/security-events/${r.id}`,className:"block rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 p-4 cursor-pointer hover:shadow-lg hover:border-blue-300 dark:hover:border-blue-600 transition-all duration-200",children:s.jsx("div",{className:"flex items-start justify-between gap-3",children:s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[s.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-full ${pj(r.riskLevel)}`,children:n}),s.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100 truncate",children:r.eventType||"Security Event"})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs text-gray-500 dark:text-gray-400",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-gray-400"}),s.jsx("span",{children:new Date(r.timestamp||Date.now()).toLocaleString()})]}),r.machine&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Machine:"})," ",s.jsx("span",{className:"text-gray-900 dark:text-gray-100 font-medium",children:r.machine})]}),r.source&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Source:"})," ",s.jsx("span",{className:"text-gray-900 dark:text-gray-100 font-medium",children:r.source})]})]})]})})},r.id)})})]})}function yj({data:e,isLoading:t}){if(t)return s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Threat Distribution"}),s.jsx("div",{className:"space-y-3",children:[...Array(4)].map((l,o)=>s.jsx("div",{className:"animate-pulse",children:s.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-full mb-2"})},o))})]});const r={CRITICAL:"bg-red-500",HIGH:"bg-orange-500",MEDIUM:"bg-yellow-500",LOW:"bg-green-500"},n=(e||[]).reduce((l,o)=>l+o.count,0)||1,a={CRITICAL:0,HIGH:1,MEDIUM:2,LOW:3,UNKNOWN:4},i=[...e||[]].sort((l,o)=>{const c=(l.severity||"UNKNOWN").toUpperCase(),u=(o.severity||"UNKNOWN").toUpperCase();return(a[c]??999)-(a[u]??999)});return s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Threat Distribution"}),s.jsx("div",{className:"space-y-4",children:!e||e.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Be,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No threat data available"})]}):i.map(l=>{const o=(l.severity||"UNKNOWN").toUpperCase(),c=o.charAt(0)+o.slice(1).toLowerCase(),u=l.count/n*100,h=r[o]||"bg-gray-500";return s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${h}`}),s.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:c})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-20 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full ${h}`,style:{width:`${u}%`}})}),s.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 min-w-[3rem] text-right",children:l.count})]})]},l.severity)})})]})}function ma({size:e="medium"}){const t={small:"h-6 w-6",medium:"h-12 w-12",large:"h-16 w-16"};return s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:`animate-spin rounded-full border-b-2 border-blue-600 ${t[e]}`})})}class ea extends Error{constructor(t,r){const n=new.target.prototype;super(`${t}: Status code '${r}'`),this.statusCode=r,this.__proto__=n}}class bh extends Error{constructor(t="A timeout occurred."){const r=new.target.prototype;super(t),this.__proto__=r}}class ar extends Error{constructor(t="An abort occurred."){const r=new.target.prototype;super(t),this.__proto__=r}}class bj extends Error{constructor(t,r){const n=new.target.prototype;super(t),this.transport=r,this.errorType="UnsupportedTransportError",this.__proto__=n}}class vj extends Error{constructor(t,r){const n=new.target.prototype;super(t),this.transport=r,this.errorType="DisabledTransportError",this.__proto__=n}}class kj extends Error{constructor(t,r){const n=new.target.prototype;super(t),this.transport=r,this.errorType="FailedToStartTransportError",this.__proto__=n}}class S0 extends Error{constructor(t){const r=new.target.prototype;super(t),this.errorType="FailedToNegotiateWithServerError",this.__proto__=r}}class wj extends Error{constructor(t,r){const n=new.target.prototype;super(t),this.innerErrors=r,this.__proto__=n}}class $x{constructor(t,r,n){this.statusCode=t,this.statusText=r,this.content=n}}class Ao{get(t,r){return this.send({...r,method:"GET",url:t})}post(t,r){return this.send({...r,method:"POST",url:t})}delete(t,r){return this.send({...r,method:"DELETE",url:t})}getCookieString(t){return""}}var D;(function(e){e[e.Trace=0]="Trace",e[e.Debug=1]="Debug",e[e.Information=2]="Information",e[e.Warning=3]="Warning",e[e.Error=4]="Error",e[e.Critical=5]="Critical",e[e.None=6]="None"})(D||(D={}));class ki{constructor(){}log(t,r){}}ki.instance=new ki;const jj="9.0.6";class Fe{static isRequired(t,r){if(t==null)throw new Error(`The '${r}' argument is required.`)}static isNotEmpty(t,r){if(!t||t.match(/^\s*$/))throw new Error(`The '${r}' argument should not be empty.`)}static isIn(t,r,n){if(!(t in r))throw new Error(`Unknown ${n} value: ${t}.`)}}class Ee{static get isBrowser(){return!Ee.isNode&&typeof window=="object"&&typeof window.document=="object"}static get isWebWorker(){return!Ee.isNode&&typeof self=="object"&&"importScripts"in self}static get isReactNative(){return!Ee.isNode&&typeof window=="object"&&typeof window.document>"u"}static get isNode(){return typeof process<"u"&&process.release&&process.release.name==="node"}}function wi(e,t){let r="";return ca(e)?(r=`Binary data of length ${e.byteLength}`,t&&(r+=`. Content: '${Nj(e)}'`)):typeof e=="string"&&(r=`String data of length ${e.length}`,t&&(r+=`. Content: '${e}'`)),r}function Nj(e){const t=new Uint8Array(e);let r="";return t.forEach(n=>{const a=n<16?"0":"";r+=`0x${a}${n.toString(16)} `}),r.substr(0,r.length-1)}function ca(e){return e&&typeof ArrayBuffer<"u"&&(e instanceof ArrayBuffer||e.constructor&&e.constructor.name==="ArrayBuffer")}async function zx(e,t,r,n,a,i){const l={},[o,c]=cs();l[o]=c,e.log(D.Trace,`(${t} transport) sending data. ${wi(a,i.logMessageContent)}.`);const u=ca(a)?"arraybuffer":"text",h=await r.post(n,{content:a,headers:{...l,...i.headers},responseType:u,timeout:i.timeout,withCredentials:i.withCredentials});e.log(D.Trace,`(${t} transport) request complete. Response status: ${h.statusCode}.`)}function Sj(e){return e===void 0?new co(D.Information):e===null?ki.instance:e.log!==void 0?e:new co(e)}class Cj{constructor(t,r){this._subject=t,this._observer=r}dispose(){const t=this._subject.observers.indexOf(this._observer);t>-1&&this._subject.observers.splice(t,1),this._subject.observers.length===0&&this._subject.cancelCallback&&this._subject.cancelCallback().catch(r=>{})}}class co{constructor(t){this._minLevel=t,this.out=console}log(t,r){if(t>=this._minLevel){const n=`[${new Date().toISOString()}] ${D[t]}: ${r}`;switch(t){case D.Critical:case D.Error:this.out.error(n);break;case D.Warning:this.out.warn(n);break;case D.Information:this.out.info(n);break;default:this.out.log(n);break}}}}function cs(){let e="X-SignalR-User-Agent";return Ee.isNode&&(e="User-Agent"),[e,Ej(jj,_j(),Ij(),Tj())]}function Ej(e,t,r,n){let a="Microsoft SignalR/";const i=e.split(".");return a+=`${i[0]}.${i[1]}`,a+=` (${e}; `,t&&t!==""?a+=`${t}; `:a+="Unknown OS; ",a+=`${r}`,n?a+=`; ${n}`:a+="; Unknown Runtime Version",a+=")",a}function _j(){if(Ee.isNode)switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}else return""}function Tj(){if(Ee.isNode)return process.versions.node}function Ij(){return Ee.isNode?"NodeJS":"Browser"}function pc(e){return e.stack?e.stack:e.message?e.message:`${e}`}function Pj(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("could not find global")}class Mj extends Ao{constructor(t){if(super(),this._logger=t,typeof fetch>"u"||Ee.isNode){const r=typeof __webpack_require__=="function"?__non_webpack_require__:require;this._jar=new(r("tough-cookie")).CookieJar,typeof fetch>"u"?this._fetchType=r("node-fetch"):this._fetchType=fetch,this._fetchType=r("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind(Pj());if(typeof AbortController>"u"){const r=typeof __webpack_require__=="function"?__non_webpack_require__:require;this._abortControllerType=r("abort-controller")}else this._abortControllerType=AbortController}async send(t){if(t.abortSignal&&t.abortSignal.aborted)throw new ar;if(!t.method)throw new Error("No method defined.");if(!t.url)throw new Error("No url defined.");const r=new this._abortControllerType;let n;t.abortSignal&&(t.abortSignal.onabort=()=>{r.abort(),n=new ar});let a=null;if(t.timeout){const c=t.timeout;a=setTimeout(()=>{r.abort(),this._logger.log(D.Warning,"Timeout from HTTP request."),n=new bh},c)}t.content===""&&(t.content=void 0),t.content&&(t.headers=t.headers||{},ca(t.content)?t.headers["Content-Type"]="application/octet-stream":t.headers["Content-Type"]="text/plain;charset=UTF-8");let i;try{i=await this._fetchType(t.url,{body:t.content,cache:"no-cache",credentials:t.withCredentials===!0?"include":"same-origin",headers:{"X-Requested-With":"XMLHttpRequest",...t.headers},method:t.method,mode:"cors",redirect:"follow",signal:r.signal})}catch(c){throw n||(this._logger.log(D.Warning,`Error from HTTP request. ${c}.`),c)}finally{a&&clearTimeout(a),t.abortSignal&&(t.abortSignal.onabort=null)}if(!i.ok){const c=await C0(i,"text");throw new ea(c||i.statusText,i.status)}const o=await C0(i,t.responseType);return new $x(i.status,i.statusText,o)}getCookieString(t){let r="";return Ee.isNode&&this._jar&&this._jar.getCookies(t,(n,a)=>r=a.join("; ")),r}}function C0(e,t){let r;switch(t){case"arraybuffer":r=e.arrayBuffer();break;case"text":r=e.text();break;case"blob":case"document":case"json":throw new Error(`${t} is not supported.`);default:r=e.text();break}return r}class Rj extends Ao{constructor(t){super(),this._logger=t}send(t){return t.abortSignal&&t.abortSignal.aborted?Promise.reject(new ar):t.method?t.url?new Promise((r,n)=>{const a=new XMLHttpRequest;a.open(t.method,t.url,!0),a.withCredentials=t.withCredentials===void 0?!0:t.withCredentials,a.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.content===""&&(t.content=void 0),t.content&&(ca(t.content)?a.setRequestHeader("Content-Type","application/octet-stream"):a.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));const i=t.headers;i&&Object.keys(i).forEach(l=>{a.setRequestHeader(l,i[l])}),t.responseType&&(a.responseType=t.responseType),t.abortSignal&&(t.abortSignal.onabort=()=>{a.abort(),n(new ar)}),t.timeout&&(a.timeout=t.timeout),a.onload=()=>{t.abortSignal&&(t.abortSignal.onabort=null),a.status>=200&&a.status<300?r(new $x(a.status,a.statusText,a.response||a.responseText)):n(new ea(a.response||a.responseText||a.statusText,a.status))},a.onerror=()=>{this._logger.log(D.Warning,`Error from HTTP request. ${a.status}: ${a.statusText}.`),n(new ea(a.statusText,a.status))},a.ontimeout=()=>{this._logger.log(D.Warning,"Timeout from HTTP request."),n(new bh)},a.send(t.content)}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}}class Dj extends Ao{constructor(t){if(super(),typeof fetch<"u"||Ee.isNode)this._httpClient=new Mj(t);else if(typeof XMLHttpRequest<"u")this._httpClient=new Rj(t);else throw new Error("No usable HttpClient found.")}send(t){return t.abortSignal&&t.abortSignal.aborted?Promise.reject(new ar):t.method?t.url?this._httpClient.send(t):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(t){return this._httpClient.getCookieString(t)}}class Mt{static write(t){return`${t}${Mt.RecordSeparator}`}static parse(t){if(t[t.length-1]!==Mt.RecordSeparator)throw new Error("Message is incomplete.");const r=t.split(Mt.RecordSeparator);return r.pop(),r}}Mt.RecordSeparatorCode=30;Mt.RecordSeparator=String.fromCharCode(Mt.RecordSeparatorCode);class Lj{writeHandshakeRequest(t){return Mt.write(JSON.stringify(t))}parseHandshakeResponse(t){let r,n;if(ca(t)){const o=new Uint8Array(t),c=o.indexOf(Mt.RecordSeparatorCode);if(c===-1)throw new Error("Message is incomplete.");const u=c+1;r=String.fromCharCode.apply(null,Array.prototype.slice.call(o.slice(0,u))),n=o.byteLength>u?o.slice(u).buffer:null}else{const o=t,c=o.indexOf(Mt.RecordSeparator);if(c===-1)throw new Error("Message is incomplete.");const u=c+1;r=o.substring(0,u),n=o.length>u?o.substring(u):null}const a=Mt.parse(r),i=JSON.parse(a[0]);if(i.type)throw new Error("Expected a handshake response from the server.");return[n,i]}}var Z;(function(e){e[e.Invocation=1]="Invocation",e[e.StreamItem=2]="StreamItem",e[e.Completion=3]="Completion",e[e.StreamInvocation=4]="StreamInvocation",e[e.CancelInvocation=5]="CancelInvocation",e[e.Ping=6]="Ping",e[e.Close=7]="Close",e[e.Ack=8]="Ack",e[e.Sequence=9]="Sequence"})(Z||(Z={}));class Aj{constructor(){this.observers=[]}next(t){for(const r of this.observers)r.next(t)}error(t){for(const r of this.observers)r.error&&r.error(t)}complete(){for(const t of this.observers)t.complete&&t.complete()}subscribe(t){return this.observers.push(t),new Cj(this,t)}}class Oj{constructor(t,r,n){this._bufferSize=1e5,this._messages=[],this._totalMessageCount=0,this._waitForSequenceMessage=!1,this._nextReceivingSequenceId=1,this._latestReceivedSequenceId=0,this._bufferedByteCount=0,this._reconnectInProgress=!1,this._protocol=t,this._connection=r,this._bufferSize=n}async _send(t){const r=this._protocol.writeMessage(t);let n=Promise.resolve();if(this._isInvocationMessage(t)){this._totalMessageCount++;let a=()=>{},i=()=>{};ca(r)?this._bufferedByteCount+=r.byteLength:this._bufferedByteCount+=r.length,this._bufferedByteCount>=this._bufferSize&&(n=new Promise((l,o)=>{a=l,i=o})),this._messages.push(new Fj(r,this._totalMessageCount,a,i))}try{this._reconnectInProgress||await this._connection.send(r)}catch{this._disconnected()}await n}_ack(t){let r=-1;for(let n=0;n<this._messages.length;n++){const a=this._messages[n];if(a._id<=t.sequenceId)r=n,ca(a._message)?this._bufferedByteCount-=a._message.byteLength:this._bufferedByteCount-=a._message.length,a._resolver();else if(this._bufferedByteCount<this._bufferSize)a._resolver();else break}r!==-1&&(this._messages=this._messages.slice(r+1))}_shouldProcessMessage(t){if(this._waitForSequenceMessage)return t.type!==Z.Sequence?!1:(this._waitForSequenceMessage=!1,!0);if(!this._isInvocationMessage(t))return!0;const r=this._nextReceivingSequenceId;return this._nextReceivingSequenceId++,r<=this._latestReceivedSequenceId?(r===this._latestReceivedSequenceId&&this._ackTimer(),!1):(this._latestReceivedSequenceId=r,this._ackTimer(),!0)}_resetSequence(t){if(t.sequenceId>this._nextReceivingSequenceId){this._connection.stop(new Error("Sequence ID greater than amount of messages we've received."));return}this._nextReceivingSequenceId=t.sequenceId}_disconnected(){this._reconnectInProgress=!0,this._waitForSequenceMessage=!0}async _resend(){const t=this._messages.length!==0?this._messages[0]._id:this._totalMessageCount+1;await this._connection.send(this._protocol.writeMessage({type:Z.Sequence,sequenceId:t}));const r=this._messages;for(const n of r)await this._connection.send(n._message);this._reconnectInProgress=!1}_dispose(t){t??(t=new Error("Unable to reconnect to server."));for(const r of this._messages)r._rejector(t)}_isInvocationMessage(t){switch(t.type){case Z.Invocation:case Z.StreamItem:case Z.Completion:case Z.StreamInvocation:case Z.CancelInvocation:return!0;case Z.Close:case Z.Sequence:case Z.Ping:case Z.Ack:return!1}}_ackTimer(){this._ackTimerHandle===void 0&&(this._ackTimerHandle=setTimeout(async()=>{try{this._reconnectInProgress||await this._connection.send(this._protocol.writeMessage({type:Z.Ack,sequenceId:this._latestReceivedSequenceId}))}catch{}clearTimeout(this._ackTimerHandle),this._ackTimerHandle=void 0},1e3))}}class Fj{constructor(t,r,n,a){this._message=t,this._id=r,this._resolver=n,this._rejector=a}}const $j=30*1e3,zj=15*1e3,Uj=1e5;var Ne;(function(e){e.Disconnected="Disconnected",e.Connecting="Connecting",e.Connected="Connected",e.Disconnecting="Disconnecting",e.Reconnecting="Reconnecting"})(Ne||(Ne={}));class vh{static create(t,r,n,a,i,l,o){return new vh(t,r,n,a,i,l,o)}constructor(t,r,n,a,i,l,o){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(D.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://learn.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},Fe.isRequired(t,"connection"),Fe.isRequired(r,"logger"),Fe.isRequired(n,"protocol"),this.serverTimeoutInMilliseconds=i??$j,this.keepAliveIntervalInMilliseconds=l??zj,this._statefulReconnectBufferSize=o??Uj,this._logger=r,this._protocol=n,this.connection=t,this._reconnectPolicy=a,this._handshakeProtocol=new Lj,this.connection.onreceive=c=>this._processIncomingData(c),this.connection.onclose=c=>this._connectionClosed(c),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=Ne.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:Z.Ping})}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(t){if(this._connectionState!==Ne.Disconnected&&this._connectionState!==Ne.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!t)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=t}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}async _startWithStateTransitions(){if(this._connectionState!==Ne.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));this._connectionState=Ne.Connecting,this._logger.log(D.Debug,"Starting HubConnection.");try{await this._startInternal(),Ee.isBrowser&&window.document.addEventListener("freeze",this._freezeEventListener),this._connectionState=Ne.Connected,this._connectionStarted=!0,this._logger.log(D.Debug,"HubConnection connected successfully.")}catch(t){return this._connectionState=Ne.Disconnected,this._logger.log(D.Debug,`HubConnection failed to start successfully because of error '${t}'.`),Promise.reject(t)}}async _startInternal(){this._stopDuringStartError=void 0,this._receivedHandshakeResponse=!1;const t=new Promise((r,n)=>{this._handshakeResolver=r,this._handshakeRejecter=n});await this.connection.start(this._protocol.transferFormat);try{let r=this._protocol.version;this.connection.features.reconnect||(r=1);const n={protocol:this._protocol.name,version:r};if(this._logger.log(D.Debug,"Sending handshake request."),await this._sendMessage(this._handshakeProtocol.writeHandshakeRequest(n)),this._logger.log(D.Information,`Using HubProtocol '${this._protocol.name}'.`),this._cleanupTimeout(),this._resetTimeoutPeriod(),this._resetKeepAliveInterval(),await t,this._stopDuringStartError)throw this._stopDuringStartError;(this.connection.features.reconnect||!1)&&(this._messageBuffer=new Oj(this._protocol,this.connection,this._statefulReconnectBufferSize),this.connection.features.disconnected=this._messageBuffer._disconnected.bind(this._messageBuffer),this.connection.features.resend=()=>{if(this._messageBuffer)return this._messageBuffer._resend()}),this.connection.features.inherentKeepAlive||await this._sendMessage(this._cachedPingMessage)}catch(r){throw this._logger.log(D.Debug,`Hub handshake failed with error '${r}' during start(). Stopping HubConnection.`),this._cleanupTimeout(),this._cleanupPingTimer(),await this.connection.stop(r),r}}async stop(){const t=this._startPromise;this.connection.features.reconnect=!1,this._stopPromise=this._stopInternal(),await this._stopPromise;try{await t}catch{}}_stopInternal(t){if(this._connectionState===Ne.Disconnected)return this._logger.log(D.Debug,`Call to HubConnection.stop(${t}) ignored because it is already in the disconnected state.`),Promise.resolve();if(this._connectionState===Ne.Disconnecting)return this._logger.log(D.Debug,`Call to HttpConnection.stop(${t}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;const r=this._connectionState;return this._connectionState=Ne.Disconnecting,this._logger.log(D.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(D.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(r===Ne.Connected&&this._sendCloseMessage(),this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=t||new ar("The connection was stopped before the hub handshake could complete."),this.connection.stop(t))}async _sendCloseMessage(){try{await this._sendWithProtocol(this._createCloseMessage())}catch{}}stream(t,...r){const[n,a]=this._replaceStreamingParams(r),i=this._createStreamInvocation(t,r,a);let l;const o=new Aj;return o.cancelCallback=()=>{const c=this._createCancelInvocation(i.invocationId);return delete this._callbacks[i.invocationId],l.then(()=>this._sendWithProtocol(c))},this._callbacks[i.invocationId]=(c,u)=>{if(u){o.error(u);return}else c&&(c.type===Z.Completion?c.error?o.error(new Error(c.error)):o.complete():o.next(c.item))},l=this._sendWithProtocol(i).catch(c=>{o.error(c),delete this._callbacks[i.invocationId]}),this._launchStreams(n,l),o}_sendMessage(t){return this._resetKeepAliveInterval(),this.connection.send(t)}_sendWithProtocol(t){return this._messageBuffer?this._messageBuffer._send(t):this._sendMessage(this._protocol.writeMessage(t))}send(t,...r){const[n,a]=this._replaceStreamingParams(r),i=this._sendWithProtocol(this._createInvocation(t,r,!0,a));return this._launchStreams(n,i),i}invoke(t,...r){const[n,a]=this._replaceStreamingParams(r),i=this._createInvocation(t,r,!1,a);return new Promise((o,c)=>{this._callbacks[i.invocationId]=(h,d)=>{if(d){c(d);return}else h&&(h.type===Z.Completion?h.error?c(new Error(h.error)):o(h.result):c(new Error(`Unexpected message type: ${h.type}`)))};const u=this._sendWithProtocol(i).catch(h=>{c(h),delete this._callbacks[i.invocationId]});this._launchStreams(n,u)})}on(t,r){!t||!r||(t=t.toLowerCase(),this._methods[t]||(this._methods[t]=[]),this._methods[t].indexOf(r)===-1&&this._methods[t].push(r))}off(t,r){if(!t)return;t=t.toLowerCase();const n=this._methods[t];if(n)if(r){const a=n.indexOf(r);a!==-1&&(n.splice(a,1),n.length===0&&delete this._methods[t])}else delete this._methods[t]}onclose(t){t&&this._closedCallbacks.push(t)}onreconnecting(t){t&&this._reconnectingCallbacks.push(t)}onreconnected(t){t&&this._reconnectedCallbacks.push(t)}_processIncomingData(t){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(t=this._processHandshakeResponse(t),this._receivedHandshakeResponse=!0),t){const r=this._protocol.parseMessages(t,this._logger);for(const n of r)if(!(this._messageBuffer&&!this._messageBuffer._shouldProcessMessage(n)))switch(n.type){case Z.Invocation:this._invokeClientMethod(n).catch(a=>{this._logger.log(D.Error,`Invoke client method threw error: ${pc(a)}`)});break;case Z.StreamItem:case Z.Completion:{const a=this._callbacks[n.invocationId];if(a){n.type===Z.Completion&&delete this._callbacks[n.invocationId];try{a(n)}catch(i){this._logger.log(D.Error,`Stream callback threw error: ${pc(i)}`)}}break}case Z.Ping:break;case Z.Close:{this._logger.log(D.Information,"Close message received from server.");const a=n.error?new Error("Server returned an error on close: "+n.error):void 0;n.allowReconnect===!0?this.connection.stop(a):this._stopPromise=this._stopInternal(a);break}case Z.Ack:this._messageBuffer&&this._messageBuffer._ack(n);break;case Z.Sequence:this._messageBuffer&&this._messageBuffer._resetSequence(n);break;default:this._logger.log(D.Warning,`Invalid message type: ${n.type}.`);break}}this._resetTimeoutPeriod()}_processHandshakeResponse(t){let r,n;try{[n,r]=this._handshakeProtocol.parseHandshakeResponse(t)}catch(a){const i="Error parsing handshake response: "+a;this._logger.log(D.Error,i);const l=new Error(i);throw this._handshakeRejecter(l),l}if(r.error){const a="Server returned handshake error: "+r.error;this._logger.log(D.Error,a);const i=new Error(a);throw this._handshakeRejecter(i),i}else this._logger.log(D.Debug,"Server handshake complete.");return this._handshakeResolver(),n}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=new Date().getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){if((!this.connection.features||!this.connection.features.inherentKeepAlive)&&(this._timeoutHandle=setTimeout(()=>this.serverTimeout(),this.serverTimeoutInMilliseconds),this._pingServerHandle===void 0)){let t=this._nextKeepAlive-new Date().getTime();t<0&&(t=0),this._pingServerHandle=setTimeout(async()=>{if(this._connectionState===Ne.Connected)try{await this._sendMessage(this._cachedPingMessage)}catch{this._cleanupPingTimer()}},t)}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}async _invokeClientMethod(t){const r=t.target.toLowerCase(),n=this._methods[r];if(!n){this._logger.log(D.Warning,`No client method with the name '${r}' found.`),t.invocationId&&(this._logger.log(D.Warning,`No result given for '${r}' method and invocation ID '${t.invocationId}'.`),await this._sendWithProtocol(this._createCompletionMessage(t.invocationId,"Client didn't provide a result.",null)));return}const a=n.slice(),i=!!t.invocationId;let l,o,c;for(const u of a)try{const h=l;l=await u.apply(this,t.arguments),i&&l&&h&&(this._logger.log(D.Error,`Multiple results provided for '${r}'. Sending error to server.`),c=this._createCompletionMessage(t.invocationId,"Client provided multiple results.",null)),o=void 0}catch(h){o=h,this._logger.log(D.Error,`A callback for the method '${r}' threw error '${h}'.`)}c?await this._sendWithProtocol(c):i?(o?c=this._createCompletionMessage(t.invocationId,`${o}`,null):l!==void 0?c=this._createCompletionMessage(t.invocationId,null,l):(this._logger.log(D.Warning,`No result given for '${r}' method and invocation ID '${t.invocationId}'.`),c=this._createCompletionMessage(t.invocationId,"Client didn't provide a result.",null)),await this._sendWithProtocol(c)):l&&this._logger.log(D.Error,`Result given for '${r}' method but server is not expecting a result.`)}_connectionClosed(t){this._logger.log(D.Debug,`HubConnection.connectionClosed(${t}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||t||new ar("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(t||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===Ne.Disconnecting?this._completeClose(t):this._connectionState===Ne.Connected&&this._reconnectPolicy?this._reconnect(t):this._connectionState===Ne.Connected&&this._completeClose(t)}_completeClose(t){if(this._connectionStarted){this._connectionState=Ne.Disconnected,this._connectionStarted=!1,this._messageBuffer&&(this._messageBuffer._dispose(t??new Error("Connection closed.")),this._messageBuffer=void 0),Ee.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach(r=>r.apply(this,[t]))}catch(r){this._logger.log(D.Error,`An onclose callback called with error '${t}' threw error '${r}'.`)}}}async _reconnect(t){const r=Date.now();let n=0,a=t!==void 0?t:new Error("Attempting to reconnect due to a unknown error."),i=this._getNextRetryDelay(n++,0,a);if(i===null){this._logger.log(D.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),this._completeClose(t);return}if(this._connectionState=Ne.Reconnecting,t?this._logger.log(D.Information,`Connection reconnecting because of error '${t}'.`):this._logger.log(D.Information,"Connection reconnecting."),this._reconnectingCallbacks.length!==0){try{this._reconnectingCallbacks.forEach(l=>l.apply(this,[t]))}catch(l){this._logger.log(D.Error,`An onreconnecting callback called with error '${t}' threw error '${l}'.`)}if(this._connectionState!==Ne.Reconnecting){this._logger.log(D.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.");return}}for(;i!==null;){if(this._logger.log(D.Information,`Reconnect attempt number ${n} will start in ${i} ms.`),await new Promise(l=>{this._reconnectDelayHandle=setTimeout(l,i)}),this._reconnectDelayHandle=void 0,this._connectionState!==Ne.Reconnecting){this._logger.log(D.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");return}try{if(await this._startInternal(),this._connectionState=Ne.Connected,this._logger.log(D.Information,"HubConnection reconnected successfully."),this._reconnectedCallbacks.length!==0)try{this._reconnectedCallbacks.forEach(l=>l.apply(this,[this.connection.connectionId]))}catch(l){this._logger.log(D.Error,`An onreconnected callback called with connectionId '${this.connection.connectionId}; threw error '${l}'.`)}return}catch(l){if(this._logger.log(D.Information,`Reconnect attempt failed because of error '${l}'.`),this._connectionState!==Ne.Reconnecting){this._logger.log(D.Debug,`Connection moved to the '${this._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),this._connectionState===Ne.Disconnecting&&this._completeClose();return}a=l instanceof Error?l:new Error(l.toString()),i=this._getNextRetryDelay(n++,Date.now()-r,a)}}this._logger.log(D.Information,`Reconnect retries have been exhausted after ${Date.now()-r} ms and ${n} failed attempts. Connection disconnecting.`),this._completeClose()}_getNextRetryDelay(t,r,n){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:r,previousRetryCount:t,retryReason:n})}catch(a){return this._logger.log(D.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${t}, ${r}) threw error '${a}'.`),null}}_cancelCallbacksWithError(t){const r=this._callbacks;this._callbacks={},Object.keys(r).forEach(n=>{const a=r[n];try{a(null,t)}catch(i){this._logger.log(D.Error,`Stream 'error' callback called with '${t}' threw error: ${pc(i)}`)}})}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(t,r,n,a){if(n)return a.length!==0?{target:t,arguments:r,streamIds:a,type:Z.Invocation}:{target:t,arguments:r,type:Z.Invocation};{const i=this._invocationId;return this._invocationId++,a.length!==0?{target:t,arguments:r,invocationId:i.toString(),streamIds:a,type:Z.Invocation}:{target:t,arguments:r,invocationId:i.toString(),type:Z.Invocation}}}_launchStreams(t,r){if(t.length!==0){r||(r=Promise.resolve());for(const n in t)t[n].subscribe({complete:()=>{r=r.then(()=>this._sendWithProtocol(this._createCompletionMessage(n)))},error:a=>{let i;a instanceof Error?i=a.message:a&&a.toString?i=a.toString():i="Unknown error",r=r.then(()=>this._sendWithProtocol(this._createCompletionMessage(n,i)))},next:a=>{r=r.then(()=>this._sendWithProtocol(this._createStreamItemMessage(n,a)))}})}}_replaceStreamingParams(t){const r=[],n=[];for(let a=0;a<t.length;a++){const i=t[a];if(this._isObservable(i)){const l=this._invocationId;this._invocationId++,r[l]=i,n.push(l.toString()),t.splice(a,1)}}return[r,n]}_isObservable(t){return t&&t.subscribe&&typeof t.subscribe=="function"}_createStreamInvocation(t,r,n){const a=this._invocationId;return this._invocationId++,n.length!==0?{target:t,arguments:r,invocationId:a.toString(),streamIds:n,type:Z.StreamInvocation}:{target:t,arguments:r,invocationId:a.toString(),type:Z.StreamInvocation}}_createCancelInvocation(t){return{invocationId:t,type:Z.CancelInvocation}}_createStreamItemMessage(t,r){return{invocationId:t,item:r,type:Z.StreamItem}}_createCompletionMessage(t,r,n){return r?{error:r,invocationId:t,type:Z.Completion}:{invocationId:t,result:n,type:Z.Completion}}_createCloseMessage(){return{type:Z.Close}}}const Bj=[0,2e3,1e4,3e4,null];class E0{constructor(t){this._retryDelays=t!==void 0?[...t,null]:Bj}nextRetryDelayInMilliseconds(t){return this._retryDelays[t.previousRetryCount]}}class ta{}ta.Authorization="Authorization";ta.Cookie="Cookie";class Hj extends Ao{constructor(t,r){super(),this._innerClient=t,this._accessTokenFactory=r}async send(t){let r=!0;this._accessTokenFactory&&(!this._accessToken||t.url&&t.url.indexOf("/negotiate?")>0)&&(r=!1,this._accessToken=await this._accessTokenFactory()),this._setAuthorizationHeader(t);const n=await this._innerClient.send(t);return r&&n.statusCode===401&&this._accessTokenFactory?(this._accessToken=await this._accessTokenFactory(),this._setAuthorizationHeader(t),await this._innerClient.send(t)):n}_setAuthorizationHeader(t){t.headers||(t.headers={}),this._accessToken?t.headers[ta.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&t.headers[ta.Authorization]&&delete t.headers[ta.Authorization]}getCookieString(t){return this._innerClient.getCookieString(t)}}var ze;(function(e){e[e.None=0]="None",e[e.WebSockets=1]="WebSockets",e[e.ServerSentEvents=2]="ServerSentEvents",e[e.LongPolling=4]="LongPolling"})(ze||(ze={}));var tt;(function(e){e[e.Text=1]="Text",e[e.Binary=2]="Binary"})(tt||(tt={}));let qj=class{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}};class _0{get pollAborted(){return this._pollAbort.aborted}constructor(t,r,n){this._httpClient=t,this._logger=r,this._pollAbort=new qj,this._options=n,this._running=!1,this.onreceive=null,this.onclose=null}async connect(t,r){if(Fe.isRequired(t,"url"),Fe.isRequired(r,"transferFormat"),Fe.isIn(r,tt,"transferFormat"),this._url=t,this._logger.log(D.Trace,"(LongPolling transport) Connecting."),r===tt.Binary&&typeof XMLHttpRequest<"u"&&typeof new XMLHttpRequest().responseType!="string")throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");const[n,a]=cs(),i={[n]:a,...this._options.headers},l={abortSignal:this._pollAbort.signal,headers:i,timeout:1e5,withCredentials:this._options.withCredentials};r===tt.Binary&&(l.responseType="arraybuffer");const o=`${t}&_=${Date.now()}`;this._logger.log(D.Trace,`(LongPolling transport) polling: ${o}.`);const c=await this._httpClient.get(o,l);c.statusCode!==200?(this._logger.log(D.Error,`(LongPolling transport) Unexpected response code: ${c.statusCode}.`),this._closeError=new ea(c.statusText||"",c.statusCode),this._running=!1):this._running=!0,this._receiving=this._poll(this._url,l)}async _poll(t,r){try{for(;this._running;)try{const n=`${t}&_=${Date.now()}`;this._logger.log(D.Trace,`(LongPolling transport) polling: ${n}.`);const a=await this._httpClient.get(n,r);a.statusCode===204?(this._logger.log(D.Information,"(LongPolling transport) Poll terminated by server."),this._running=!1):a.statusCode!==200?(this._logger.log(D.Error,`(LongPolling transport) Unexpected response code: ${a.statusCode}.`),this._closeError=new ea(a.statusText||"",a.statusCode),this._running=!1):a.content?(this._logger.log(D.Trace,`(LongPolling transport) data received. ${wi(a.content,this._options.logMessageContent)}.`),this.onreceive&&this.onreceive(a.content)):this._logger.log(D.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(n){this._running?n instanceof bh?this._logger.log(D.Trace,"(LongPolling transport) Poll timed out, reissuing."):(this._closeError=n,this._running=!1):this._logger.log(D.Trace,`(LongPolling transport) Poll errored after shutdown: ${n.message}`)}}finally{this._logger.log(D.Trace,"(LongPolling transport) Polling complete."),this.pollAborted||this._raiseOnClose()}}async send(t){return this._running?zx(this._logger,"LongPolling",this._httpClient,this._url,t,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}async stop(){this._logger.log(D.Trace,"(LongPolling transport) Stopping polling."),this._running=!1,this._pollAbort.abort();try{await this._receiving,this._logger.log(D.Trace,`(LongPolling transport) sending DELETE request to ${this._url}.`);const t={},[r,n]=cs();t[r]=n;const a={headers:{...t,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials};let i;try{await this._httpClient.delete(this._url,a)}catch(l){i=l}i?i instanceof ea&&(i.statusCode===404?this._logger.log(D.Trace,"(LongPolling transport) A 404 response was returned from sending a DELETE request."):this._logger.log(D.Trace,`(LongPolling transport) Error sending a DELETE request: ${i}`)):this._logger.log(D.Trace,"(LongPolling transport) DELETE request accepted.")}finally{this._logger.log(D.Trace,"(LongPolling transport) Stop finished."),this._raiseOnClose()}}_raiseOnClose(){if(this.onclose){let t="(LongPolling transport) Firing onclose event.";this._closeError&&(t+=" Error: "+this._closeError),this._logger.log(D.Trace,t),this.onclose(this._closeError)}}}class Wj{constructor(t,r,n,a){this._httpClient=t,this._accessToken=r,this._logger=n,this._options=a,this.onreceive=null,this.onclose=null}async connect(t,r){return Fe.isRequired(t,"url"),Fe.isRequired(r,"transferFormat"),Fe.isIn(r,tt,"transferFormat"),this._logger.log(D.Trace,"(SSE transport) Connecting."),this._url=t,this._accessToken&&(t+=(t.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(this._accessToken)}`),new Promise((n,a)=>{let i=!1;if(r!==tt.Text){a(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"));return}let l;if(Ee.isBrowser||Ee.isWebWorker)l=new this._options.EventSource(t,{withCredentials:this._options.withCredentials});else{const o=this._httpClient.getCookieString(t),c={};c.Cookie=o;const[u,h]=cs();c[u]=h,l=new this._options.EventSource(t,{withCredentials:this._options.withCredentials,headers:{...c,...this._options.headers}})}try{l.onmessage=o=>{if(this.onreceive)try{this._logger.log(D.Trace,`(SSE transport) data received. ${wi(o.data,this._options.logMessageContent)}.`),this.onreceive(o.data)}catch(c){this._close(c);return}},l.onerror=o=>{i?this._close():a(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},l.onopen=()=>{this._logger.log(D.Information,`SSE connected to ${this._url}`),this._eventSource=l,i=!0,n()}}catch(o){a(o);return}})}async send(t){return this._eventSource?zx(this._logger,"SSE",this._httpClient,this._url,t,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}stop(){return this._close(),Promise.resolve()}_close(t){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(t))}}class Qj{constructor(t,r,n,a,i,l){this._logger=n,this._accessTokenFactory=r,this._logMessageContent=a,this._webSocketConstructor=i,this._httpClient=t,this.onreceive=null,this.onclose=null,this._headers=l}async connect(t,r){Fe.isRequired(t,"url"),Fe.isRequired(r,"transferFormat"),Fe.isIn(r,tt,"transferFormat"),this._logger.log(D.Trace,"(WebSockets transport) Connecting.");let n;return this._accessTokenFactory&&(n=await this._accessTokenFactory()),new Promise((a,i)=>{t=t.replace(/^http/,"ws");let l;const o=this._httpClient.getCookieString(t);let c=!1;if(Ee.isNode||Ee.isReactNative){const u={},[h,d]=cs();u[h]=d,n&&(u[ta.Authorization]=`Bearer ${n}`),o&&(u[ta.Cookie]=o),l=new this._webSocketConstructor(t,void 0,{headers:{...u,...this._headers}})}else n&&(t+=(t.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(n)}`);l||(l=new this._webSocketConstructor(t)),r===tt.Binary&&(l.binaryType="arraybuffer"),l.onopen=u=>{this._logger.log(D.Information,`WebSocket connected to ${t}.`),this._webSocket=l,c=!0,a()},l.onerror=u=>{let h=null;typeof ErrorEvent<"u"&&u instanceof ErrorEvent?h=u.error:h="There was an error with the transport",this._logger.log(D.Information,`(WebSockets transport) ${h}.`)},l.onmessage=u=>{if(this._logger.log(D.Trace,`(WebSockets transport) data received. ${wi(u.data,this._logMessageContent)}.`),this.onreceive)try{this.onreceive(u.data)}catch(h){this._close(h);return}},l.onclose=u=>{if(c)this._close(u);else{let h=null;typeof ErrorEvent<"u"&&u instanceof ErrorEvent?h=u.error:h="WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",i(new Error(h))}}})}send(t){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(D.Trace,`(WebSockets transport) sending data. ${wi(t,this._logMessageContent)}.`),this._webSocket.send(t),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(t){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(D.Trace,"(WebSockets transport) socket closed."),this.onclose&&(this._isCloseEvent(t)&&(t.wasClean===!1||t.code!==1e3)?this.onclose(new Error(`WebSocket closed with status code: ${t.code} (${t.reason||"no reason given"}).`)):t instanceof Error?this.onclose(t):this.onclose())}_isCloseEvent(t){return t&&typeof t.wasClean=="boolean"&&typeof t.code=="number"}}const T0=100;class Vj{constructor(t,r={}){if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,Fe.isRequired(t,"url"),this._logger=Sj(r.logger),this.baseUrl=this._resolveUrl(t),r=r||{},r.logMessageContent=r.logMessageContent===void 0?!1:r.logMessageContent,typeof r.withCredentials=="boolean"||r.withCredentials===void 0)r.withCredentials=r.withCredentials===void 0?!0:r.withCredentials;else throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");r.timeout=r.timeout===void 0?100*1e3:r.timeout;let n=null,a=null;if(Ee.isNode&&typeof require<"u"){const i=typeof __webpack_require__=="function"?__non_webpack_require__:require;n=i("ws"),a=i("eventsource")}!Ee.isNode&&typeof WebSocket<"u"&&!r.WebSocket?r.WebSocket=WebSocket:Ee.isNode&&!r.WebSocket&&n&&(r.WebSocket=n),!Ee.isNode&&typeof EventSource<"u"&&!r.EventSource?r.EventSource=EventSource:Ee.isNode&&!r.EventSource&&typeof a<"u"&&(r.EventSource=a),this._httpClient=new Hj(r.httpClient||new Dj(this._logger),r.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=r,this.onreceive=null,this.onclose=null}async start(t){if(t=t||tt.Binary,Fe.isIn(t,tt,"transferFormat"),this._logger.log(D.Debug,`Starting connection with transfer format '${tt[t]}'.`),this._connectionState!=="Disconnected")return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(this._connectionState="Connecting",this._startInternalPromise=this._startInternal(t),await this._startInternalPromise,this._connectionState==="Disconnecting"){const r="Failed to start the HttpConnection before stop() was called.";return this._logger.log(D.Error,r),await this._stopPromise,Promise.reject(new ar(r))}else if(this._connectionState!=="Connected"){const r="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return this._logger.log(D.Error,r),Promise.reject(new ar(r))}this._connectionStarted=!0}send(t){return this._connectionState!=="Connected"?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new kh(this.transport)),this._sendQueue.send(t))}async stop(t){if(this._connectionState==="Disconnected")return this._logger.log(D.Debug,`Call to HttpConnection.stop(${t}) ignored because the connection is already in the disconnected state.`),Promise.resolve();if(this._connectionState==="Disconnecting")return this._logger.log(D.Debug,`Call to HttpConnection.stop(${t}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;this._connectionState="Disconnecting",this._stopPromise=new Promise(r=>{this._stopPromiseResolver=r}),await this._stopInternal(t),await this._stopPromise}async _stopInternal(t){this._stopError=t;try{await this._startInternalPromise}catch{}if(this.transport){try{await this.transport.stop()}catch(r){this._logger.log(D.Error,`HttpConnection.transport.stop() threw error '${r}'.`),this._stopConnection()}this.transport=void 0}else this._logger.log(D.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")}async _startInternal(t){let r=this.baseUrl;this._accessTokenFactory=this._options.accessTokenFactory,this._httpClient._accessTokenFactory=this._accessTokenFactory;try{if(this._options.skipNegotiation)if(this._options.transport===ze.WebSockets)this.transport=this._constructTransport(ze.WebSockets),await this._startTransport(r,t);else throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");else{let n=null,a=0;do{if(n=await this._getNegotiationResponse(r),this._connectionState==="Disconnecting"||this._connectionState==="Disconnected")throw new ar("The connection was stopped during negotiation.");if(n.error)throw new Error(n.error);if(n.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(n.url&&(r=n.url),n.accessToken){const i=n.accessToken;this._accessTokenFactory=()=>i,this._httpClient._accessToken=i,this._httpClient._accessTokenFactory=void 0}a++}while(n.url&&a<T0);if(a===T0&&n.url)throw new Error("Negotiate redirection limit exceeded.");await this._createTransport(r,this._options.transport,n,t)}this.transport instanceof _0&&(this.features.inherentKeepAlive=!0),this._connectionState==="Connecting"&&(this._logger.log(D.Debug,"The HttpConnection connected successfully."),this._connectionState="Connected")}catch(n){return this._logger.log(D.Error,"Failed to start the connection: "+n),this._connectionState="Disconnected",this.transport=void 0,this._stopPromiseResolver(),Promise.reject(n)}}async _getNegotiationResponse(t){const r={},[n,a]=cs();r[n]=a;const i=this._resolveNegotiateUrl(t);this._logger.log(D.Debug,`Sending negotiation request: ${i}.`);try{const l=await this._httpClient.post(i,{content:"",headers:{...r,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials});if(l.statusCode!==200)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${l.statusCode}'`));const o=JSON.parse(l.content);return(!o.negotiateVersion||o.negotiateVersion<1)&&(o.connectionToken=o.connectionId),o.useStatefulReconnect&&this._options._useStatefulReconnect!==!0?Promise.reject(new S0("Client didn't negotiate Stateful Reconnect but the server did.")):o}catch(l){let o="Failed to complete negotiation with the server: "+l;return l instanceof ea&&l.statusCode===404&&(o=o+" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),this._logger.log(D.Error,o),Promise.reject(new S0(o))}}_createConnectUrl(t,r){return r?t+(t.indexOf("?")===-1?"?":"&")+`id=${r}`:t}async _createTransport(t,r,n,a){let i=this._createConnectUrl(t,n.connectionToken);if(this._isITransport(r)){this._logger.log(D.Debug,"Connection was provided an instance of ITransport, using that directly."),this.transport=r,await this._startTransport(i,a),this.connectionId=n.connectionId;return}const l=[],o=n.availableTransports||[];let c=n;for(const u of o){const h=this._resolveTransportOrError(u,r,a,(c==null?void 0:c.useStatefulReconnect)===!0);if(h instanceof Error)l.push(`${u.transport} failed:`),l.push(h);else if(this._isITransport(h)){if(this.transport=h,!c){try{c=await this._getNegotiationResponse(t)}catch(d){return Promise.reject(d)}i=this._createConnectUrl(t,c.connectionToken)}try{await this._startTransport(i,a),this.connectionId=c.connectionId;return}catch(d){if(this._logger.log(D.Error,`Failed to start the transport '${u.transport}': ${d}`),c=void 0,l.push(new kj(`${u.transport} failed: ${d}`,ze[u.transport])),this._connectionState!=="Connecting"){const g="Failed to select transport before stop() was called.";return this._logger.log(D.Debug,g),Promise.reject(new ar(g))}}}}return l.length>0?Promise.reject(new wj(`Unable to connect to the server with any of the available transports. ${l.join(" ")}`,l)):Promise.reject(new Error("None of the transports supported by the client are supported by the server."))}_constructTransport(t){switch(t){case ze.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new Qj(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case ze.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new Wj(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case ze.LongPolling:return new _0(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${t}.`)}}_startTransport(t,r){return this.transport.onreceive=this.onreceive,this.features.reconnect?this.transport.onclose=async n=>{let a=!1;if(this.features.reconnect)try{this.features.disconnected(),await this.transport.connect(t,r),await this.features.resend()}catch{a=!0}else{this._stopConnection(n);return}a&&this._stopConnection(n)}:this.transport.onclose=n=>this._stopConnection(n),this.transport.connect(t,r)}_resolveTransportOrError(t,r,n,a){const i=ze[t.transport];if(i==null)return this._logger.log(D.Debug,`Skipping transport '${t.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${t.transport}' because it is not supported by this client.`);if(Kj(r,i))if(t.transferFormats.map(o=>tt[o]).indexOf(n)>=0){if(i===ze.WebSockets&&!this._options.WebSocket||i===ze.ServerSentEvents&&!this._options.EventSource)return this._logger.log(D.Debug,`Skipping transport '${ze[i]}' because it is not supported in your environment.'`),new bj(`'${ze[i]}' is not supported in your environment.`,i);this._logger.log(D.Debug,`Selecting transport '${ze[i]}'.`);try{return this.features.reconnect=i===ze.WebSockets?a:void 0,this._constructTransport(i)}catch(o){return o}}else return this._logger.log(D.Debug,`Skipping transport '${ze[i]}' because it does not support the requested transfer format '${tt[n]}'.`),new Error(`'${ze[i]}' does not support ${tt[n]}.`);else return this._logger.log(D.Debug,`Skipping transport '${ze[i]}' because it was disabled by the client.`),new vj(`'${ze[i]}' is disabled by the client.`,i)}_isITransport(t){return t&&typeof t=="object"&&"connect"in t}_stopConnection(t){if(this._logger.log(D.Debug,`HttpConnection.stopConnection(${t}) called while in state ${this._connectionState}.`),this.transport=void 0,t=this._stopError||t,this._stopError=void 0,this._connectionState==="Disconnected"){this._logger.log(D.Debug,`Call to HttpConnection.stopConnection(${t}) was ignored because the connection is already in the disconnected state.`);return}if(this._connectionState==="Connecting")throw this._logger.log(D.Warning,`Call to HttpConnection.stopConnection(${t}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${t}) was called while the connection is still in the connecting state.`);if(this._connectionState==="Disconnecting"&&this._stopPromiseResolver(),t?this._logger.log(D.Error,`Connection disconnected with error '${t}'.`):this._logger.log(D.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch(r=>{this._logger.log(D.Error,`TransportSendQueue.stop() threw error '${r}'.`)}),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(t)}catch(r){this._logger.log(D.Error,`HttpConnection.onclose(${t}) threw error '${r}'.`)}}}_resolveUrl(t){if(t.lastIndexOf("https://",0)===0||t.lastIndexOf("http://",0)===0)return t;if(!Ee.isBrowser)throw new Error(`Cannot resolve '${t}'.`);const r=window.document.createElement("a");return r.href=t,this._logger.log(D.Information,`Normalizing '${t}' to '${r.href}'.`),r.href}_resolveNegotiateUrl(t){const r=new URL(t);r.pathname.endsWith("/")?r.pathname+="negotiate":r.pathname+="/negotiate";const n=new URLSearchParams(r.searchParams);return n.has("negotiateVersion")||n.append("negotiateVersion",this._negotiateVersion.toString()),n.has("useStatefulReconnect")?n.get("useStatefulReconnect")==="true"&&(this._options._useStatefulReconnect=!0):this._options._useStatefulReconnect===!0&&n.append("useStatefulReconnect","true"),r.search=n.toString(),r.toString()}}function Kj(e,t){return!e||(t&e)!==0}class kh{constructor(t){this._transport=t,this._buffer=[],this._executing=!0,this._sendBufferedData=new ol,this._transportResult=new ol,this._sendLoopPromise=this._sendLoop()}send(t){return this._bufferData(t),this._transportResult||(this._transportResult=new ol),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(t){if(this._buffer.length&&typeof this._buffer[0]!=typeof t)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof t}`);this._buffer.push(t),this._sendBufferedData.resolve()}async _sendLoop(){for(;;){if(await this._sendBufferedData.promise,!this._executing){this._transportResult&&this._transportResult.reject("Connection stopped.");break}this._sendBufferedData=new ol;const t=this._transportResult;this._transportResult=void 0;const r=typeof this._buffer[0]=="string"?this._buffer.join(""):kh._concatBuffers(this._buffer);this._buffer.length=0;try{await this._transport.send(r),t.resolve()}catch(n){t.reject(n)}}}static _concatBuffers(t){const r=t.map(i=>i.byteLength).reduce((i,l)=>i+l),n=new Uint8Array(r);let a=0;for(const i of t)n.set(new Uint8Array(i),a),a+=i.byteLength;return n.buffer}}class ol{constructor(){this.promise=new Promise((t,r)=>[this._resolver,this._rejecter]=[t,r])}resolve(){this._resolver()}reject(t){this._rejecter(t)}}const Yj="json";class Gj{constructor(){this.name=Yj,this.version=2,this.transferFormat=tt.Text}parseMessages(t,r){if(typeof t!="string")throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!t)return[];r===null&&(r=ki.instance);const n=Mt.parse(t),a=[];for(const i of n){const l=JSON.parse(i);if(typeof l.type!="number")throw new Error("Invalid payload.");switch(l.type){case Z.Invocation:this._isInvocationMessage(l);break;case Z.StreamItem:this._isStreamItemMessage(l);break;case Z.Completion:this._isCompletionMessage(l);break;case Z.Ping:break;case Z.Close:break;case Z.Ack:this._isAckMessage(l);break;case Z.Sequence:this._isSequenceMessage(l);break;default:r.log(D.Information,"Unknown message type '"+l.type+"' ignored.");continue}a.push(l)}return a}writeMessage(t){return Mt.write(JSON.stringify(t))}_isInvocationMessage(t){this._assertNotEmptyString(t.target,"Invalid payload for Invocation message."),t.invocationId!==void 0&&this._assertNotEmptyString(t.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(t){if(this._assertNotEmptyString(t.invocationId,"Invalid payload for StreamItem message."),t.item===void 0)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(t){if(t.result&&t.error)throw new Error("Invalid payload for Completion message.");!t.result&&t.error&&this._assertNotEmptyString(t.error,"Invalid payload for Completion message."),this._assertNotEmptyString(t.invocationId,"Invalid payload for Completion message.")}_isAckMessage(t){if(typeof t.sequenceId!="number")throw new Error("Invalid SequenceId for Ack message.")}_isSequenceMessage(t){if(typeof t.sequenceId!="number")throw new Error("Invalid SequenceId for Sequence message.")}_assertNotEmptyString(t,r){if(typeof t!="string"||t==="")throw new Error(r)}}const Xj={trace:D.Trace,debug:D.Debug,info:D.Information,information:D.Information,warn:D.Warning,warning:D.Warning,error:D.Error,critical:D.Critical,none:D.None};function Jj(e){const t=Xj[e.toLowerCase()];if(typeof t<"u")return t;throw new Error(`Unknown log level: ${e}`)}class Zj{configureLogging(t){if(Fe.isRequired(t,"logging"),eN(t))this.logger=t;else if(typeof t=="string"){const r=Jj(t);this.logger=new co(r)}else this.logger=new co(t);return this}withUrl(t,r){return Fe.isRequired(t,"url"),Fe.isNotEmpty(t,"url"),this.url=t,typeof r=="object"?this.httpConnectionOptions={...this.httpConnectionOptions,...r}:this.httpConnectionOptions={...this.httpConnectionOptions,transport:r},this}withHubProtocol(t){return Fe.isRequired(t,"protocol"),this.protocol=t,this}withAutomaticReconnect(t){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return t?Array.isArray(t)?this.reconnectPolicy=new E0(t):this.reconnectPolicy=t:this.reconnectPolicy=new E0,this}withServerTimeout(t){return Fe.isRequired(t,"milliseconds"),this._serverTimeoutInMilliseconds=t,this}withKeepAliveInterval(t){return Fe.isRequired(t,"milliseconds"),this._keepAliveIntervalInMilliseconds=t,this}withStatefulReconnect(t){return this.httpConnectionOptions===void 0&&(this.httpConnectionOptions={}),this.httpConnectionOptions._useStatefulReconnect=!0,this._statefulReconnectBufferSize=t==null?void 0:t.bufferSize,this}build(){const t=this.httpConnectionOptions||{};if(t.logger===void 0&&(t.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");const r=new Vj(this.url,t);return vh.create(r,this.logger||ki.instance,this.protocol||new Gj,this.reconnectPolicy,this._serverTimeoutInMilliseconds,this._keepAliveIntervalInMilliseconds,this._statefulReconnectBufferSize)}}function eN(e){return e.log!==void 0}class tN{constructor(){Hh(this,"connection",null)}async start(){const t=jn.getToken()||"",r=`${dj}/${hj}`;console.log("[SignalR] starting, hubUrl =",r,"tokenPresent =",!!t),this.connection=new Zj().withUrl(r,{accessTokenFactory:()=>t}).withAutomaticReconnect().configureLogging(D.Information).build(),this.connection.on("connected",()=>{console.log("[SignalR] server acknowledged connection")});try{await this.connection.start(),console.log("[SignalR] connected")}catch(n){throw console.warn("[SignalR] connection failed",n),n}}stop(){return this.connection?this.connection.stop():Promise.resolve()}on(t,r){var n;console.log("[SignalR] register handler for",t),(n=this.connection)==null||n.on(t,r)}onReconnected(t){var r;(r=this.connection)==null||r.onreconnected(t)}onReconnecting(t){var r;(r=this.connection)==null||r.onreconnecting(()=>t())}onClose(t){var r;(r=this.connection)==null||r.onclose(()=>t())}getConnectionState(){var t;return((t=this.connection)==null?void 0:t.state)||"Disconnected"}}function mt(){const[e,t]=k.useState(null),[r,n]=k.useState(!0);k.useEffect(()=>{t(jn.getToken()),n(!1)},[]);const a=k.useCallback(async(l,o)=>{const c=await jn.login(l,o);return t(c.accessToken),c},[]),i=k.useCallback(()=>{jn.logout(),t(null)},[]);return{token:e,loading:r,login:a,logout:i,isAuthenticated:!!e}}const Ux=k.createContext({hub:null,isConnected:!1});function rN({children:e}){const{token:t,loading:r}=mt(),[n]=k.useState(()=>new tN),[a,i]=k.useState(!1);return k.useEffect(()=>{if(r||!t){i(!1);return}let l=!0;(async()=>{try{await n.start(),l&&i(!0)}catch(u){console.warn("[SignalR] Connection failed",u),l&&i(!1)}})(),n.onReconnected(()=>{l&&(console.log("[SignalR] Reconnected"),i(!0))}),n.onReconnecting(()=>{l&&(console.log("[SignalR] Reconnecting..."),i(!1))}),n.onClose(()=>{l&&(console.log("[SignalR] Connection closed"),i(!1))});const c=setInterval(()=>{if(l){const u=n.getConnectionState();i(u==="Connected")}},5e3);return()=>{l=!1,clearInterval(c),n.stop().catch(()=>{})}},[t,r,n]),s.jsx(Ux.Provider,{value:{hub:n,isConnected:a},children:e})}function Ai(){return k.useContext(Ux)}function Oi(){const{isConnected:e}=Ai();return s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:`h-2 w-2 rounded-full ${e?"bg-green-500 animate-pulse":"bg-gray-400 dark:bg-gray-600"}`}),s.jsx("span",{className:`text-sm font-medium ${e?"text-green-600 dark:text-green-400":"text-gray-500 dark:text-gray-400"}`,children:e?"Connected":"Connection Lost"})]})}async function pe(e,t){const r=jn.getToken(),n={"Content-Type":"application/json",...(t==null?void 0:t.headers)||{}};r&&(n.Authorization=`Bearer ${r}`);const a=await fetch(`${fe}${e}`,{...t,headers:n});if(a.status===401)throw jn.logout(),window.location.href="/login",new Error("Unauthorized - redirecting to login");if(!a.ok)throw new Error(`API ${a.status}: ${await a.text()}`);return a.json()}const _e={getDashboardConsolidated:(e="24h")=>pe(`/dashboarddata/consolidated?timeRange=${e}`),getRecentSecurityEvents:(e=8)=>pe(`/security-events?limit=${e}&sort=timestamp&order=desc`),getSystemStatus:()=>pe("/system-status"),getMalwareStatus:()=>pe("/malware-rules/status").catch(()=>null),getTimeline:(e,t,r)=>pe(`/timeline?granularity=${encodeURIComponent(e)}&from=${encodeURIComponent(t)}&to=${encodeURIComponent(r)}`),getTimelineStats:(e,t)=>pe(`/timeline/stats?startTime=${encodeURIComponent(e)}&endTime=${encodeURIComponent(t)}`),getMitreTechniques:(e={})=>{const t=new URLSearchParams;return e.page&&t.append("page",e.page.toString()),e.perPage&&t.append("perPage",e.perPage.toString()),e.search&&t.append("search",e.search),e.tactic&&t.append("tactic",e.tactic),e.platform&&t.append("platform",e.platform),e.sort&&t.append("sort",e.sort),e.order&&t.append("order",e.order),pe(`/mitre/techniques?${t.toString()}`)},getMitreStatistics:()=>pe("/mitre/statistics"),importMitreTechniques:()=>pe("/mitre/import",{method:"POST"}),getMalwareRules:(e={})=>{const t=new URLSearchParams;return e.page&&t.append("page",e.page.toString()),e.perPage&&t.append("perPage",e.perPage.toString()),e.search&&t.append("q",e.search),e.category&&t.append("category",e.category),e.threatLevel&&t.append("threatLevel",e.threatLevel),e.isValid!==void 0&&t.append("isValid",e.isValid.toString()),e.isEnabled!==void 0&&t.append("isEnabled",e.isEnabled.toString()),pe(`/malware-rules?${t.toString()}`)},getMalwareStatistics:()=>pe("/malware-rules/statistics"),toggleMalwareRule:(e,t)=>pe(`/malware-rules/${e}/toggle`,{method:"POST",body:JSON.stringify({isEnabled:t})}),deleteMalwareRule:e=>pe(`/malware-rules/${e}`,{method:"DELETE"}),importMalwareRules:e=>pe("/malware-rules/import",{method:"POST",body:JSON.stringify(e)}),getThreatScans:(e={})=>{const t=new URLSearchParams;return e.page&&t.append("page",e.page.toString()),e.perPage&&t.append("perPage",e.perPage.toString()),e.sort&&t.append("sort",e.sort),e.order&&t.append("order",e.order),pe(`/threat-scanner?${t.toString()}`)},getScanProgress:()=>pe("/threat-scanner/progress"),startQuickScan:()=>pe("/threat-scanner/quick-scan?async=true",{method:"POST"}),startFullScan:()=>pe("/threat-scanner/full-scan?async=true",{method:"POST"}),cancelScan:()=>pe("/threat-scanner/cancel",{method:"POST"}),getLastScanResult:()=>pe("/threat-scanner/last-result"),getNotificationTemplates:()=>pe("/notification-templates"),getNotificationTemplatesByPlatform:e=>pe(`/notification-templates/platform/${e}`),getNotificationTemplateById:e=>pe(`/notification-templates/${e}`),createNotificationTemplate:e=>pe("/notification-templates",{method:"POST",body:JSON.stringify(e)}),updateNotificationTemplate:(e,t)=>pe(`/notification-templates/${e}`,{method:"PUT",body:JSON.stringify(t)}),deleteNotificationTemplate:e=>pe(`/notification-templates/${e}`,{method:"DELETE"}),createDefaultTemplates:()=>pe("/notification-templates/defaults",{method:"POST"})};function nN(){const{token:e,loading:t}=mt(),r=gt(),n=Ft(),{hub:a}=Ai();k.useEffect(()=>{!t&&!e&&r("/login")},[e,t,r]);const i=Re({queryKey:["dashboard","consolidated","24h"],queryFn:()=>_e.getDashboardConsolidated("24h"),refetchInterval:3e4,enabled:!t&&!!e});k.useEffect(()=>{a&&(a.on("DashboardUpdate",o=>{n.setQueryData(["dashboard","consolidated","24h"],o)}),a.on("SecurityEvent",()=>{n.invalidateQueries({queryKey:["security-events"]})}),a.on("SystemStatusUpdate",()=>{n.invalidateQueries({queryKey:["system-status"]})}))},[a,n]);const l=k.useMemo(()=>{const o=i.data||{},c=o.data&&typeof o.data=="object"?o.data:o,u=c.securityEvents||{},h=u.totalEvents??0,d=Array.isArray(u.recentEvents)?u.recentEvents:[],g=u.riskLevelCounts||{},f=g.CRITICAL??g.critical??0,x=d.filter(I=>{const B=(I.status||"").toUpperCase();return B==="OPEN"||B==="INVESTIGATING"}).length,b=d.length??0,j=h,m=c.malware||c.yara||{},p=m.enabledRules??0,y=m.totalRules??0,v=m.recentMatches??0,E=c.threatScanner||{},C=E.totalScans??0,M=E.lastScanResult??"N/A",O=E.lastScanStatus??"unknown",U=c.systemStatus||{};let R="UNKNOWN";const _=U.healthyComponents??0,F=U.totalComponents??0;typeof U.totalComponents=="number"&&typeof U.healthyComponents=="number"&&(R=U.totalComponents>0&&U.healthyComponents===U.totalComponents?"OPERATIONAL":"DEGRADED");const L=Object.keys(g).map(I=>({severity:I,count:g[I]})),P=Array.isArray(c.recentActivity)?c.recentActivity:[];return{events:{open:x,last24h:b,critical:f,events24h:j},malware:{enabledRules:p,totalRules:y,recentMatches:v},threatScans:{totalScans:C,lastScanResult:M,lastScanStatus:O},system:{status:R,healthyComponents:_,totalComponents:F},threatDistribution:L,recentActivity:P}},[i.data]);return k.useEffect(()=>{i.data&&(console.group("[Dashboard] Consolidated data"),console.log(i.data),console.groupEnd())},[i.data]),i.isLoading?s.jsx(ma,{}):s.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:s.jsx("div",{className:"px-8 py-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Dashboard"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Real-time security platform overview"})]}),s.jsx(Oi,{})]})})}),s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx(tr,{title:"Open Events",value:l.events.open,change:{value:l.events.last24h,period:"last 24h"},icon:dt,color:l.events.critical>0?"red":"green",description:"Security events requiring attention"}),s.jsx(tr,{title:"Critical Threats",value:l.events.critical,icon:Be,color:"red",description:"High-priority security incidents"}),s.jsx(tr,{title:"Malware Rules",value:`${l.malware.enabledRules}/${l.malware.totalRules}`,change:{value:l.malware.recentMatches,period:"matches today"},icon:fa,color:"blue",description:"Active malware detection rules"}),s.jsx(tr,{title:"Threat Scans",value:l.threatScans.totalScans,change:{value:l.threatScans.lastScanResult,period:"last result"},icon:Ax,color:l.threatScans.lastScanStatus==="clean"?"green":l.threatScans.lastScanStatus==="threat"?"red":"gray",description:"Threat intelligence scans completed"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsx(tr,{title:"Events/24h",value:l.events.events24h,icon:xh,color:"blue",description:"Total events in 24-hour window"}),s.jsx(tr,{title:"System Status",value:`${l.system.healthyComponents}/${l.system.totalComponents}`,icon:lo,color:l.system.healthyComponents===l.system.totalComponents&&l.system.totalComponents>0?"green":"yellow",description:"Healthy components / Total components"}),s.jsx(tr,{title:"Response Time",value:"2.3min",icon:yh,color:"green",description:"Average incident response time"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsx(xj,{events:l.recentActivity??[],isLoading:i.isLoading})}),s.jsx(yj,{data:l.threatDistribution??[],isLoading:i.isLoading})]})]})]})}function aN(){const e=gt(),[t,r]=k.useState(""),[n,a]=k.useState(""),[i,l]=k.useState(null),[o,c]=k.useState(!1),u=async h=>{h.preventDefault(),c(!0),l(null);try{await jn.login(t,n),e("/",{replace:!0})}catch(d){l((d==null?void 0:d.message)||"Login failed")}finally{c(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:s.jsxs("form",{onSubmit:u,className:"w-full max-w-sm bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6 shadow-sm",children:[s.jsx("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Sign in"}),s.jsx("label",{className:"block text-sm text-gray-700 dark:text-gray-300 mb-1",children:"Username"}),s.jsx("input",{value:t,onChange:h=>r(h.target.value),className:"w-full mb-3 px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:"admin"}),s.jsx("label",{className:"block text-sm text-gray-700 dark:text-gray-300 mb-1",children:"Password"}),s.jsx("input",{value:n,onChange:h=>a(h.target.value),type:"password",className:"w-full mb-4 px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:"••••••••"}),i&&s.jsx("div",{className:"text-sm text-red-600 mb-3",children:i}),s.jsx("button",{type:"submit",disabled:o,className:"w-full py-2 rounded-lg bg-blue-600 hover:bg-blue-700 text-white font-medium disabled:opacity-60",children:o?"Signing in…":"Sign in"}),s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-3",children:"Local demo credentials: admin / CastellanAdmin2024!"})]})})}function Bx(e){switch(e){case"CRITICAL":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"HIGH":return"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200";case"MEDIUM":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"LOW":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}}const sN=({event:e,isOpen:t,onClose:r})=>{if(!t||!e)return null;const n=(e.riskLevel||e.level||"MEDIUM").toUpperCase(),a=(e.status||"Open").toUpperCase(),i=(e.correlationScore||0)>0;return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:r,children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",onClick:l=>l.stopPropagation(),children:[s.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Be,{className:"h-6 w-6 text-blue-600"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:e.eventType||"Security Event"}),s.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300 font-mono",children:["ID: ",e.id]})]})]}),s.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:s.jsx(ga,{className:"h-6 w-6"})})]})}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Risk Level"}),s.jsx("div",{className:"mt-1",children:s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${Bx(n)}`,children:n})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Status"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-white font-medium",children:a})]}),e.eventId&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Event ID"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-white font-mono",children:e.eventId})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 flex items-center gap-2",children:[s.jsx(vr,{className:"h-4 w-4"}),"Timestamp"]}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:new Date(e.timestamp||Date.now()).toLocaleString()})]}),e.source&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Source"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:e.source})]})]})]}),e.message&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Message"}),s.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:s.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:e.message})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"System Information"}),s.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.machine&&s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-blue-600 dark:text-blue-400 flex items-center gap-2",children:[s.jsx(nj,{className:"h-4 w-4"}),"Machine"]}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-white font-mono",children:e.machine})]}),e.user&&s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-green-600 dark:text-green-400 flex items-center gap-2",children:[s.jsx(Fx,{className:"h-4 w-4"}),"User"]}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:e.user})]})]})]}),e.mitreAttack&&e.mitreAttack.length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"MITRE ATT&CK Techniques"}),s.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:s.jsx("div",{className:"flex flex-wrap gap-2",children:e.mitreAttack.map((l,o)=>s.jsx("span",{className:"px-3 py-1 bg-purple-100 dark:bg-purple-900/20 text-purple-700 dark:text-purple-300 text-sm rounded border border-purple-200 dark:border-purple-800",children:l},o))})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Threat Analysis"}),s.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4 space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Confidence"}),s.jsxs("p",{className:"mt-1 text-lg font-bold text-gray-900 dark:text-white",children:[Math.round(e.confidence||0),"%"]})]}),i&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Correlation"}),s.jsx("p",{className:"mt-1 text-lg font-bold text-blue-600 dark:text-blue-400",children:(e.correlationScore||0).toFixed(2)})]}),(e.burstScore||0)>0&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Burst"}),s.jsx("p",{className:"mt-1 text-lg font-bold text-orange-600 dark:text-orange-400",children:(e.burstScore||0).toFixed(2)})]}),(e.anomalyScore||0)>0&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Anomaly"}),s.jsx("p",{className:"mt-1 text-lg font-bold text-red-600 dark:text-red-400",children:(e.anomalyScore||0).toFixed(2)})]})]})})]}),e.ipAddresses&&e.ipAddresses.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[s.jsx(Px,{className:"h-5 w-5"}),"IP Addresses"]}),s.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:s.jsx("div",{className:"flex flex-wrap gap-2",children:e.ipAddresses.map((l,o)=>s.jsx("span",{className:"px-3 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-sm rounded font-mono border",children:l},o))})})]}),e.notes&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Notes"}),s.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:s.jsx("p",{className:"text-gray-700 dark:text-gray-300 whitespace-pre-wrap",children:e.notes})})]}),e.assignedTo&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Assignment"}),s.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:s.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["Assigned to: ",s.jsx("span",{className:"font-medium",children:e.assignedTo})]})})]})]})]})})};function iN(){const{token:e,loading:t}=mt(),r=gt(),n=Ft(),{hub:a}=Ai(),[i,l]=k.useState(null),[o,c]=k.useState(!1);k.useEffect(()=>{!t&&!e&&r("/login")},[e,t,r]);const u=Re({queryKey:["security-events",{limit:25}],queryFn:()=>_e.getRecentSecurityEvents(25),refetchInterval:3e4,enabled:!t&&!!e}),h=Re({queryKey:["dashboard","consolidated","24h"],queryFn:()=>_e.getDashboardConsolidated("24h"),refetchInterval:3e4,enabled:!t&&!!e,staleTime:15e3});k.useEffect(()=>{a&&a.on("SecurityEvent",()=>{n.invalidateQueries({queryKey:["security-events"]})})},[a,n]);const d=k.useMemo(()=>{const f=u.data||{};return Array.isArray(f)?f:f.data||[]},[u.data]),g=k.useMemo(()=>{var R;const f=h.data||{},x=f.data&&typeof f.data=="object"?f.data:f,b=x.securityEvents||x.SecurityEvents||{},j=b.totalEvents||b.TotalEvents,m=((R=u.data)==null?void 0:R.total)??0,p=(d==null?void 0:d.length)||0,y=m>0?m:typeof j=="number"?j:p,v=b.riskLevelCounts||b.RiskLevelCounts||{},E=v.CRITICAL??v.critical??v.Critical;let C=0,M=0;d==null||d.forEach(_=>{const F=(_.status||"").toUpperCase();(F==="OPEN"||F==="INVESTIGATING")&&C++,M+=_.riskScore||0});const O=((d==null?void 0:d.length)??0)>0?Math.round(M/((d==null?void 0:d.length)??1)):0,U=typeof E=="number"?E:(d==null?void 0:d.filter(_=>(_.severity||"").toUpperCase()==="CRITICAL").length)??0;return{total:y,open:C,critical:U,avgRisk:O}},[d,u.data,h.data]);return u.isLoading?s.jsx(ma,{}):s.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"px-8 py-6 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Security Events"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Real-time threat detection and incident response"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Oi,{}),s.jsx("button",{className:"px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",children:"Filters"})]})]})}),s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx(tr,{title:"Total Events",value:g.total,icon:Cn,color:"blue",description:"All security events detected"}),s.jsx(tr,{title:"Open Events",value:g.open,icon:dt,color:g.critical>0?"red":"yellow",description:"Events requiring attention"}),s.jsx(tr,{title:"Critical Threats",value:g.critical,icon:Be,color:"red",description:"High-priority security incidents"}),s.jsx(tr,{title:"Average Risk",value:g.avgRisk,icon:Cn,color:g.avgRisk>=75?"red":g.avgRisk>=50?"yellow":"green",description:"Mean risk score across all events"})]}),s.jsxs("div",{className:"space-y-5",children:[u.isLoading&&s.jsx("div",{className:"space-y-3",children:[...Array(4)].map((f,x)=>s.jsx("div",{className:"h-28 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 animate-pulse"},x))}),!u.isLoading&&(d==null?void 0:d.map(f=>{const x=(f.riskLevel||f.level||"MEDIUM").toUpperCase(),b=(f.status||"Open").toUpperCase(),j=(f.correlationScore||0)>0;return s.jsx("div",{onClick:()=>{l(f),c(!0)},className:"rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 p-5 cursor-pointer hover:shadow-lg hover:border-blue-300 dark:hover:border-blue-600 transition-all duration-200",children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[s.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-full ${Bx(x)}`,children:x}),s.jsx("div",{className:"text-gray-900 dark:text-gray-100 font-semibold",children:f.eventType||"Security Event"}),f.eventId&&s.jsxs("span",{className:"text-xs px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded font-mono",children:["Event ",f.eventId]}),j&&s.jsx("span",{className:"text-xs px-2 py-1 bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200 rounded-full flex items-center gap-1",children:"🔗 Correlated"}),b&&s.jsx("span",{className:"text-xs font-medium text-blue-600 dark:text-blue-400",children:b}),s.jsxs("span",{className:"text-xs text-gray-400 dark:text-gray-500 font-mono ml-auto",children:[f.id.substring(0,8),"..."]})]}),s.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-3",children:f.message||"—"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-3 text-xs",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Machine:"})," ",s.jsx("span",{className:"text-gray-900 dark:text-gray-100 font-medium",children:f.machine||"—"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"User:"})," ",s.jsx("span",{className:"text-gray-900 dark:text-gray-100 font-medium",children:f.user||"—"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Source:"})," ",s.jsx("span",{className:"text-gray-900 dark:text-gray-100 font-medium",children:f.source||"—"})]})]}),f.mitreAttack&&f.mitreAttack.length>0&&s.jsxs("div",{className:"mb-3",children:[s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 mr-2",children:"MITRE:"}),s.jsx("div",{className:"inline-flex flex-wrap gap-1",children:f.mitreAttack.map((m,p)=>s.jsx("span",{className:"text-xs px-2 py-1 bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200 rounded",children:m},p))})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-xs text-gray-500 dark:text-gray-400",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-gray-400"}),new Date(f.timestamp||Date.now()).toLocaleString()]}),s.jsxs("div",{children:["Confidence: ",s.jsxs("span",{className:"text-gray-900 dark:text-gray-100 font-semibold",children:[Math.round(f.confidence||0),"%"]})]}),j&&s.jsxs("div",{children:["Correlation: ",s.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-semibold",children:(f.correlationScore||0).toFixed(2)})]}),(f.burstScore||0)>0&&s.jsxs("div",{children:["Burst: ",s.jsx("span",{className:"text-orange-600 dark:text-orange-400 font-semibold",children:(f.burstScore||0).toFixed(2)})]}),(f.anomalyScore||0)>0&&s.jsxs("div",{children:["Anomaly: ",s.jsx("span",{className:"text-red-600 dark:text-red-400 font-semibold",children:(f.anomalyScore||0).toFixed(2)})]})]}),f.ipAddresses&&f.ipAddresses.length>0&&s.jsxs("div",{className:"mt-2 text-xs",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400 mr-2",children:"IPs:"}),f.ipAddresses.slice(0,3).map((m,p)=>s.jsx("span",{className:"text-gray-700 dark:text-gray-300 font-mono mr-2",children:m},p)),f.ipAddresses.length>3&&s.jsxs("span",{className:"text-gray-500",children:["+",f.ipAddresses.length-3," more"]})]})]})})},f.id)}))]})]}),s.jsx(sN,{event:i,isOpen:o,onClose:()=>c(!1)})]})}function lN(e){switch(e){case"CRITICAL":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200 border-red-300";case"HIGH":return"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200 border-orange-300";case"MEDIUM":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200 border-yellow-300";case"LOW":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200 border-green-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200 border-gray-300"}}function oN(){const{id:e}=Vk(),t=gt(),{token:r,loading:n}=mt();k.useEffect(()=>{!n&&!r&&t("/login")},[r,n,t]);const a=Re({queryKey:["security-event",e],queryFn:async()=>{const c=await fetch(`/api/security-events/${e}`,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}});if(!c.ok)throw new Error("Failed to fetch event");const u=await c.json();return u.data||u},enabled:!n&&!!r&&!!e}),i=a.data,l=((i==null?void 0:i.riskLevel)||(i==null?void 0:i.level)||"MEDIUM").toUpperCase(),o=((i==null?void 0:i.correlationScore)||0)>0;return a.isLoading?s.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Loading event details..."})]})}):a.isError||!i?s.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(dt,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Event Not Found"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"The security event you're looking for doesn't exist."}),s.jsx("button",{onClick:()=>t("/security-events"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Back to Events"})]})}):s.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"px-8 py-6",children:[s.jsxs("button",{onClick:()=>t("/security-events"),className:"flex items-center gap-2 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white mb-4",children:[s.jsx(V1,{className:"h-4 w-4"}),"Back to Security Events"]}),s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-semibold border ${lN(l)}`,children:l}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:i.eventType||"Security Event"}),o&&s.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200 rounded-full text-sm flex items-center gap-1",children:"🔗 Correlated Event"})]}),s.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Event ID: ",e]})]})})]})}),s.jsx("div",{className:"p-8 max-w-7xl mx-auto",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Event Summary"}),s.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:i.message||"No message available"})]}),i.mitreAttack&&i.mitreAttack.length>0&&s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"MITRE ATT&CK Techniques"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:i.mitreAttack.map((c,u)=>s.jsx("div",{className:"px-3 py-2 bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200 rounded-lg border border-purple-200 dark:border-purple-800",children:c},u))})]}),i.ipAddresses&&i.ipAddresses.length>0&&s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"IP Addresses"}),s.jsx("div",{className:"space-y-2",children:i.ipAddresses.map((c,u)=>{var d;const h=(d=i.enrichedIPs)==null?void 0:d.find(g=>g.IP===c||g.ip===c);return s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[s.jsx("span",{className:"font-mono text-gray-900 dark:text-white",children:c}),h&&s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 dark:text-gray-400",children:[h.country&&s.jsx("span",{children:h.country}),h.city&&s.jsx("span",{children:h.city}),h.isHighRisk&&s.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200 rounded text-xs font-semibold",children:"High Risk"})]})]},u)})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Event Details"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Timestamp"}),s.jsx("p",{className:"text-gray-900 dark:text-white font-medium mt-1",children:i.timestamp?new Date(i.timestamp).toLocaleString():"—"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Machine"}),s.jsx("p",{className:"text-gray-900 dark:text-white font-medium mt-1",children:i.machine||"—"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"User"}),s.jsx("p",{className:"text-gray-900 dark:text-white font-medium mt-1",children:i.user||"—"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Source"}),s.jsx("p",{className:"text-gray-900 dark:text-white font-medium mt-1",children:i.source||"—"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Windows Event ID"}),s.jsx("p",{className:"text-gray-900 dark:text-white font-medium mt-1 font-mono",children:i.eventId||"—"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Status"}),s.jsx("p",{className:"text-blue-600 dark:text-blue-400 font-medium mt-1",children:i.status||"Open"})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Analysis Scores"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Confidence"}),s.jsxs("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:[Math.round(i.confidence||0),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${i.confidence||0}%`}})})]}),o&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Correlation"}),s.jsx("span",{className:"text-sm font-semibold text-blue-600 dark:text-blue-400",children:(i.correlationScore||0).toFixed(2)})]}),s.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${Math.min((i.correlationScore||0)*100,100)}%`}})})]}),(i.burstScore||0)>0&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Burst"}),s.jsx("span",{className:"text-sm font-semibold text-orange-600 dark:text-orange-400",children:(i.burstScore||0).toFixed(2)})]}),s.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:s.jsx("div",{className:"bg-orange-600 h-2 rounded-full",style:{width:`${Math.min((i.burstScore||0)*100,100)}%`}})})]}),(i.anomalyScore||0)>0&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Anomaly"}),s.jsx("span",{className:"text-sm font-semibold text-red-600 dark:text-red-400",children:(i.anomalyScore||0).toFixed(2)})]}),s.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:s.jsx("div",{className:"bg-red-600 h-2 rounded-full",style:{width:`${Math.min((i.anomalyScore||0)*100,100)}%`}})})]})]})]})]})]})})]})}function I0(e){return e.toISOString()}function P0(e){return e.toString().padStart(2,"0")}function cN(e){const t=new Date(e);return`${t.getMonth()+1}/${t.getDate()}/${t.getFullYear()}, ${(t.getHours()+11)%12+1}:${P0(t.getMinutes())}:${P0(t.getSeconds())} ${t.getHours()>=12?"PM":"AM"}`}function uN(){const{token:e,loading:t}=mt(),r=gt(),n=Ft(),{hub:a}=Ai();k.useEffect(()=>{!t&&!e&&r("/login")},[e,t,r]);const[i,l]=k.useState("hour"),[o,c]=k.useState(()=>{const v=new Date;return v.setHours(v.getHours()-24),v}),[u,h]=k.useState(()=>new Date),d=k.useMemo(()=>I0(o),[o]),g=k.useMemo(()=>I0(u),[u]),f=Re({queryKey:["timeline",i,d,g],queryFn:async()=>{const v=await _e.getTimeline(i,d,g);return Array.isArray(v)?v:v.data||[]},enabled:!t&&!!e}),x=Re({queryKey:["timeline-stats",d,g],queryFn:()=>_e.getTimelineStats(d,g),enabled:!t&&!!e});k.useEffect(()=>{a&&a.on("SecurityEvent",()=>{n.invalidateQueries({queryKey:["timeline"]}),n.invalidateQueries({queryKey:["timeline-stats"]})})},[a,n]);const b=k.useMemo(()=>(f.data||[]).map(E=>({label:cN(E.timestamp),count:E.count})),[f.data]),j=(()=>{const v=x.data||{};return v.total??v.totalEvents??b.reduce((E,C)=>E+C.count,0)})(),m=(()=>{const E=(x.data||{}).eventsByRiskLevel||{};return{critical:E.Critical??E.critical??0,high:E.High??E.high??0,medium:E.Medium??E.medium??0,low:E.Low??E.low??0,info:E.Info??E.info??0}})(),p=(()=>{const E=(x.data||{}).eventsByType||{};return Object.entries(E).map(([C,M])=>({type:C,count:M})).sort((C,M)=>M.count-C.count).slice(0,5)})(),y=()=>{};return k.useEffect(()=>{},[]),f.isLoading?s.jsx(ma,{}):s.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"px-8 py-6 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Timeline"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Security events over time (24-hour rolling window)"})]}),s.jsx(Oi,{})]})}),s.jsxs("div",{className:"p-8 pt-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4 mb-6 flex items-end gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-400",children:"Granularity"}),s.jsxs("select",{value:i,onChange:v=>l(v.target.value),className:"mt-1 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 py-2 text-sm",children:[s.jsx("option",{value:"day",children:"Day"}),s.jsx("option",{value:"hour",children:"Hour"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-400",children:"From"}),s.jsx("input",{type:"datetime-local",value:new Date(o).toISOString().slice(0,16),onChange:v=>c(new Date(v.target.value)),className:"mt-1 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 py-2 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-400",children:"To"}),s.jsx("input",{type:"datetime-local",value:new Date(u).toISOString().slice(0,16),onChange:v=>h(new Date(v.target.value)),className:"mt-1 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 py-2 text-sm"})]}),s.jsx("button",{onClick:y,className:"h-9 px-4 rounded-lg bg-blue-600 hover:bg-blue-700 text-white text-sm",children:"REFRESH"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Security Events Over Time"}),s.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-6",children:["Granularity: ",i]}),s.jsxs("div",{className:"space-y-3",children:[f.isLoading&&[...Array(4)].map((v,E)=>s.jsx("div",{className:"h-5 rounded bg-gray-200 dark:bg-gray-700 animate-pulse"},E)),!f.isLoading&&b.map((v,E)=>s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-72 text-sm text-gray-700 dark:text-gray-300",children:v.label}),s.jsx("div",{className:"flex-1",children:s.jsx("div",{className:"h-3 w-full bg-gray-200 dark:bg-gray-700 rounded-full",children:s.jsx("div",{className:"h-3 bg-blue-600 rounded-full",style:{width:`${Math.min(100,v.count/Math.max(1,Math.max(...b.map(C=>C.count)))*100)}%`}})})}),s.jsx("div",{className:"w-10 text-right text-sm text-gray-600 dark:text-gray-400",children:v.count})]},E))]})]})}),s.jsx("div",{children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Summary"}),x.isLoading?s.jsx("div",{className:"space-y-3",children:[...Array(4)].map((v,E)=>s.jsx("div",{className:"h-5 rounded bg-gray-200 dark:bg-gray-700 animate-pulse"},E))}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-3",children:[s.jsx("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Total Events"}),s.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:j.toLocaleString()})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[m.critical>0&&s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"h-2 w-2 rounded-full bg-red-500"}),s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Critical"})]}),s.jsx("span",{className:"text-gray-900 dark:text-gray-100 font-medium",children:m.critical})]}),m.high>0&&s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"h-2 w-2 rounded-full bg-orange-500"}),s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"High"})]}),s.jsx("span",{className:"text-gray-900 dark:text-gray-100 font-medium",children:m.high})]}),m.medium>0&&s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"h-2 w-2 rounded-full bg-yellow-500"}),s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Medium"})]}),s.jsx("span",{className:"text-gray-900 dark:text-gray-100 font-medium",children:m.medium})]}),m.low>0&&s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"h-2 w-2 rounded-full bg-green-500"}),s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Low"})]}),s.jsx("span",{className:"text-gray-900 dark:text-gray-100 font-medium",children:m.low})]}),m.info>0&&s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"h-2 w-2 rounded-full bg-blue-500"}),s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Info"})]}),s.jsx("span",{className:"text-gray-900 dark:text-gray-100 font-medium",children:m.info})]})]})]}),p.length>0&&s.jsxs("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:[s.jsx("div",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Top Event Types"}),s.jsx("div",{className:"space-y-2 text-sm",children:p.map(({type:v,count:E})=>s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400 truncate mr-2",children:v}),s.jsx("span",{className:"text-gray-900 dark:text-gray-100 font-medium whitespace-nowrap",children:E})]},v))})]})]})]})})]})]})]})}const dN={reconnaissance:"bg-blue-100 text-blue-800 border-blue-200","resource-development":"bg-purple-100 text-purple-800 border-purple-200","initial-access":"bg-yellow-100 text-yellow-800 border-yellow-200",execution:"bg-red-100 text-red-800 border-red-200",persistence:"bg-red-100 text-red-800 border-red-200","privilege-escalation":"bg-red-100 text-red-800 border-red-200","defense-evasion":"bg-yellow-100 text-yellow-800 border-yellow-200","credential-access":"bg-red-100 text-red-800 border-red-200",discovery:"bg-blue-100 text-blue-800 border-blue-200","lateral-movement":"bg-yellow-100 text-yellow-800 border-yellow-200",collection:"bg-blue-100 text-blue-800 border-blue-200","command-and-control":"bg-yellow-100 text-yellow-800 border-yellow-200",exfiltration:"bg-red-100 text-red-800 border-red-200",impact:"bg-red-100 text-red-800 border-red-200"},Hx=e=>{const t=(e==null?void 0:e.toLowerCase().replace(/\s+/g,"-"))||"";return dN[t]||"bg-gray-100 text-gray-800 border-gray-200"},hN=async e=>_e.getMitreTechniques(e),fN=async()=>_e.getMitreStatistics(),gN=({technique:e,onClick:t})=>{var n;const r=((n=e.platform)==null?void 0:n.split(",").map(a=>a.trim()))||[];return s.jsxs("div",{onClick:t,className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:shadow-md transition-shadow cursor-pointer",children:[s.jsx("div",{className:"flex items-start justify-between mb-3",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx("span",{className:"text-sm font-mono text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/20 px-2 py-1 rounded",children:e.techniqueId}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${Hx(e.tactic)}`,children:e.tactic})]}),s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2 line-clamp-2",children:e.name}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 line-clamp-2",children:e.description})]})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex flex-wrap gap-1",children:[r.slice(0,3).map((a,i)=>s.jsx("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs rounded",children:a},i)),r.length>3&&s.jsxs("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs rounded",children:["+",r.length-3," more"]})]}),s.jsx(Ex,{className:"h-4 w-4 text-gray-400"})]})]})},mN=({technique:e,isOpen:t,onClose:r})=>{var o;if(!t||!e)return null;const n=((o=e.platform)==null?void 0:o.split(",").map(c=>c.trim()))||[],a=e.dataSources||[],i=e.mitigations||[],l=e.examples||[];return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Be,{className:"h-6 w-6 text-blue-600"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:e.techniqueId}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:e.name})]})]}),s.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:s.jsx(ga,{className:"h-6 w-6"})})]})}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Tactic"}),s.jsx("div",{className:"mt-1",children:s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium border ${Hx(e.tactic)}`,children:e.tactic})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Platforms"}),s.jsx("div",{className:"mt-1 flex flex-wrap gap-2",children:n.map((c,u)=>s.jsx("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-sm rounded",children:c},u))})]})]}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Added to Database"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:new Date(e.createdAt).toLocaleString()})]})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Description"}),s.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:s.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed whitespace-pre-wrap",children:e.description||"No description available"})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Technical Details"}),s.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-blue-600 dark:text-blue-400 mb-2",children:"Data Sources"}),a.length>0?s.jsx("div",{className:"flex flex-wrap gap-2",children:a.map((c,u)=>s.jsx("span",{className:"px-2 py-1 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 text-sm rounded border border-blue-200 dark:border-blue-800",children:c},u))}):s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.dataSources||"No data sources specified"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-green-600 dark:text-green-400 mb-2",children:"Mitigations"}),i.length>0?s.jsx("div",{className:"flex flex-wrap gap-2",children:i.map((c,u)=>s.jsx("span",{className:"px-2 py-1 bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-300 text-sm rounded border border-green-200 dark:border-green-800",children:c},u))}):s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.mitigations||"No mitigations specified"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-purple-600 dark:text-purple-400 mb-2",children:"Examples"}),l.length>0?s.jsx("div",{className:"flex flex-wrap gap-2",children:l.map((c,u)=>s.jsx("span",{className:"px-2 py-1 bg-purple-50 dark:bg-purple-900/20 text-purple-700 dark:text-purple-300 text-sm rounded border border-purple-200 dark:border-purple-800",children:c},u))}):s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.examples||"No examples specified"})]})]})]}),e.associatedApplications&&e.associatedApplications.length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Associated Applications"}),s.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:s.jsx("div",{className:"flex flex-wrap gap-2",children:e.associatedApplications.map((c,u)=>s.jsxs("span",{className:"px-3 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-sm rounded border",children:[c.ApplicationName," (",c.Confidence,"%)"]},u))})})]})]})]})})},pN=()=>{var O,U,R;const{token:e,loading:t}=mt(),r=gt(),[n,a]=k.useState(null),[i,l]=k.useState(!1),[o,c]=k.useState(""),[u,h]=k.useState(""),[d,g]=k.useState(""),[f,x]=k.useState(1);k.useEffect(()=>{!t&&!e&&r("/login")},[e,t,r]);const b=Re({queryKey:["mitre-techniques",f,o,u,d],queryFn:async()=>{console.log("[MitreAttack] Fetching techniques with params:",{page:f,perPage:25,search:o||void 0,tactic:u||void 0,platform:d||void 0});const _=await hN({page:f,perPage:25,search:o||void 0,tactic:u||void 0,platform:d||void 0,sort:"techniqueId",order:"ASC"});console.log("[MitreAttack] Raw API response:",_);const F=_.techniques||_.data||[],L=_.totalCount||_.total||F.length;return console.log("[MitreAttack] Parsed techniques:",F.length,"Total:",L),{techniques:F.map(I=>({...I,id:I.id||I.techniqueId})),totalCount:L,totalPages:Math.ceil(L/25)}},enabled:!t&&!!e,staleTime:5*60*1e3,gcTime:30*60*1e3}),j=Re({queryKey:["mitre-statistics"],queryFn:fN,enabled:!t&&!!e,staleTime:10*60*1e3,gcTime:30*60*1e3}),m=((O=b.data)==null?void 0:O.techniques)||[],p=((U=b.data)==null?void 0:U.totalCount)||0,y=((R=b.data)==null?void 0:R.totalPages)||1,v=j.data||null,E=b.isLoading,C=b.error?b.error.message:null,M=_=>{a(_),l(!0)};return E?s.jsx(ma,{}):s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"MITRE ATT&CK Techniques"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Threat Intelligence Database"})]}),v&&s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Database Statistics"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(nt,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{className:"text-sm text-gray-500",children:"Cached"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:v.totalTechniques}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Total Techniques"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Last Updated"}),s.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:v.lastUpdated?new Date(v.lastUpdated).toLocaleString():"Unknown"})]}),s.jsx("div",{children:s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"⚡ Instant load from cache"})})]}),v.shouldImport&&s.jsx("div",{className:"mt-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(yi,{className:"h-5 w-5 text-blue-600 mr-2 mt-0.5"}),s.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-300",children:"The MITRE database appears to be empty or outdated. Consider importing the latest techniques."})]})})]}),s.jsx("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 flex-1",children:[s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx(fa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search techniques...",value:o,onChange:_=>c(_.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("select",{value:u,onChange:_=>h(_.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"All Tactics"}),s.jsx("option",{value:"reconnaissance",children:"Reconnaissance"}),s.jsx("option",{value:"resource-development",children:"Resource Development"}),s.jsx("option",{value:"initial-access",children:"Initial Access"}),s.jsx("option",{value:"execution",children:"Execution"}),s.jsx("option",{value:"persistence",children:"Persistence"}),s.jsx("option",{value:"privilege-escalation",children:"Privilege Escalation"}),s.jsx("option",{value:"defense-evasion",children:"Defense Evasion"}),s.jsx("option",{value:"credential-access",children:"Credential Access"}),s.jsx("option",{value:"discovery",children:"Discovery"}),s.jsx("option",{value:"lateral-movement",children:"Lateral Movement"}),s.jsx("option",{value:"collection",children:"Collection"}),s.jsx("option",{value:"command-and-control",children:"Command and Control"}),s.jsx("option",{value:"exfiltration",children:"Exfiltration"}),s.jsx("option",{value:"impact",children:"Impact"})]}),s.jsxs("select",{value:d,onChange:_=>g(_.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"All Platforms"}),s.jsx("option",{value:"Windows",children:"Windows"}),s.jsx("option",{value:"Linux",children:"Linux"}),s.jsx("option",{value:"macOS",children:"macOS"}),s.jsx("option",{value:"Network",children:"Network"}),s.jsx("option",{value:"Cloud",children:"Cloud"}),s.jsx("option",{value:"Mobile",children:"Mobile"})]})]})]})}),C&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Kt,{className:"h-5 w-5 text-red-600 mr-2"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading techniques"}),s.jsx("p",{className:"text-sm text-red-700 mt-1",children:C}),s.jsx("p",{className:"text-xs text-red-600 mt-2",children:"Check the browser console for more details. Make sure the backend API is running on port 5000."})]})]})}),E?s.jsxs("div",{className:"flex items-center justify-center py-12",children:[s.jsx(En,{className:"h-8 w-8 animate-spin text-blue-600"}),s.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-300",children:"Loading techniques..."})]}):m.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Lo,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No techniques found"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:o||u||d?"Try adjusting your search or filters":"No MITRE techniques are available. Consider importing them."}),!o&&!u&&!d&&s.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["To import techniques, go to ",s.jsx("button",{onClick:()=>r("/configuration"),className:"text-blue-600 hover:underline",children:"Configuration → MITRE Techniques"})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map(_=>s.jsx(gN,{technique:_,onClick:()=>M(_)},_.id))}),y>1&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Showing ",(f-1)*25+1," to ",Math.min(f*25,p)," of ",p," techniques"]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>x(_=>Math.max(1,_-1)),disabled:f===1,className:"px-3 py-1 border border-gray-300 dark:border-gray-600 rounded text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),s.jsxs("span",{className:"px-3 py-1 text-gray-700 dark:text-gray-300",children:["Page ",f," of ",y]}),s.jsx("button",{onClick:()=>x(_=>Math.min(y,_+1)),disabled:f===y,className:"px-3 py-1 border border-gray-300 dark:border-gray-600 rounded text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),s.jsx(mN,{technique:n,isOpen:i,onClose:()=>l(!1)})]})},qx=[{id:"Malware",name:"Malware"},{id:"Ransomware",name:"Ransomware"},{id:"Trojan",name:"Trojan"},{id:"Backdoor",name:"Backdoor"},{id:"Suspicious",name:"Suspicious"},{id:"PUA",name:"Potentially Unwanted Application"},{id:"Exploit",name:"Exploit"},{id:"Custom",name:"Custom"}],xN=[{id:"Low",name:"Low"},{id:"Medium",name:"Medium"},{id:"High",name:"High"},{id:"Critical",name:"Critical"}],Wx=e=>{switch(e==null?void 0:e.toLowerCase()){case"critical":return"bg-red-100 text-red-800 border-red-200";case"high":return"bg-orange-100 text-orange-800 border-orange-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},yN=async e=>_e.getMalwareRules(e),bN=async()=>_e.getMalwareStatistics(),vN=async(e,t)=>_e.toggleMalwareRule(e,t),kN=async e=>_e.deleteMalwareRule(e),wN=async e=>_e.importMalwareRules(e),jN=({isOpen:e,onClose:t,importMutation:r})=>{const[n,a]=k.useState(""),[i,l]=k.useState("Custom"),[o,c]=k.useState("Imported"),[u,h]=k.useState(!0),[d,g]=k.useState(!1),[f,x]=k.useState(null),b=m=>{var y;const p=(y=m.target.files)==null?void 0:y[0];if(p){const v=new FileReader;v.onload=E=>{var C;a((C=E.target)==null?void 0:C.result)},v.readAsText(p)}},j=async()=>{if(!n.trim()){alert("Please enter or upload rule content");return}x(null);try{const m=await r.mutateAsync({ruleContent:n,category:i,author:o,skipDuplicates:u,enableByDefault:d});x(m.data||m)}catch(m){x({success:!1,message:m.message,details:m.toString()})}};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:s.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Import Malware Rules"})}),s.jsx("div",{className:"p-6 space-y-4",children:r.isPending?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(En,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-blue-600"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Importing malware rules..."})]}):f?s.jsx("div",{className:"space-y-4",children:f.success!==!1?s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(nt,{className:"h-5 w-5 text-green-600 mr-2"}),s.jsx("h3",{className:"text-lg font-medium text-green-800",children:"Import Successful!"})]}),s.jsxs("div",{className:"mt-2 text-sm text-green-700",children:[s.jsxs("p",{children:["• ",f.importedCount||0," rules imported"]}),s.jsxs("p",{children:["• ",f.skippedCount||0," rules skipped"]}),s.jsxs("p",{children:["• ",f.failedCount||0," rules failed"]})]})]}):s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Kt,{className:"h-5 w-5 text-red-600 mr-2"}),s.jsx("h3",{className:"text-lg font-medium text-red-800",children:"Import Failed"})]}),s.jsx("p",{className:"mt-2 text-sm text-red-700",children:f.message})]})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Default Category"}),s.jsx("select",{value:i,onChange:m=>l(m.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:qx.map(m=>s.jsx("option",{value:m.id,children:m.name},m.id))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Default Author"}),s.jsx("input",{type:"text",value:o,onChange:m=>c(m.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:u,onChange:m=>h(m.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Skip Duplicates"})]}),s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:d,onChange:m=>g(m.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Enable Rules by Default"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Upload Malware File"}),s.jsx("input",{type:"file",accept:".yar,.yara,.txt",onChange:b,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Malware Rules Content"}),s.jsx("textarea",{value:n,onChange:m=>a(m.target.value),rows:10,placeholder:"Paste malware rules here or upload a file...",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white font-mono text-sm"})]})]})}),s.jsxs("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700 flex justify-end space-x-3",children:[s.jsx("button",{onClick:t,disabled:r.isPending,className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg disabled:opacity-50",children:f?"Close":"Cancel"}),!f&&s.jsxs("button",{onClick:j,disabled:r.isPending,className:"px-4 py-2 bg-blue-600 text-white hover:bg-blue-700 rounded-lg disabled:opacity-50 flex items-center",children:[s.jsx(Vu,{className:"h-4 w-4 mr-2"}),"Import"]})]})]})}):null},NN=({rule:e,isOpen:t,onClose:r,onToggle:n,onDelete:a})=>!t||!e?null:s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:e.name}),s.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${Wx(e.threatLevel)}`,children:e.threatLevel}),s.jsx("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs rounded",children:e.category}),e.isValid?s.jsxs("span",{className:"flex items-center text-xs text-green-600",children:[s.jsx(nt,{className:"h-3 w-3 mr-1"}),"Valid"]}):s.jsxs("span",{className:"flex items-center text-xs text-red-600",children:[s.jsx(xr,{className:"h-3 w-3 mr-1"}),"Invalid"]}),e.isEnabled?s.jsxs("span",{className:"flex items-center text-xs text-blue-600",children:[s.jsx(Qu,{className:"h-3 w-3 mr-1"}),"Enabled"]}):s.jsxs("span",{className:"flex items-center text-xs text-gray-500",children:[s.jsx(Wu,{className:"h-3 w-3 mr-1"}),"Disabled"]})]})]}),s.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:s.jsx(ga,{className:"h-6 w-6"})})]})}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Author"}),s.jsx("p",{className:"mt-1 text-gray-900 dark:text-white",children:e.author||"Unknown"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Priority"}),s.jsx("p",{className:"mt-1 text-gray-900 dark:text-white",children:e.priority||0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Hit Count"}),s.jsx("p",{className:"mt-1 text-gray-900 dark:text-white",children:e.hitCount||0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Last Match"}),s.jsx("p",{className:"mt-1 text-gray-900 dark:text-white",children:e.lastMatch?new Date(e.lastMatch).toLocaleString():"Never"})]})]}),e.tags&&e.tags.length>0&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Tags"}),s.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:e.tags.map((i,l)=>s.jsx("span",{className:"px-2 py-1 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 text-sm rounded border border-blue-200 dark:border-blue-800",children:i},l))})]}),e.description&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Description"}),s.jsx("p",{className:"mt-1 text-gray-700 dark:text-gray-300",children:e.description})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Rule Content"}),s.jsx("pre",{className:"mt-2 p-4 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg overflow-x-auto text-sm font-mono text-gray-900 dark:text-gray-100",children:e.ruleContent})]}),!e.isValid&&e.validationError&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(Kt,{className:"h-5 w-5 text-red-600 mr-2 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-red-800",children:"Validation Error"}),s.jsx("p",{className:"text-sm text-red-700 mt-1",children:e.validationError})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Created"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:new Date(e.createdAt).toLocaleString()})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Updated"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:new Date(e.updatedAt).toLocaleString()})]})]})]}),s.jsxs("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700 flex justify-between",children:[s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>n(e.id,!e.isEnabled),className:`px-4 py-2 rounded-lg flex items-center ${e.isEnabled?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-blue-600 text-white hover:bg-blue-700"}`,children:e.isEnabled?s.jsxs(s.Fragment,{children:[s.jsx(Wu,{className:"h-4 w-4 mr-2"}),"Disable"]}):s.jsxs(s.Fragment,{children:[s.jsx(Qu,{className:"h-4 w-4 mr-2"}),"Enable"]})}),s.jsxs("button",{onClick:()=>{confirm("Are you sure you want to delete this rule?")&&(a(e.id),r())},className:"px-4 py-2 bg-red-600 text-white hover:bg-red-700 rounded-lg flex items-center",children:[s.jsx(Li,{className:"h-4 w-4 mr-2"}),"Delete"]})]}),s.jsx("button",{onClick:r,className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:"Close"})]})]})}),SN=({rule:e,onClick:t,onToggle:r})=>s.jsx("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex-1 cursor-pointer",onClick:t,children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:e.name}),e.isValid?s.jsx(nt,{className:"h-4 w-4 text-green-500"}):s.jsx(xr,{className:"h-4 w-4 text-red-500"})]}),s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${Wx(e.threatLevel)}`,children:e.threatLevel}),s.jsx("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs rounded",children:e.category})]}),e.description&&s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 line-clamp-2 mb-2",children:e.description}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400",children:[s.jsxs("span",{children:["Hits: ",e.hitCount||0]}),s.jsxs("span",{children:["Updated: ",new Date(e.updatedAt).toLocaleDateString()]})]})]}),s.jsx("button",{onClick:n=>{n.stopPropagation(),r(e.id,!e.isEnabled)},className:`ml-4 p-2 rounded-lg ${e.isEnabled?"bg-blue-50 text-blue-600 hover:bg-blue-100":"bg-gray-100 text-gray-500 hover:bg-gray-200"}`,children:e.isEnabled?s.jsx(Qu,{className:"h-4 w-4"}):s.jsx(Wu,{className:"h-4 w-4"})})]})}),CN=()=>{var w,ae,oe,S;const{token:e,loading:t}=mt(),r=gt(),n=Ft(),[a,i]=k.useState(!1),[l,o]=k.useState(null),[c,u]=k.useState(!1),[h,d]=k.useState(""),[g,f]=k.useState(""),[x,b]=k.useState(""),[j,m]=k.useState(void 0),[p,y]=k.useState(1),v=25;k.useEffect(()=>{!t&&!e&&r("/login")},[e,t,r]),k.useEffect(()=>{y(1)},[h,g,x,j]);const E=Re({queryKey:["malware-rules",p,h,g,x,j],queryFn:async()=>{const Q=await yN({page:p,perPage:v,search:h||void 0,category:g||void 0,threatLevel:x||void 0,isEnabled:j}),re=Q.data||Q.rules||[],ce=Q.total||Q.totalCount||re.length,Et=Q.pageSize||Q.perPage||re.length||v;return{rules:re,totalCount:ce,totalPages:Math.ceil(ce/Et),pageSize:Et}},enabled:!t&&!!e,staleTime:5*60*1e3,gcTime:30*60*1e3}),C=Re({queryKey:["malware-statistics"],queryFn:async()=>{const Q=await bN();console.log("[MalwareRules] Statistics response:",Q);const re=Q.data||Q,ce={totalRules:re.totalRules||re.TotalRules||0,enabledRules:re.enabledRules||re.EnabledRules||0,disabledRules:re.disabledRules||re.DisabledRules||0,validRules:re.validRules||re.ValidRules||0,invalidRules:re.invalidRules||re.InvalidRules||0,rulesByCategory:re.rulesByCategory||re.RulesByCategory||{},rulesByThreatLevel:re.rulesByThreatLevel||re.RulesByThreatLevel||{},topPerformingRules:re.topPerformingRules||re.TopPerformingRules||[],slowestRules:re.slowestRules||re.SlowestRules||[]};return console.log("[MalwareRules] Mapped statistics:",ce),ce},enabled:!t&&!!e,staleTime:10*60*1e3,gcTime:30*60*1e3}),M=ct({mutationFn:({id:Q,enabled:re})=>vN(Q,re),onSuccess:()=>{n.invalidateQueries({queryKey:["malware-rules"]}),n.invalidateQueries({queryKey:["malware-statistics"]})},onError:Q=>{alert(`Failed to toggle rule: ${Q.message}`)}}),O=ct({mutationFn:kN,onSuccess:()=>{n.invalidateQueries({queryKey:["malware-rules"]}),n.invalidateQueries({queryKey:["malware-statistics"]})},onError:Q=>{alert(`Failed to delete rule: ${Q.message}`)}}),U=ct({mutationFn:wN,onSuccess:()=>{n.invalidateQueries({queryKey:["malware-rules"]}),n.invalidateQueries({queryKey:["malware-statistics"]})}}),R=(Q,re)=>{M.mutate({id:Q,enabled:re})},_=Q=>{O.mutate(Q)},F=((w=E.data)==null?void 0:w.rules)||[],L=((ae=E.data)==null?void 0:ae.totalCount)||0,P=((oe=E.data)==null?void 0:oe.totalPages)||1,I=((S=E.data)==null?void 0:S.pageSize)||v,B=C.data||null,G=E.isLoading,T=E.error?E.error.message:null,K=Q=>{o(Q),u(!0)};return G?s.jsx(ma,{}):s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Malware Detection"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Detection Rules & Signatures"})]}),B&&s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Statistics"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-6",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:B.totalRules||0}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Total Rules"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:B.enabledRules||0}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Enabled"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:B.disabledRules||0}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Disabled"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:B.validRules||0}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Valid"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:B.invalidRules||0}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Invalid"})]})]})]}),s.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-center justify-between",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 flex-1",children:[s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx(fa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search rules...",value:h,onChange:Q=>d(Q.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("select",{value:g,onChange:Q=>f(Q.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"All Categories"}),qx.map(Q=>s.jsx("option",{value:Q.id,children:Q.name},Q.id))]}),s.jsxs("select",{value:x,onChange:Q=>b(Q.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"All Threat Levels"}),xN.map(Q=>s.jsx("option",{value:Q.id,children:Q.name},Q.id))]}),s.jsxs("select",{value:j===void 0?"":j?"true":"false",onChange:Q=>m(Q.target.value===""?void 0:Q.target.value==="true"),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"All Status"}),s.jsx("option",{value:"true",children:"Enabled"}),s.jsx("option",{value:"false",children:"Disabled"})]})]})]}),s.jsx("div",{className:"flex gap-2",children:s.jsxs("button",{onClick:()=>i(!0),className:"px-4 py-2 bg-blue-600 text-white hover:bg-blue-700 rounded-lg flex items-center space-x-2 transition-colors",children:[s.jsx(Vu,{className:"h-4 w-4"}),s.jsx("span",{children:"Import"})]})})]}),T&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Kt,{className:"h-5 w-5 text-red-600 mr-2"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading rules"}),s.jsx("p",{className:"text-sm text-red-700 mt-1",children:T})]})]})}),G?s.jsxs("div",{className:"flex items-center justify-center py-12",children:[s.jsx(En,{className:"h-8 w-8 animate-spin text-blue-600"}),s.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-300",children:"Loading rules..."})]}):F.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Be,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No rules found"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:h||g||x?"Try adjusting your search or filters":"No malware rules are available. Consider importing them."}),!h&&!g&&!x&&s.jsxs("button",{onClick:()=>i(!0),className:"px-4 py-2 bg-blue-600 text-white hover:bg-blue-700 rounded-lg flex items-center space-x-2 mx-auto",children:[s.jsx(Vu,{className:"h-4 w-4"}),s.jsx("span",{children:"Import Rules"})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:F.map(Q=>s.jsx(SN,{rule:Q,onClick:()=>K(Q),onToggle:R},Q.id))}),L>0&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Showing ",F.length>0?(p-1)*I+1:0," to ",Math.min((p-1)*I+F.length,L)," of ",L," rules"]}),P>1&&s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>y(Q=>Math.max(1,Q-1)),disabled:p===1,className:"px-3 py-1 border border-gray-300 dark:border-gray-600 rounded text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),s.jsxs("span",{className:"px-3 py-1 text-gray-700 dark:text-gray-300",children:["Page ",p," of ",P]}),s.jsx("button",{onClick:()=>y(Q=>Math.min(P,Q+1)),disabled:p===P,className:"px-3 py-1 border border-gray-300 dark:border-gray-600 rounded text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),s.jsx(jN,{isOpen:a,onClose:()=>i(!1),importMutation:U}),s.jsx(NN,{rule:l,isOpen:c,onClose:()=>u(!1),onToggle:R,onDelete:_})]})};function EN(){var B,G;const{token:e,loading:t}=mt(),r=gt(),n=Ft(),{hub:a}=Ai(),[i,l]=k.useState(!1),[o,c]=k.useState(""),[u,h]=k.useState(!1),[d,g]=k.useState(null),[f,x]=k.useState(""),[b,j]=k.useState(""),[m,p]=k.useState("");k.useEffect(()=>{!t&&!e&&r("/login")},[e,t,r]);const y=Re({queryKey:["threat-scans"],queryFn:()=>_e.getThreatScans(),enabled:!t&&!!e,refetchInterval:5e3}),v=Re({queryKey:["scan-progress"],queryFn:()=>_e.getScanProgress(),enabled:!t&&!!e,refetchInterval:2e3});k.useEffect(()=>{var T,K;if((T=v.data)!=null&&T.progress){const w=(K=v.data.progress.status)==null?void 0:K.toLowerCase();h(w==="running"||w==="initializing"),c(v.data.progress.scanType||"Scan")}else h(!1)},[v.data]),k.useEffect(()=>{a&&(a.on("ScanProgressUpdate",()=>{n.invalidateQueries({queryKey:["scan-progress"]})}),a.on("ScanCompleted",()=>{n.invalidateQueries({queryKey:["threat-scans"]}),n.invalidateQueries({queryKey:["scan-progress"]})}))},[a,n]);const E=async()=>{try{await _e.startQuickScan(),c("Quick Scan"),l(!0),n.invalidateQueries({queryKey:["threat-scans"]}),n.invalidateQueries({queryKey:["scan-progress"]})}catch(T){console.error("Failed to start quick scan:",T)}},C=async()=>{try{await _e.startFullScan(),c("Full Scan"),l(!0),n.invalidateQueries({queryKey:["threat-scans"]}),n.invalidateQueries({queryKey:["scan-progress"]})}catch(T){console.error("Failed to start full scan:",T)}},M=async()=>{try{await _e.cancelScan(),n.invalidateQueries({queryKey:["scan-progress"]}),n.invalidateQueries({queryKey:["threat-scans"]}),l(!1)}catch(T){console.error("Failed to cancel scan:",T)}},O=T=>{switch(T==null?void 0:T.toLowerCase()){case"completed":return"text-green-600 bg-green-50 dark:bg-green-900/20 dark:text-green-400";case"completedwiththreats":return"text-orange-600 bg-orange-50 dark:bg-orange-900/20 dark:text-orange-400";case"running":return"text-blue-600 bg-blue-50 dark:bg-blue-900/20 dark:text-blue-400";case"failed":return"text-red-600 bg-red-50 dark:bg-red-900/20 dark:text-red-400";case"cancelled":return"text-gray-600 bg-gray-50 dark:bg-gray-700/20 dark:text-gray-400";default:return"text-gray-600 bg-gray-50 dark:bg-gray-700/20 dark:text-gray-400"}},U=T=>{switch(T==null?void 0:T.toLowerCase()){case"completed":return"Clean";case"completedwiththreats":return"Findings Detected";case"running":return"Scanning";case"failed":return"Failed";case"cancelled":return"Cancelled";default:return T}},R=T=>{switch(T==null?void 0:T.toLowerCase()){case"completed":return s.jsx(nt,{className:"h-4 w-4"});case"completedwiththreats":return s.jsx(dt,{className:"h-4 w-4"});case"running":return s.jsx(Cn,{className:"h-4 w-4 animate-spin"});case"failed":return s.jsx(xr,{className:"h-4 w-4"});case"cancelled":return s.jsx(xr,{className:"h-4 w-4"});default:return s.jsx(Be,{className:"h-4 w-4"})}},_=T=>{switch(T==null?void 0:T.toLowerCase()){case"critical":return"text-red-600 dark:text-red-400";case"high":return"text-orange-600 dark:text-orange-400";case"medium":return"text-yellow-600 dark:text-yellow-400";case"low":return"text-green-600 dark:text-green-400";default:return"text-gray-600 dark:text-gray-400"}},F=T=>T<1?`${Math.round(T*60)}s`:T<60?`${Math.round(T)}m`:`${Math.round(T/60)}h ${Math.round(T%60)}m`,L=((B=y.data)==null?void 0:B.data)||[],P=L.filter(T=>!(f&&T.scanType!==f||b&&T.status.toLowerCase()!==b.toLowerCase()||m&&T.riskLevel!==m)),I=d?L.find(T=>T.id===d):null;return y.isLoading?s.jsx(ma,{}):s.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:s.jsx("div",{className:"px-8 py-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Threat Scanner"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Security scanning and malware detection"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[u&&s.jsxs("button",{onClick:()=>l(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/40 transition-colors",children:[s.jsx(En,{className:"h-4 w-4 animate-spin"}),s.jsxs("span",{className:"text-sm font-medium",children:[o," in progress..."]})]}),s.jsx(Oi,{}),s.jsxs("button",{onClick:E,disabled:u,className:"flex items-center space-x-2 px-4 py-2 border border-blue-600 text-blue-600 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(w0,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"Quick Scan"})]}),s.jsxs("button",{onClick:C,disabled:u,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(Be,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"Full Scan"})]})]})]})})}),i&&((G=v.data)==null?void 0:G.progress)&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Be,{className:"h-6 w-6 text-blue-600"}),s.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:[o," Progress"]})]}),s.jsx("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(xr,{className:"h-6 w-6"})})]})}),s.jsx("div",{className:"p-6 space-y-4",children:s.jsx(_N,{progress:v.data.progress,onCancel:M})}),s.jsx("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700 flex justify-end",children:s.jsx("button",{onClick:()=>l(!1),className:"px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",children:"Hide"})})]})}),I&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Be,{className:"h-6 w-6 text-blue-600"}),s.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Scan Details"})]}),s.jsx("button",{onClick:()=>g(null),className:"text-gray-400 hover:text-gray-600",children:s.jsx(xr,{className:"h-6 w-6"})})]})}),s.jsx("div",{className:"p-6 space-y-6",children:s.jsx(TN,{scan:I})}),s.jsx("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700 flex justify-end",children:s.jsx("button",{onClick:()=>g(null),className:"px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",children:"Close"})})]})}),s.jsx("div",{className:"p-8",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Scan History"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ej,{className:"h-5 w-5 text-gray-400"}),s.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Filters"})]})]}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Scan Type"}),s.jsxs("select",{value:f,onChange:T=>x(T.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[s.jsx("option",{value:"",children:"All Types"}),s.jsx("option",{value:"QuickScan",children:"Quick Scan"}),s.jsx("option",{value:"FullScan",children:"Full Scan"}),s.jsx("option",{value:"DirectoryScan",children:"Directory Scan"}),s.jsx("option",{value:"FileScan",children:"File Scan"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Status"}),s.jsxs("select",{value:b,onChange:T=>j(T.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[s.jsx("option",{value:"",children:"All Statuses"}),s.jsx("option",{value:"Completed",children:"Clean"}),s.jsx("option",{value:"CompletedWithThreats",children:"Findings Detected"}),s.jsx("option",{value:"Running",children:"Scanning"}),s.jsx("option",{value:"Failed",children:"Failed"}),s.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Risk Level"}),s.jsxs("select",{value:m,onChange:T=>p(T.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[s.jsx("option",{value:"",children:"All Levels"}),s.jsx("option",{value:"Low",children:"Low"}),s.jsx("option",{value:"Medium",children:"Medium"}),s.jsx("option",{value:"High",children:"High"}),s.jsx("option",{value:"Critical",children:"Critical"})]})]})]})]}),y.isLoading?s.jsxs("div",{className:"p-12 text-center",children:[s.jsx(En,{className:"h-8 w-8 animate-spin mx-auto text-gray-400"}),s.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Loading scan history..."})]}):P.length===0?s.jsxs("div",{className:"p-12 text-center",children:[s.jsx(Be,{className:"h-12 w-12 mx-auto text-gray-400"}),s.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900 dark:text-white",children:L.length===0?"No scan history yet":"No matching scans found"}),s.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:L.length===0?"Start a security scan to check for threats":"Try adjusting your filters"}),s.jsxs("div",{className:"mt-6 flex items-center justify-center space-x-3",children:[s.jsxs("button",{onClick:E,className:"flex items-center space-x-2 px-4 py-2 border border-blue-600 text-blue-600 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors",children:[s.jsx(w0,{className:"h-5 w-5"}),s.jsx("span",{children:"Quick Scan"})]}),s.jsxs("button",{onClick:C,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(Be,{className:"h-5 w-5"}),s.jsx("span",{children:"Full Scan"})]})]})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700/50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Started"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Duration"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Files"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Results"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Risk"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:P.map(T=>s.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:T.scanType})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:`inline-flex items-center space-x-2 px-2.5 py-1 rounded-full text-xs font-medium ${O(T.status)}`,children:[R(T.status),s.jsx("span",{children:U(T.status)})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:new Date(T.startTime).toLocaleString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:F(T.duration)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:T.filesScanned.toLocaleString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:T.threatsFound===0?s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-green-600 dark:text-green-400",children:[s.jsx(nt,{className:"h-4 w-4"}),s.jsx("span",{children:"Clean"})]}):s.jsxs("div",{className:"text-sm",children:[s.jsxs("div",{className:"flex items-center space-x-2 text-orange-600 dark:text-orange-400 font-medium",children:[s.jsx(dt,{className:"h-4 w-4"}),s.jsxs("span",{children:[T.threatsFound," finding",T.threatsFound!==1?"s":""]})]}),s.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:[T.malwareDetected+T.backdoorsDetected>0&&s.jsxs("span",{className:"font-medium text-red-600 dark:text-red-400",children:[T.malwareDetected+T.backdoorsDetected," threat",T.malwareDetected+T.backdoorsDetected!==1?"s":""]}),T.malwareDetected+T.backdoorsDetected>0&&T.suspiciousFiles>0&&", ",T.suspiciousFiles>0&&`${T.suspiciousFiles} flagged`]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`text-sm font-medium ${_(T.riskLevel)}`,children:T.riskLevel})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("button",{onClick:()=>g(T.id),className:"flex items-center space-x-1 text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300",children:[s.jsx(xs,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm font-medium",children:"View"})]})})]},T.id))})]})})]})})]})}function _N({progress:e,onCancel:t}){var n;const r=((n=e.status)==null?void 0:n.toLowerCase())==="running";return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.scanPhase}),s.jsxs("span",{className:"text-sm font-bold text-gray-900 dark:text-white",children:[e.percentComplete.toFixed(1),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${e.percentComplete}%`}})}),s.jsxs("div",{className:"mt-3 space-y-1",children:[s.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 truncate",children:[s.jsx("span",{className:"font-medium",children:"Current file:"})," ",e.currentFile||"Initializing..."]}),s.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 truncate",children:[s.jsx("span",{className:"font-medium",children:"Directory:"})," ",e.currentDirectory||"N/A"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4 text-center",children:[s.jsx(Z1,{className:"h-6 w-6 mx-auto text-blue-600 dark:text-blue-400 mb-2"}),s.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.filesScanned.toLocaleString()}),s.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Files Scanned"}),s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:["of ",e.totalEstimatedFiles.toLocaleString()]})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4 text-center",children:[s.jsx(Mx,{className:"h-6 w-6 mx-auto text-blue-600 dark:text-blue-400 mb-2"}),s.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.directoriesScanned.toLocaleString()}),s.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Directories"})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4 text-center",children:[s.jsx(dt,{className:`h-6 w-6 mx-auto mb-2 ${e.threatsFound>0?"text-orange-600 dark:text-orange-400":"text-green-600 dark:text-green-400"}`}),s.jsx("div",{className:`text-2xl font-bold ${e.threatsFound>0?"text-orange-600 dark:text-orange-400":"text-green-600 dark:text-green-400"}`,children:e.threatsFound.toLocaleString()}),s.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Findings"})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4 text-center",children:[s.jsx(vr,{className:"h-6 w-6 mx-auto text-blue-600 dark:text-blue-400 mb-2"}),s.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.elapsedTime}),s.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Elapsed"}),e.estimatedTimeRemaining&&s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:["~",e.estimatedTimeRemaining," left"]})]})]}),s.jsx("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:s.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[s.jsx("span",{className:"font-medium",children:"Data Scanned:"})," ",(e.bytesScanned/(1024*1024*1024)).toFixed(2)," GB"]})}),r&&s.jsx("button",{onClick:t,className:"w-full px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium",children:"Cancel Scan"})]})}function TN({scan:e}){const t=i=>{switch(i==null?void 0:i.toLowerCase()){case"critical":return"text-red-600 dark:text-red-400";case"high":return"text-orange-600 dark:text-orange-400";case"medium":return"text-yellow-600 dark:text-yellow-400";case"low":return"text-green-600 dark:text-green-400";default:return"text-gray-600 dark:text-gray-400"}},r=i=>{switch(i==null?void 0:i.toLowerCase()){case"completed":return"text-green-600 bg-green-50 dark:bg-green-900/20 dark:text-green-400";case"completedwiththreats":return"text-orange-600 bg-orange-50 dark:bg-orange-900/20 dark:text-orange-400";case"running":return"text-blue-600 bg-blue-50 dark:bg-blue-900/20 dark:text-blue-400";case"failed":return"text-red-600 bg-red-50 dark:bg-red-900/20 dark:text-red-400";case"cancelled":return"text-gray-600 bg-gray-50 dark:bg-gray-700/20 dark:text-gray-400";default:return"text-gray-600 bg-gray-50 dark:bg-gray-700/20 dark:text-gray-400"}},n=i=>{switch(i==null?void 0:i.toLowerCase()){case"completed":return"Clean";case"completedwiththreats":return"Findings Detected";case"running":return"Scanning";case"failed":return"Failed";case"cancelled":return"Cancelled";default:return i}},a=i=>(i/1073741824).toFixed(2)+" GB";return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Basic Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Scan ID"}),s.jsx("p",{className:"text-sm text-gray-900 dark:text-white font-mono",children:e.id})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Scan Type"}),s.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:e.scanType})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Status"}),s.jsx("div",{className:`inline-flex items-center space-x-2 px-2.5 py-1 rounded-full text-xs font-medium ${r(e.status)}`,children:s.jsx("span",{children:n(e.status)})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Risk Level"}),s.jsx("p",{className:`text-sm font-bold ${t(e.riskLevel)}`,children:e.riskLevel})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Start Time"}),s.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:new Date(e.startTime).toLocaleString()})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"End Time"}),s.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:e.endTime?new Date(e.endTime).toLocaleString():"N/A"})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Scan Statistics"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Files Scanned"}),s.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:e.filesScanned.toLocaleString()})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Directories"}),s.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:e.directoriesScanned.toLocaleString()})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Data Scanned"}),s.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:a(e.bytesScanned)})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Duration"}),s.jsxs("div",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:[Math.round(e.duration)," min"]})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Security Analysis"}),e.threatsFound===0?s.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(nt,{className:"h-6 w-6 text-green-600 dark:text-green-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-bold text-green-900 dark:text-green-300",children:"System Clean"}),s.jsx("p",{className:"text-xs text-green-700 dark:text-green-400",children:"No security findings detected"})]})]})}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(dt,{className:"h-6 w-6 text-orange-600 dark:text-orange-400"}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-bold text-orange-900 dark:text-orange-300",children:[e.threatsFound," Security Finding",e.threatsFound!==1?"s":""," Detected"]}),s.jsxs("p",{className:"text-xs text-orange-700 dark:text-orange-400",children:[e.malwareDetected+e.backdoorsDetected>0&&s.jsxs("span",{className:"font-medium",children:[e.malwareDetected+e.backdoorsDetected," threat",e.malwareDetected+e.backdoorsDetected!==1?"s":""," (",e.malwareDetected," malware, ",e.backdoorsDetected," backdoors)"]}),e.malwareDetected+e.backdoorsDetected>0&&e.suspiciousFiles>0&&", ",e.suspiciousFiles>0&&`${e.suspiciousFiles} suspicious file${e.suspiciousFiles!==1?"s":""}`]})]})]})}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-4 text-center border border-red-200 dark:border-red-800",children:[s.jsx("div",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:e.malwareDetected}),s.jsx("div",{className:"text-xs text-red-700 dark:text-red-400 font-medium",children:"Malware"})]}),s.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-4 text-center border border-red-200 dark:border-red-800",children:[s.jsx("div",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:e.backdoorsDetected}),s.jsx("div",{className:"text-xs text-red-700 dark:text-red-400 font-medium",children:"Backdoors"})]}),s.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 rounded-lg p-4 text-center border border-yellow-200 dark:border-yellow-800",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:e.suspiciousFiles}),s.jsx("div",{className:"text-xs text-yellow-700 dark:text-yellow-400 font-medium",children:"Suspicious"})]})]})]})]}),e.summary&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Summary"}),s.jsx("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:s.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:e.summary})})]}),e.errorMessage&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Error Details"}),s.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:s.jsx("p",{className:"text-sm text-red-900 dark:text-red-300 font-mono",children:e.errorMessage})})]})]})}const IN=(e,t)=>{if(t)return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200 border-green-300";switch(e==null?void 0:e.toLowerCase()){case"error":case"failed":case"down":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200 border-red-300";case"warning":case"degraded":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200 border-yellow-300";default:return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200 border-blue-300"}},PN=(e,t)=>{if(t)return s.jsx(nt,{className:"h-4 w-4"});switch(e==null?void 0:e.toLowerCase()){case"error":case"failed":case"down":return s.jsx(xr,{className:"h-4 w-4"});case"warning":case"degraded":return s.jsx(dt,{className:"h-4 w-4"});default:return s.jsx(yi,{className:"h-4 w-4"})}},MN=e=>{const t=(e==null?void 0:e.toLowerCase())||"";return t.includes("qdrant")||t.includes("vector")||t.includes("database")?s.jsx(G1,{className:"h-5 w-5"}):t.includes("ollama")||t.includes("llm")||t.includes("ai")?s.jsx(yh,{className:"h-5 w-5"}):t.includes("security")||t.includes("detector")||t.includes("yara")?s.jsx(Be,{className:"h-5 w-5"}):t.includes("cloud")||t.includes("connector")||t.includes("threat")?s.jsx(Y1,{className:"h-5 w-5"}):t.includes("event")||t.includes("log")||t.includes("collector")?s.jsx(Cn,{className:"h-5 w-5"}):t.includes("storage")||t.includes("disk")?s.jsx(Mx,{className:"h-5 w-5"}):t.includes("performance")||t.includes("monitor")?s.jsx(xh,{className:"h-5 w-5"}):s.jsx(lo,{className:"h-5 w-5"})},RN=e=>e<=50?"text-green-600 dark:text-green-400":e<=150?"text-blue-600 dark:text-blue-400":e<=500?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400",DN=e=>e<=50?"Excellent":e<=150?"Good":e<=500?"Fair":"Poor",LN=e=>{const t=parseFloat(e.replace("%",""));return t>=99?"text-green-600 dark:text-green-400":t>=95?"text-blue-600 dark:text-blue-400":t>=90?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400"};function AN(){const{token:e,loading:t}=mt(),r=gt();k.useEffect(()=>{!t&&!e&&r("/login")},[e,t,r]);const n=Re({queryKey:["system-status"],queryFn:async()=>{const l=await fetch("/api/system-status",{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!l.ok)throw new Error("Failed to fetch system status");const o=await l.json();console.log("[SystemStatus] Raw API response:",o);const c=o.data||o;return Array.isArray(c)?c:Array.isArray(o)?o:(console.warn("[SystemStatus] Response is not an array:",c),[])},enabled:!t&&!!e,refetchInterval:3e4}),a=Array.isArray(n.data)?n.data:[],i={total:a.length,healthy:a.filter(l=>l.isHealthy).length,warning:a.filter(l=>{var o;return((o=l.status)==null?void 0:o.toLowerCase())==="warning"||l.warningCount>0}).length,error:a.filter(l=>{var o;return!l.isHealthy&&((o=l.status)==null?void 0:o.toLowerCase())==="error"}).length,avgResponseTime:a.length>0?Math.round(a.reduce((l,o)=>l+o.responseTime,0)/a.length):0};return n.isLoading?s.jsx(ma,{}):s.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"px-8 py-6 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"System Status"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Platform health and component monitoring"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-green-600 dark:text-green-400",children:[s.jsx(ij,{className:"h-5 w-5"}),s.jsx("span",{className:"text-sm font-medium",children:"Live Monitoring"})]}),s.jsxs("button",{onClick:()=>n.refetch(),disabled:n.isRefetching,className:"px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 flex items-center gap-2",children:[s.jsx(vi,{className:`h-4 w-4 ${n.isRefetching?"animate-spin":""}`}),"Refresh"]})]})]})}),s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(lo,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"}),s.jsx("span",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:i.total})]}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Components"})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(nt,{className:"h-8 w-8 text-green-600 dark:text-green-400"}),s.jsx("span",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:i.healthy})]}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Healthy"})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(dt,{className:"h-8 w-8 text-yellow-600 dark:text-yellow-400"}),s.jsx("span",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:i.warning})]}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Warnings"})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(xr,{className:"h-8 w-8 text-red-600 dark:text-red-400"}),s.jsx("span",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:i.error})]}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Errors"})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(yh,{className:"h-8 w-8 text-purple-600 dark:text-purple-400"}),s.jsxs("span",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:[i.avgResponseTime,"ms"]})]}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avg Response"})]})]}),n.isLoading?s.jsx("div",{className:"space-y-4",children:[...Array(4)].map((l,o)=>s.jsx("div",{className:"h-32 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 animate-pulse"},o))}):a.length===0?s.jsxs("div",{className:"text-center py-12 bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700",children:[s.jsx(lo,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Components Found"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"System status data is not available"})]}):s.jsx("div",{className:"space-y-4",children:a.map(l=>s.jsx("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6 hover:shadow-lg transition-shadow",children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:MN(l.component)}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:l.component}),s.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-semibold border flex items-center gap-1 ${IN(l.status,l.isHealthy)}`,children:[PN(l.status,l.isHealthy),l.status]})]}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4",children:l.details}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Last Check"}),s.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white mt-1",children:new Date(l.lastCheck).toLocaleTimeString()})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Response Time"}),s.jsxs("p",{className:`text-sm font-semibold mt-1 ${RN(l.responseTime)}`,children:[l.responseTime,"ms",s.jsxs("span",{className:"text-xs ml-1 font-normal",children:["(",DN(l.responseTime),")"]})]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Uptime"}),s.jsx("p",{className:`text-sm font-semibold mt-1 ${LN(l.uptime)}`,children:l.uptime})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Errors"}),s.jsx("p",{className:`text-sm font-semibold mt-1 ${l.errorCount>0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:l.errorCount})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Warnings"}),s.jsx("p",{className:`text-sm font-semibold mt-1 ${l.warningCount>0?"text-yellow-600 dark:text-yellow-400":"text-green-600 dark:text-green-400"}`,children:l.warningCount})]})]})]})})},l.id))})]})]})}function ON({config:e,onSave:t,isSaving:r}){const n={autoUpdate:{enabled:!1,updateFrequencyDays:7,lastUpdate:null,nextUpdate:null},sources:{enabled:!0,urls:["https://raw.githubusercontent.com/Yara-Rules/rules/master/malware/APT_APT1.yar","https://raw.githubusercontent.com/Neo23x0/signature-base/master/yara/apt_cobalt_strike.yar","https://raw.githubusercontent.com/Yara-Rules/rules/master/malware/MALW_Zeus.yar"],maxRulesPerSource:50},rules:{enabledByDefault:!0,autoValidation:!0,performanceThresholdMs:1e3},import:{lastImportDate:null,totalRules:0,enabledRules:0,failedRules:0}},[a,i]=k.useState(n),[l,o]=k.useState(!1),{token:c}=mt();k.useEffect(()=>{e&&e.autoUpdate&&e.sources&&e.rules&&e.import?i({autoUpdate:{...n.autoUpdate,...e.autoUpdate},sources:{...n.sources,...e.sources},rules:{...n.rules,...e.rules},import:{...n.import,...e.import}}):i(n)},[e]);const u=x=>{x.preventDefault(),t(a)},h=async()=>{o(!0);try{const x=await fetch("/api/yara-configuration/import",{method:"POST",headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"}});if(x.ok){const b=await x.json(),j=b.data||b;i(m=>({...m,import:{lastImportDate:new Date().toISOString(),totalRules:j.totalRules||j.importedCount||m.import.totalRules,enabledRules:j.enabledRules||j.importedCount||m.import.enabledRules,failedRules:j.failedRules||j.failedCount||0}}))}}catch(x){console.error("Error importing YARA rules:",x)}finally{o(!1)}},d=()=>{i({...a,sources:{...a.sources,urls:[...a.sources.urls,""]}})},g=x=>{i({...a,sources:{...a.sources,urls:a.sources.urls.filter((b,j)=>j!==x)}})},f=(x,b)=>{const j=[...a.sources.urls];j[x]=b,i({...a,sources:{...a.sources,urls:j}})};return s.jsxs("form",{onSubmit:u,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(vi,{className:"h-5 w-5 text-blue-600"}),s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Auto Update Settings"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:a.autoUpdate.enabled,onChange:x=>i({...a,autoUpdate:{...a.autoUpdate,enabled:x.target.checked}}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Enable automatic rule updates"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Update Frequency (days)"}),s.jsx("input",{type:"number",min:"1",max:"365",value:a.autoUpdate.updateFrequencyDays,onChange:x=>i({...a,autoUpdate:{...a.autoUpdate,updateFrequencyDays:parseInt(x.target.value)||7}}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"How often to check for new YARA rules (1-365 days)"})]}),a.autoUpdate.lastUpdate&&s.jsx("div",{className:"bg-blue-50 border border-blue-200 dark:bg-blue-900/20 dark:border-blue-800 rounded-lg p-3",children:s.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[s.jsx("strong",{children:"Last Update:"})," ",new Date(a.autoUpdate.lastUpdate).toLocaleString()]})})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Bu,{className:"h-5 w-5 text-blue-600"}),s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Rule Sources"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:a.sources.enabled,onChange:x=>i({...a,sources:{...a.sources,enabled:x.target.checked}}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Enable rule source downloads"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Max Rules Per Source"}),s.jsx("input",{type:"number",min:"1",max:"1000",value:a.sources.maxRulesPerSource,onChange:x=>i({...a,sources:{...a.sources,maxRulesPerSource:parseInt(x.target.value)||50}}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Maximum rules to import from each source"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Active Sources: ",a.sources.urls.length," configured"]}),s.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto pr-2",children:a.sources.urls.map((x,b)=>s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"url",placeholder:`Source ${b+1}`,value:x,onChange:j=>f(b,j.target.value),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-xs"}),s.jsx("button",{type:"button",onClick:()=>g(b),disabled:a.sources.urls.length<=1,className:"px-3 py-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(Li,{className:"h-4 w-4"})})]},b))}),s.jsxs("button",{type:"button",onClick:d,className:"mt-2 flex items-center gap-2 px-3 py-2 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg text-sm",children:[s.jsx(bi,{className:"h-4 w-4"}),"Add Source"]})]})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Import Statistics"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Rules:"}),s.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200 rounded-full font-semibold",children:a.import.totalRules})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Enabled Rules:"}),s.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200 rounded-full font-semibold",children:a.import.enabledRules})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Failed Rules:"}),s.jsx("span",{className:`px-3 py-1 rounded-full font-semibold ${a.import.failedRules>0?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-400"}`,children:a.import.failedRules})]}),a.import.lastImportDate&&s.jsxs("div",{className:"pt-3 border-t border-gray-200 dark:border-gray-700",children:[s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Last Import Date:"}),s.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white mt-1",children:new Date(a.import.lastImportDate).toLocaleString()})]})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[s.jsx("button",{type:"button",onClick:h,disabled:l,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-green-600 text-white hover:bg-green-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:l?s.jsxs(s.Fragment,{children:[s.jsx(vi,{className:"h-5 w-5 animate-spin"}),"Importing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Bu,{className:"h-5 w-5"}),"Import YARA Rules"]})}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 text-center",children:"Download and import YARA rules from all configured sources"})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Rule Settings"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:a.rules.enabledByDefault,onChange:x=>i({...a,rules:{...a.rules,enabledByDefault:x.target.checked}}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Enable rules by default"})]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:a.rules.autoValidation,onChange:x=>i({...a,rules:{...a.rules,autoValidation:x.target.checked}}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Auto-validate rules"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Performance Threshold (ms)"}),s.jsx("input",{type:"number",min:"100",max:"10000",value:a.rules.performanceThresholdMs,onChange:x=>i({...a,rules:{...a.rules,performanceThresholdMs:parseInt(x.target.value)||1e3}}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Warn if rule execution exceeds this threshold"})]})]})]})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsxs("button",{type:"submit",disabled:r,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white hover:bg-blue-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(ys,{className:"h-4 w-4"}),r?"Saving...":"Save YARA Configuration"]})})]})}function FN({className:e="h-6 w-6"}){return s.jsx("img",{src:"/microsoft-teams-1.svg",alt:"Microsoft Teams",className:e})}function $N({className:e="h-6 w-6"}){return s.jsx("img",{src:"/slack-new-logo.svg",alt:"Slack",className:e})}const zN={Teams:"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-300 dark:border-blue-800",Slack:"bg-purple-100 text-purple-800 border-purple-200 dark:bg-purple-900/30 dark:text-purple-300 dark:border-purple-800"},UN={SecurityEvent:"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-300 dark:border-red-800",SystemAlert:"bg-yellow-100 text-yellow-800 border-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-300 dark:border-yellow-800",HealthWarning:"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-300 dark:border-orange-800",PerformanceAlert:"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-300 dark:border-green-800"},BN=[{id:"threat-intelligence",label:"Threat Intelligence",icon:Be},{id:"notifications",label:"Notifications",icon:io},{id:"ip-enrichment",label:"IP Enrichment",icon:Px},{id:"malware",label:"Malware Rules",icon:mh},{id:"mitre",label:"MITRE Techniques",icon:Lo},{id:"threat-scanner",label:"Threat Scanner",icon:Cn},{id:"performance",label:"Performance",icon:ph,disabled:!0}];function HN(){const{token:e,loading:t}=mt(),r=gt(),n=Ft(),[a,i]=k.useState("threat-intelligence"),[l,o]=k.useState(!1),[c,u]=k.useState(!1);k.useEffect(()=>{!t&&!e&&r("/login")},[e,t,r]);const h=a!=="mitre"&&a!=="threat-scanner"&&a!=="performance",d=Re({queryKey:["configuration",a],queryFn:async()=>{const b=await fetch(`${fe}${{"threat-intelligence":"/settings/threat-intelligence",notifications:"/notifications/config","ip-enrichment":"/settings/ip-enrichment",malware:"/yara-configuration",mitre:"/mitre/config","threat-scanner":"/threat-scanner/config",performance:"/performance/config"}[a]}`,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!b.ok)throw new Error("Failed to fetch configuration");const j=await b.json();if(a==="notifications"){const m=j.data||[];return m.length>0?m[0]:null}return j.data||j},enabled:!t&&!!e&&h}),g=ct({mutationFn:async x=>{const b={"threat-intelligence":"/settings/threat-intelligence",notifications:"/notifications/config","ip-enrichment":"/settings/ip-enrichment",malware:"/yara-configuration",mitre:"/mitre/config","threat-scanner":"/threat-scanner/config",performance:"/performance/config"};if(a==="notifications"){const m=x.id?"PUT":"POST",p=x.id?`${fe}${b[a]}/${x.id}`:`${fe}${b[a]}`,y=await fetch(p,{method:m,headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify(x)});if(!y.ok)throw new Error("Failed to save configuration");return y.json()}const j=await fetch(`${fe}${b[a]}`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify(x)});if(!j.ok)throw new Error("Failed to save configuration");return j.json()},onSuccess:()=>{n.invalidateQueries({queryKey:["configuration",a]}),u(!0),setTimeout(()=>u(!1),3e3)}}),f=x=>{g.mutate(x)};return s.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"px-8 py-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(ph,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"System Configuration"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Configure integrations and platform settings"})]})]}),s.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:BN.map(x=>s.jsxs("button",{onClick:()=>!x.disabled&&i(x.id),disabled:x.disabled,className:`flex items-center gap-2 px-4 py-2 rounded-lg whitespace-nowrap transition-colors ${a===x.id?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-200":x.disabled?"text-gray-400 dark:text-gray-600 cursor-not-allowed":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[s.jsx(x.icon,{className:"h-4 w-4"}),x.label]},x.id))})]})}),s.jsxs("div",{className:"p-8 max-w-6xl mx-auto",children:[c&&s.jsxs("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-lg p-4 flex items-center gap-2",children:[s.jsx(fh,{className:"h-5 w-5 text-green-600"}),s.jsx("span",{className:"text-green-800 font-medium",children:"Configuration saved successfully!"})]}),h&&d.isLoading?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):h&&d.isError?s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 flex items-start gap-3",children:[s.jsx(Kt,{className:"h-5 w-5 text-red-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-red-800 font-medium",children:"Failed to load configuration"}),s.jsx("p",{className:"text-red-700 text-sm mt-1",children:d.error.message})]})]}):s.jsxs(s.Fragment,{children:[a==="threat-intelligence"&&s.jsx(qN,{config:d.data,onSave:f,showApiKeys:l,onToggleApiKeys:()=>o(!l),isSaving:g.isPending}),a==="notifications"&&s.jsx(WN,{config:d.data,onSave:f,showApiKeys:l,onToggleApiKeys:()=>o(!l),isSaving:g.isPending}),a==="ip-enrichment"&&s.jsx(KN,{config:d.data,onSave:f,showApiKeys:l,onToggleApiKeys:()=>o(!l),isSaving:g.isPending}),a==="malware"&&s.jsx(ON,{config:d.data,onSave:f,isSaving:g.isPending}),a==="mitre"&&s.jsx(GN,{onSaveSuccess:()=>{u(!0),setTimeout(()=>u(!1),3e3)}}),a==="threat-scanner"&&s.jsx(YN,{})]})]})]})}function qN({config:e,onSave:t,showApiKeys:r,onToggleApiKeys:n,isSaving:a}){const i={virusTotal:{enabled:!1,apiKey:"",rateLimitPerMinute:4,cacheEnabled:!0,cacheTtlMinutes:60},malwareBazaar:{enabled:!1,rateLimitPerMinute:10,cacheEnabled:!0,cacheTtlMinutes:60},alienVaultOtx:{enabled:!1,apiKey:"",rateLimitPerMinute:10,cacheEnabled:!0,cacheTtlMinutes:60}},[l,o]=k.useState(i);k.useEffect(()=>{e&&e.virusTotal&&e.malwareBazaar&&e.alienVaultOtx?o({virusTotal:{...i.virusTotal,...e.virusTotal},malwareBazaar:{...i.malwareBazaar,...e.malwareBazaar},alienVaultOtx:{...i.alienVaultOtx,...e.alienVaultOtx}}):o(i)},[e]);const c=u=>{u.preventDefault(),t(l)};return s.jsxs("form",{onSubmit:c,className:"space-y-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"VirusTotal"}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.virusTotal.enabled,onChange:u=>o({...l,virusTotal:{...l.virusTotal,enabled:u.target.checked}}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Enabled"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"API Key"}),s.jsx("input",{type:r?"text":"password",value:l.virusTotal.apiKey,onChange:u=>o({...l,virusTotal:{...l.virusTotal,apiKey:u.target.value}}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Enter VirusTotal API key"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Rate Limit (per minute)"}),s.jsx("input",{type:"number",value:l.virusTotal.rateLimitPerMinute,onChange:u=>o({...l,virusTotal:{...l.virusTotal,rateLimitPerMinute:parseInt(u.target.value)}}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.virusTotal.cacheEnabled,onChange:u=>o({...l,virusTotal:{...l.virusTotal,cacheEnabled:u.target.checked}}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Cache Enabled"})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Cache TTL (minutes)"}),s.jsx("input",{type:"number",value:l.virusTotal.cacheTtlMinutes,onChange:u=>o({...l,virusTotal:{...l.virusTotal,cacheTtlMinutes:parseInt(u.target.value)}}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"MalwareBazaar"}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.malwareBazaar.enabled,onChange:u=>o({...l,malwareBazaar:{...l.malwareBazaar,enabled:u.target.checked}}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Enabled"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Rate Limit (per minute)"}),s.jsx("input",{type:"number",value:l.malwareBazaar.rateLimitPerMinute,onChange:u=>o({...l,malwareBazaar:{...l.malwareBazaar,rateLimitPerMinute:parseInt(u.target.value)}}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.malwareBazaar.cacheEnabled,onChange:u=>o({...l,malwareBazaar:{...l.malwareBazaar,cacheEnabled:u.target.checked}}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Cache Enabled"})]})})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"AlienVault OTX"}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.alienVaultOtx.enabled,onChange:u=>o({...l,alienVaultOtx:{...l.alienVaultOtx,enabled:u.target.checked}}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Enabled"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"API Key"}),s.jsx("input",{type:r?"text":"password",value:l.alienVaultOtx.apiKey,onChange:u=>o({...l,alienVaultOtx:{...l.alienVaultOtx,apiKey:u.target.value}}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Enter AlienVault OTX API key"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Rate Limit (per minute)"}),s.jsx("input",{type:"number",value:l.alienVaultOtx.rateLimitPerMinute,onChange:u=>o({...l,alienVaultOtx:{...l.alienVaultOtx,rateLimitPerMinute:parseInt(u.target.value)}}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("button",{type:"button",onClick:n,className:"flex items-center gap-2 px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:[r?s.jsx(gh,{className:"h-4 w-4"}):s.jsx(xs,{className:"h-4 w-4"}),r?"Hide":"Show"," API Keys"]}),s.jsxs("button",{type:"submit",disabled:a,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white hover:bg-blue-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(ys,{className:"h-4 w-4"}),a?"Saving...":"Save Configuration"]})]})]})}function WN({config:e,onSave:t,showApiKeys:r,onToggleApiKeys:n,isSaving:a}){const i={id:void 0,name:"Default Notification Configuration",teams:{enabled:!1,webhookUrl:"",castellanUrl:"http://localhost:3000",rateLimitSettings:{criticalThrottleMinutes:0,highThrottleMinutes:5,mediumThrottleMinutes:15,lowThrottleMinutes:60}},slack:{enabled:!1,webhookUrl:"",castellanUrl:"http://localhost:3000",defaultChannel:"#security-alerts",criticalChannel:"",highChannel:"",rateLimitSettings:{criticalThrottleMinutes:0,highThrottleMinutes:5,mediumThrottleMinutes:15,lowThrottleMinutes:60}}},[l,o]=k.useState(i);k.useEffect(()=>{e&&e.teams&&e.slack?o({id:e.id,name:e.name||i.name,teams:{...i.teams,...e.teams,rateLimitSettings:{...i.teams.rateLimitSettings,...e.teams.rateLimitSettings}},slack:{...i.slack,...e.slack,rateLimitSettings:{...i.slack.rateLimitSettings,...e.slack.rateLimitSettings}}}):o(i)},[e]);const c=u=>{u.preventDefault(),t(l)};return s.jsxs("form",{onSubmit:c,className:"space-y-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(FN,{className:"h-6 w-6"}),s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Microsoft Teams"})]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.teams.enabled,onChange:u=>o({...l,teams:{...l.teams,enabled:u.target.checked}}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Enabled"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Webhook URL"}),s.jsx("input",{type:r?"text":"password",value:l.teams.webhookUrl,onChange:u=>o({...l,teams:{...l.teams,webhookUrl:u.target.value}}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"https://outlook.office.com/webhook/..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Castellan URL"}),s.jsx("input",{type:"text",value:l.teams.castellanUrl,onChange:u=>o({...l,teams:{...l.teams,castellanUrl:u.target.value}}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"http://localhost:3000"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Base URL for Castellan instance (used in notification links)"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Rate Limit Settings (minutes between alerts)"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Critical"}),s.jsx("input",{type:"number",min:"0",value:l.teams.rateLimitSettings.criticalThrottleMinutes,onChange:u=>o({...l,teams:{...l.teams,rateLimitSettings:{...l.teams.rateLimitSettings,criticalThrottleMinutes:parseInt(u.target.value)||0}}}),className:"w-full px-2 py-1 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-400 mb-1",children:"High"}),s.jsx("input",{type:"number",min:"0",value:l.teams.rateLimitSettings.highThrottleMinutes,onChange:u=>o({...l,teams:{...l.teams,rateLimitSettings:{...l.teams.rateLimitSettings,highThrottleMinutes:parseInt(u.target.value)||0}}}),className:"w-full px-2 py-1 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Medium"}),s.jsx("input",{type:"number",min:"0",value:l.teams.rateLimitSettings.mediumThrottleMinutes,onChange:u=>o({...l,teams:{...l.teams,rateLimitSettings:{...l.teams.rateLimitSettings,mediumThrottleMinutes:parseInt(u.target.value)||0}}}),className:"w-full px-2 py-1 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Low"}),s.jsx("input",{type:"number",min:"0",value:l.teams.rateLimitSettings.lowThrottleMinutes,onChange:u=>o({...l,teams:{...l.teams,rateLimitSettings:{...l.teams.rateLimitSettings,lowThrottleMinutes:parseInt(u.target.value)||0}}}),className:"w-full px-2 py-1 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm"})]})]})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx($N,{className:"h-6 w-6"}),s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Slack"})]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.slack.enabled,onChange:u=>o({...l,slack:{...l.slack,enabled:u.target.checked}}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Enabled"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Webhook URL"}),s.jsx("input",{type:r?"text":"password",value:l.slack.webhookUrl,onChange:u=>o({...l,slack:{...l.slack,webhookUrl:u.target.value}}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"https://hooks.slack.com/services/..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Castellan URL"}),s.jsx("input",{type:"text",value:l.slack.castellanUrl,onChange:u=>o({...l,slack:{...l.slack,castellanUrl:u.target.value}}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"http://localhost:3000"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Base URL for Castellan instance (used in notification links)"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Default Channel"}),s.jsx("input",{type:"text",value:l.slack.defaultChannel,onChange:u=>o({...l,slack:{...l.slack,defaultChannel:u.target.value}}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"#security-alerts"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Critical Channel"}),s.jsx("input",{type:"text",value:l.slack.criticalChannel,onChange:u=>o({...l,slack:{...l.slack,criticalChannel:u.target.value}}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"#critical-alerts"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Optional"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"High Priority Channel"}),s.jsx("input",{type:"text",value:l.slack.highChannel,onChange:u=>o({...l,slack:{...l.slack,highChannel:u.target.value}}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"#high-alerts"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Optional"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Rate Limit Settings (minutes between alerts)"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Critical"}),s.jsx("input",{type:"number",min:"0",value:l.slack.rateLimitSettings.criticalThrottleMinutes,onChange:u=>o({...l,slack:{...l.slack,rateLimitSettings:{...l.slack.rateLimitSettings,criticalThrottleMinutes:parseInt(u.target.value)||0}}}),className:"w-full px-2 py-1 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-400 mb-1",children:"High"}),s.jsx("input",{type:"number",min:"0",value:l.slack.rateLimitSettings.highThrottleMinutes,onChange:u=>o({...l,slack:{...l.slack,rateLimitSettings:{...l.slack.rateLimitSettings,highThrottleMinutes:parseInt(u.target.value)||0}}}),className:"w-full px-2 py-1 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Medium"}),s.jsx("input",{type:"number",min:"0",value:l.slack.rateLimitSettings.mediumThrottleMinutes,onChange:u=>o({...l,slack:{...l.slack,rateLimitSettings:{...l.slack.rateLimitSettings,mediumThrottleMinutes:parseInt(u.target.value)||0}}}),className:"w-full px-2 py-1 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Low"}),s.jsx("input",{type:"number",min:"0",value:l.slack.rateLimitSettings.lowThrottleMinutes,onChange:u=>o({...l,slack:{...l.slack,rateLimitSettings:{...l.slack.rateLimitSettings,lowThrottleMinutes:parseInt(u.target.value)||0}}}),className:"w-full px-2 py-1 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm"})]})]})]})]})]}),s.jsx(VN,{}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("button",{type:"button",onClick:n,className:"flex items-center gap-2 px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:[r?s.jsx(gh,{className:"h-4 w-4"}):s.jsx(xs,{className:"h-4 w-4"}),r?"Hide":"Show"," Webhook URLs"]}),s.jsxs("button",{type:"submit",disabled:a,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white hover:bg-blue-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(ys,{className:"h-4 w-4"}),a?"Saving...":"Save Configuration"]})]})]})}function QN({template:e,isOpen:t,onClose:r,onSave:n,isNew:a}){const[i,l]=k.useState({name:"",platform:"Teams",type:"SecurityEvent",templateContent:"",isEnabled:!0});if(k.useEffect(()=>{e&&t?l({name:e.name,platform:e.platform,type:e.type,templateContent:e.templateContent,isEnabled:e.isEnabled}):a&&t&&l({name:"",platform:"Teams",type:"SecurityEvent",templateContent:"",isEnabled:!0})},[e,t,a]),!t)return null;const o=()=>{n(i)};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:a?"Create Template":"Edit Template"}),s.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:s.jsx(ga,{className:"h-6 w-6"})})]})}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Template Name"}),s.jsx("input",{type:"text",value:i.name||"",onChange:c=>l({...i,name:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"e.g., Security Alert Template"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Platform"}),s.jsxs("select",{value:i.platform||"Teams",onChange:c=>l({...i,platform:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[s.jsx("option",{value:"Teams",children:"Teams"}),s.jsx("option",{value:"Slack",children:"Slack"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Type"}),s.jsxs("select",{value:i.type||"SecurityEvent",onChange:c=>l({...i,type:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[s.jsx("option",{value:"SecurityEvent",children:"Security Event"}),s.jsx("option",{value:"SystemAlert",children:"System Alert"}),s.jsx("option",{value:"HealthWarning",children:"Health Warning"}),s.jsx("option",{value:"PerformanceAlert",children:"Performance Alert"})]})]})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:i.isEnabled||!1,onChange:c=>l({...i,isEnabled:c.target.checked}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded"}),s.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Enabled"})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Template Content"}),s.jsx("textarea",{value:i.templateContent||"",onChange:c=>l({...i,templateContent:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white font-mono text-sm",rows:12,placeholder:"Enter template content with {{TAGS}}..."}),s.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400 mt-2 space-y-1 bg-gray-50 dark:bg-gray-900/30 p-3 rounded border border-gray-200 dark:border-gray-700",children:[s.jsx("div",{className:"font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"📝 Available Template Variables"}),s.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1",children:[s.jsxs("div",{children:[s.jsxs("span",{className:"font-mono text-blue-600 dark:text-blue-400",children:["{","{"," DATE ","}","}"]})," - Event timestamp"]}),s.jsxs("div",{children:[s.jsxs("span",{className:"font-mono text-blue-600 dark:text-blue-400",children:["{","{"," HOST ","}","}"]})," - Machine hostname"]}),s.jsxs("div",{children:[s.jsxs("span",{className:"font-mono text-blue-600 dark:text-blue-400",children:["{","{"," USER ","}","}"]})," - User account"]}),s.jsxs("div",{children:[s.jsxs("span",{className:"font-mono text-blue-600 dark:text-blue-400",children:["{","{"," EVENT_ID ","}","}"]})," - Event identifier"]}),s.jsxs("div",{children:[s.jsxs("span",{className:"font-mono text-blue-600 dark:text-blue-400",children:["{","{"," SEVERITY ","}","}"]})," - Risk severity"]}),s.jsxs("div",{children:[s.jsxs("span",{className:"font-mono text-blue-600 dark:text-blue-400",children:["{","{"," EVENT_TYPE ","}","}"]})," - Event category"]}),s.jsxs("div",{children:[s.jsxs("span",{className:"font-mono text-blue-600 dark:text-blue-400",children:["{","{"," MACHINE_NAME ","}","}"]})," - System name"]}),s.jsxs("div",{children:[s.jsxs("span",{className:"font-mono text-blue-600 dark:text-blue-400",children:["{","{"," TIMESTAMP ","}","}"]})," - Alert timestamp"]}),s.jsxs("div",{children:[s.jsxs("span",{className:"font-mono text-blue-600 dark:text-blue-400",children:["{","{"," ALERT_ID ","}","}"]})," - Alert identifier"]}),s.jsxs("div",{children:[s.jsxs("span",{className:"font-mono text-blue-600 dark:text-blue-400",children:["{","{"," DETAILS_URL ","}","}"]})," - Dashboard link"]})]}),s.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-300 dark:border-gray-600",children:[s.jsxs("div",{children:[s.jsxs("span",{className:"font-mono text-blue-600 dark:text-blue-400",children:["{","{"," SUMMARY ","}","}"]})," - Detailed event description"]}),s.jsxs("div",{children:[s.jsxs("span",{className:"font-mono text-blue-600 dark:text-blue-400",children:["{","{"," MITRE_TECHNIQUES ","}","}"]})," - MITRE ATT&CK mappings"]}),s.jsxs("div",{children:[s.jsxs("span",{className:"font-mono text-blue-600 dark:text-blue-400",children:["{","{"," RECOMMENDED_ACTIONS ","}","}"]})," - Response guidance"]})]}),s.jsx("div",{className:"mt-2 pt-2 border-t border-gray-300 dark:border-gray-600 font-semibold text-gray-700 dark:text-gray-300",children:"🎨 Formatting Tags"}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{children:[s.jsxs("span",{className:"font-mono text-green-600 dark:text-green-400",children:["{","{"," BOLD:text ","}","}"]})," - Bold formatting"]}),s.jsxs("div",{children:[s.jsxs("span",{className:"font-mono text-green-600 dark:text-green-400",children:["{","{"," LINK:","{","{"," DETAILS_URL ","}","}"," | Click Here ","}","}"]})," - Hyperlink with label"]})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx("button",{onClick:r,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",children:"Cancel"}),s.jsx("button",{onClick:o,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:a?"Create Template":"Save Changes"})]})]})]})})}function VN(){const{token:e}=mt(),t=Ft(),[r,n]=k.useState(!1),[a,i]=k.useState(""),[l,o]=k.useState(""),[c,u]=k.useState(null),[h,d]=k.useState(!1),[g,f]=k.useState(!1),x=Re({queryKey:["notification-templates"],queryFn:_e.getNotificationTemplates,enabled:!!e&&r,staleTime:5*60*1e3,gcTime:30*60*1e3}),b=ct({mutationFn:_=>_e.createNotificationTemplate(_),onSuccess:()=>{t.invalidateQueries({queryKey:["notification-templates"]}),d(!1)}}),j=ct({mutationFn:({id:_,template:F})=>_e.updateNotificationTemplate(_,F),onSuccess:()=>{t.invalidateQueries({queryKey:["notification-templates"]}),d(!1)}}),m=ct({mutationFn:_=>_e.deleteNotificationTemplate(_),onSuccess:()=>{t.invalidateQueries({queryKey:["notification-templates"]})}}),p=ct({mutationFn:({id:_,template:F})=>_e.updateNotificationTemplate(_,F),onSuccess:()=>{t.invalidateQueries({queryKey:["notification-templates"]})}}),y=ct({mutationFn:_e.createDefaultTemplates,onSuccess:()=>{t.invalidateQueries({queryKey:["notification-templates"]})}}),v=x.data||[],E=v.filter(_=>!(l&&_.platform!==l||a&&!_.name.toLowerCase().includes(a.toLowerCase())&&!(_.templateContent||"").toLowerCase().includes(a.toLowerCase()))),C=()=>{u(null),f(!0),d(!0)},M=_=>{u(_),f(!1),d(!0)},O=_=>{g?b.mutate(_):c&&j.mutate({id:c.id,template:_})},U=_=>{confirm(`Delete template "${_.name}"?`)&&m.mutate(_.id)},R=_=>{p.mutate({id:_.id,template:{..._,isEnabled:!_.isEnabled}})};return s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4 cursor-pointer",onClick:()=>n(!r),children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[s.jsx(io,{className:"h-5 w-5"}),"Message Templates",s.jsxs("span",{className:"text-sm font-normal text-gray-500 dark:text-gray-400",children:["(",v.length," templates)"]})]}),s.jsx("button",{type:"button",className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r?s.jsx(_x,{className:"h-5 w-5"}):s.jsx(Cx,{className:"h-5 w-5"})})]}),r&&s.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(fa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search templates...",value:a,onChange:_=>i(_.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm"})]}),s.jsxs("select",{value:l,onChange:_=>o(_.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm",children:[s.jsx("option",{value:"",children:"All Platforms"}),s.jsx("option",{value:"Teams",children:"Teams"}),s.jsx("option",{value:"Slack",children:"Slack"})]}),v.length>0&&s.jsxs("button",{type:"button",onClick:C,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm whitespace-nowrap",children:[s.jsx(bi,{className:"h-4 w-4"}),"New Template"]})]}),x.isLoading&&s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx(En,{className:"h-6 w-6 animate-spin text-blue-600"}),s.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-300",children:"Loading templates..."})]}),!x.isLoading&&v.length===0&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx(io,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"No templates found"}),s.jsx("button",{onClick:()=>y.mutate(),disabled:y.isPending,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:y.isPending?"Creating...":"Create Default Templates"})]}),!x.isLoading&&E.length>0&&s.jsx("div",{className:"space-y-3",children:E.map(_=>s.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${zN[_.platform]}`,children:_.platform}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${UN[_.type]}`,children:_.type}),_.isEnabled?s.jsx(nt,{className:"h-4 w-4 text-green-500"}):s.jsx(Kt,{className:"h-4 w-4 text-gray-400"})]}),s.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-1",children:_.name}),s.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 font-mono bg-white dark:bg-gray-800 p-2 rounded",children:[(_.templateContent||"").substring(0,80),"..."]})]}),s.jsxs("div",{className:"flex space-x-2 ml-4",children:[s.jsx("button",{type:"button",onClick:()=>M(_),className:"p-1 text-gray-600 hover:text-blue-600 dark:text-gray-400 dark:hover:text-blue-400",title:"Edit",children:s.jsx(lj,{className:"h-4 w-4"})}),s.jsx("button",{type:"button",onClick:()=>R(_),className:"p-1 text-gray-600 hover:text-green-600 dark:text-gray-400 dark:hover:text-green-400",title:_.isEnabled?"Disable":"Enable",children:s.jsx(nt,{className:`h-4 w-4 ${_.isEnabled?"text-green-500":"text-gray-400"}`})}),s.jsx("button",{type:"button",onClick:()=>U(_),className:"p-1 text-gray-600 hover:text-red-600 dark:text-gray-400 dark:hover:text-red-400",title:"Delete",children:s.jsx(Li,{className:"h-4 w-4"})})]})]})},_.id))}),!x.isLoading&&v.length>0&&E.length===0&&s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"No templates match your filters"})})]}),s.jsx(QN,{template:c,isOpen:h,onClose:()=>d(!1),onSave:O,isNew:g})]})}function KN({config:e,onSave:t,showApiKeys:r,onToggleApiKeys:n,isSaving:a}){const i={enabled:!1,provider:"Disabled",maxMind:{licenseKey:"",accountId:"",autoUpdate:!1,updateFrequencyDays:7},ipInfo:{apiKey:""}},[l,o]=k.useState(i);k.useEffect(()=>{e&&typeof e.enabled<"u"&&e.maxMind&&e.ipInfo?o({...i,...e,maxMind:{...i.maxMind,...e.maxMind},ipInfo:{...i.ipInfo,...e.ipInfo}}):o(i)},[e]);const c=u=>{u.preventDefault(),t(l)};return s.jsxs("form",{onSubmit:c,className:"space-y-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"General Settings"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.enabled,onChange:u=>o({...l,enabled:u.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Enable IP Enrichment"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Provider"}),s.jsxs("select",{value:l.provider,onChange:u=>o({...l,provider:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[s.jsx("option",{value:"Disabled",children:"Disabled"}),s.jsx("option",{value:"MaxMind",children:"MaxMind GeoIP2"}),s.jsx("option",{value:"IPInfo",children:"IPInfo"})]})]})]})]}),l.provider==="MaxMind"&&s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"MaxMind Configuration"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"License Key"}),s.jsx("input",{type:r?"text":"password",value:l.maxMind.licenseKey,onChange:u=>o({...l,maxMind:{...l.maxMind,licenseKey:u.target.value}}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Enter MaxMind license key"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Account ID"}),s.jsx("input",{type:"text",value:l.maxMind.accountId,onChange:u=>o({...l,maxMind:{...l.maxMind,accountId:u.target.value}}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Enter account ID"})]}),s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.maxMind.autoUpdate,onChange:u=>o({...l,maxMind:{...l.maxMind,autoUpdate:u.target.checked}}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Auto Update"})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Update Frequency (days)"}),s.jsx("input",{type:"number",value:l.maxMind.updateFrequencyDays,onChange:u=>o({...l,maxMind:{...l.maxMind,updateFrequencyDays:parseInt(u.target.value)}}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]})]}),l.provider==="IPInfo"&&s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"IPInfo Configuration"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"API Key"}),s.jsx("input",{type:r?"text":"password",value:l.ipInfo.apiKey,onChange:u=>o({...l,ipInfo:{...l.ipInfo,apiKey:u.target.value}}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Enter IPInfo API key"})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("button",{type:"button",onClick:n,className:"flex items-center gap-2 px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:[r?s.jsx(gh,{className:"h-4 w-4"}):s.jsx(xs,{className:"h-4 w-4"}),r?"Hide":"Show"," API Keys"]}),s.jsxs("button",{type:"submit",disabled:a,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white hover:bg-blue-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(ys,{className:"h-4 w-4"}),a?"Saving...":"Save Configuration"]})]})]})}function YN(){var F,L;const{token:e}=mt(),t=Ft(),[r,n]=k.useState(""),[a,i]=k.useState(""),[l,o]=k.useState(!1),[c,u]=k.useState(null),h={enabled:!1,scheduledScanInterval:"1.00:00:00",defaultScanType:0,quarantineThreats:!1,quarantineDirectory:"C:\\Castellan\\Quarantine",maxFileSizeMB:100,maxConcurrentFiles:10,notificationThreshold:2,excludedDirectories:[],excludedExtensions:[],enableRealTimeProtection:!1},[d,g]=k.useState(h),f=Re({queryKey:["threat-scanner-config"],queryFn:async()=>{console.log("[ThreatScanner] Fetching config from API...");const P=await fetch(`${fe}/scheduledscan/config`,{headers:{Authorization:`Bearer ${e}`}});if(!P.ok)throw new Error("Failed to fetch scanner config");const I=await P.json(),B=I.data||I;console.log("[ThreatScanner] Raw config from API:",B);const G={enabled:B.enabled??!1,scheduledScanInterval:B.scheduledScanInterval||"1.00:00:00",defaultScanType:B.defaultScanType??0,quarantineThreats:B.quarantineThreats??!1,quarantineDirectory:B.quarantineDirectory||"",maxFileSizeMB:B.maxFileSizeMB??100,maxConcurrentFiles:B.maxConcurrentFiles??10,notificationThreshold:B.notificationThreshold??2,excludedDirectories:B.excludedDirectories||[],excludedExtensions:B.excludedExtensions||[],enableRealTimeProtection:B.enableRealTimeProtection??!1};return console.log("[ThreatScanner] Normalized config:",G),G},enabled:!!e});k.useEffect(()=>{f.data&&(console.log("[ThreatScanner] useEffect updating formData with:",f.data),g(f.data))},[f.data]);const x=Re({queryKey:["threat-scanner-status"],queryFn:async()=>{const P=await fetch(`${fe}/scheduledscan/status`,{headers:{Authorization:`Bearer ${e}`}});if(!P.ok)throw new Error("Failed to fetch scanner status");const I=await P.json();return I.data||I},enabled:!!e,refetchInterval:3e4}),b=ct({mutationFn:async P=>{console.log("[ThreatScanner] Saving config:",P);const I={Enabled:P.enabled,ScheduledScanInterval:P.scheduledScanInterval,DefaultScanType:P.defaultScanType,QuarantineThreats:P.quarantineThreats,QuarantineDirectory:P.quarantineDirectory,MaxFileSizeMB:P.maxFileSizeMB,MaxConcurrentFiles:P.maxConcurrentFiles,NotificationThreshold:P.notificationThreshold,ExcludedDirectories:P.excludedDirectories,ExcludedExtensions:P.excludedExtensions,EnableRealTimeProtection:P.enableRealTimeProtection};console.log("[ThreatScanner] Sending to backend:",I);const B=await fetch(`${fe}/scheduledscan/config`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify(I)});if(console.log("[ThreatScanner] Response status:",B.status),!B.ok){const T=await B.text();throw console.error("[ThreatScanner] Save failed:",T),new Error("Failed to save configuration")}const G=await B.json();return console.log("[ThreatScanner] Save successful, response:",G),G},onSuccess:()=>{console.log("[ThreatScanner] Save mutation onSuccess, invalidating queries..."),t.invalidateQueries({queryKey:["threat-scanner-config"]}),o(!0),u(null),setTimeout(()=>o(!1),3e3)},onError:P=>{console.error("[ThreatScanner] Save mutation onError:",P),u(P.message),o(!1)}}),j=x.data||{isEnabled:!1,lastScanTime:null,nextScanTime:null,currentStatus:"Idle"},m=P=>{if(!P)return{days:1,hours:0};const I=P.split(":");if(I.length===3){const[B,G]=I[0].split(".");return{days:parseInt(B||"0",10),hours:parseInt(I[0].includes(".")?G:I[0],10)}}return{days:1,hours:0}},p=(P,I)=>`${P}.${I.toString().padStart(2,"0")}:00:00`,[y,v]=k.useState(m(d.scheduledScanInterval||"1.00:00:00").days),[E,C]=k.useState(m(d.scheduledScanInterval||"1.00:00:00").hours);k.useEffect(()=>{const P=m(d.scheduledScanInterval);v(P.days),C(P.hours)},[d.scheduledScanInterval]);const M=P=>{P.preventDefault();const I={...d,scheduledScanInterval:p(y,E)};b.mutate(I)},O=()=>{r.trim()&&(g({...d,excludedDirectories:[...d.excludedDirectories||[],r.trim()]}),n(""))},U=P=>{g({...d,excludedDirectories:d.excludedDirectories.filter(I=>I!==P)})},R=()=>{if(a.trim()){const P=a.trim().startsWith(".")?a.trim():`.${a.trim()}`;g({...d,excludedExtensions:[...d.excludedExtensions||[],P]}),i("")}},_=P=>{g({...d,excludedExtensions:d.excludedExtensions.filter(I=>I!==P)})};return f.isLoading||x.isLoading?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):f.isError||x.isError?s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 flex items-start gap-3",children:[s.jsx(Kt,{className:"h-5 w-5 text-red-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-red-800 font-medium",children:"Failed to load configuration"}),s.jsx("p",{className:"text-red-700 text-sm mt-1",children:((F=f.error)==null?void 0:F.message)||((L=x.error)==null?void 0:L.message)})]})]}):s.jsxs("form",{onSubmit:M,className:"space-y-6",children:[l&&s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-center gap-2",children:[s.jsx(fh,{className:"h-5 w-5 text-green-600"}),s.jsx("span",{className:"text-green-800 font-medium",children:"Configuration saved successfully!"})]}),c&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(Kt,{className:"h-5 w-5 text-red-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-red-800 font-medium",children:"Failed to save configuration"}),s.jsx("p",{className:"text-red-700 text-sm mt-1",children:c})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Scanner Status"}),s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${j.currentStatus==="Running"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-200":j.isEnabled?"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-200":"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300"}`,children:j.currentStatus||"Idle"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Last Scan"}),s.jsx("p",{className:"text-gray-900 dark:text-white",children:j.lastScanTime?new Date(j.lastScanTime).toLocaleString():"Never"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Next Scan"}),s.jsx("p",{className:"text-gray-900 dark:text-white",children:j.nextScanTime?new Date(j.nextScanTime).toLocaleString():"Not scheduled"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Scheduler Status"}),s.jsx("p",{className:"text-gray-900 dark:text-white",children:j.isEnabled?"Enabled":"Disabled"})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Scheduled Scans"}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:d.enabled,onChange:P=>g({...d,enabled:P.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Enabled"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Scan Interval (Days)"}),s.jsx("input",{type:"number",min:"0",max:"365",value:y,onChange:P=>v(parseInt(P.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Scan Interval (Hours)"}),s.jsx("input",{type:"number",min:"0",max:"23",value:E,onChange:P=>C(parseInt(P.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Default Scan Type"}),s.jsxs("select",{value:d.defaultScanType,onChange:P=>g({...d,defaultScanType:parseInt(P.target.value)}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[s.jsx("option",{value:"0",children:"Quick Scan"}),s.jsx("option",{value:"1",children:"Full Scan"})]})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Quarantine Settings"}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:d.quarantineThreats,onChange:P=>g({...d,quarantineThreats:P.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Enabled"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Quarantine Directory"}),s.jsx("input",{type:"text",value:d.quarantineDirectory||"",onChange:P=>g({...d,quarantineDirectory:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"C:\\Castellan\\Quarantine"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Suspicious files will be moved to this directory for analysis"})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Performance Settings"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Max Concurrent Files"}),s.jsx("input",{type:"number",min:"1",max:"100",value:d.maxConcurrentFiles||10,onChange:P=>g({...d,maxConcurrentFiles:parseInt(P.target.value)}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Number of files to scan simultaneously"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Max File Size (MB)"}),s.jsx("input",{type:"number",min:"1",max:"1000",value:d.maxFileSizeMB||100,onChange:P=>g({...d,maxFileSizeMB:parseInt(P.target.value)}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Skip files larger than this size"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Notification Threshold"}),s.jsx("input",{type:"number",min:"1",max:"100",value:d.notificationThreshold||10,onChange:P=>g({...d,notificationThreshold:parseInt(P.target.value)}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Notify when threats exceed this count"})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Scan Exclusions"}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Excluded Directories"}),s.jsxs("div",{className:"flex gap-2 mb-3",children:[s.jsx("input",{type:"text",value:r,onChange:P=>n(P.target.value),onKeyPress:P=>P.key==="Enter"&&O(),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"C:\\Windows\\System32"}),s.jsxs("button",{type:"button",onClick:O,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white hover:bg-blue-700 rounded-lg",children:[s.jsx(bi,{className:"h-4 w-4"}),"Add"]})]}),s.jsxs("div",{className:"space-y-2",children:[(d.excludedDirectories||[]).map((P,I)=>s.jsxs("div",{className:"flex items-center justify-between bg-gray-50 dark:bg-gray-700 px-3 py-2 rounded-lg",children:[s.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300 font-mono",children:P}),s.jsx("button",{type:"button",onClick:()=>U(P),className:"text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300",children:s.jsx(Li,{className:"h-4 w-4"})})]},I)),(!d.excludedDirectories||d.excludedDirectories.length===0)&&s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 italic",children:"No excluded directories"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Excluded File Extensions"}),s.jsxs("div",{className:"flex gap-2 mb-3",children:[s.jsx("input",{type:"text",value:a,onChange:P=>i(P.target.value),onKeyPress:P=>P.key==="Enter"&&R(),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:".tmp, .log"}),s.jsxs("button",{type:"button",onClick:R,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white hover:bg-blue-700 rounded-lg",children:[s.jsx(bi,{className:"h-4 w-4"}),"Add"]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[(d.excludedExtensions||[]).map((P,I)=>s.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 dark:bg-gray-700 px-3 py-1 rounded-full",children:[s.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300 font-mono",children:P}),s.jsx("button",{type:"button",onClick:()=>_(P),className:"text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300",children:s.jsx(ga,{className:"h-3 w-3"})})]},I)),(!d.excludedExtensions||d.excludedExtensions.length===0)&&s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 italic",children:"No excluded extensions"})]})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsxs("button",{type:"submit",disabled:b.isPending,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white hover:bg-blue-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(ys,{className:"h-4 w-4"}),b.isPending?"Saving...":"Save Configuration"]})})]})}function GN({onSaveSuccess:e}){var v,E,C,M,O,U,R,_,F,L,P;const{token:t}=mt(),r=Ft(),n=gt(),a=Re({queryKey:["mitre-statistics"],queryFn:async()=>{const I=await fetch(`${fe}/mitre/statistics`,{headers:{Authorization:`Bearer ${t}`}});if(!I.ok)throw new Error("Failed to fetch statistics");return await I.json()},enabled:!!t}),i=Re({queryKey:["mitre-config"],queryFn:async()=>{const I=await fetch(`${fe}/mitre/config`,{headers:{Authorization:`Bearer ${t}`}});if(!I.ok)throw new Error("Failed to fetch MITRE config");const B=await I.json();return B.data||B},enabled:!!t}),l=ct({mutationFn:async I=>{const B=await fetch(`${fe}/mitre/config`,{method:"PUT",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify(I)});if(!B.ok)throw new Error("Failed to save configuration");return B.json()},onSuccess:()=>{r.invalidateQueries({queryKey:["mitre-config"]}),e==null||e()}}),o=i.data||{autoUpdate:{enabled:!1,updateFrequencyDays:30,lastUpdate:null,nextUpdate:null}},c=a.data||{totalTechniques:0,lastUpdated:null},[u,h]=k.useState(((v=o.autoUpdate)==null?void 0:v.enabled)||!1),[d,g]=k.useState(((E=o.autoUpdate)==null?void 0:E.updateFrequencyDays)||30);k.useEffect(()=>{var I,B;h(((I=o.autoUpdate)==null?void 0:I.enabled)||!1),g(((B=o.autoUpdate)==null?void 0:B.updateFrequencyDays)||30)},[o]);const f=()=>{var B,G;const I={autoUpdate:{enabled:u,updateFrequencyDays:d,lastUpdate:(B=o.autoUpdate)==null?void 0:B.lastUpdate,nextUpdate:(G=o.autoUpdate)==null?void 0:G.nextUpdate}};l.mutate(I)},b=v0({filters:{mutationKey:["mitre-import"],status:"pending"}}).length>0,j=ct({mutationKey:["mitre-import"],mutationFn:async()=>{const I=await fetch(`${fe}/mitre/import`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!I.ok)throw new Error("Failed to import MITRE techniques");return I.json()},onSuccess:()=>{r.invalidateQueries({queryKey:["mitre-statistics"]}),r.invalidateQueries({queryKey:["mitre-config"]})}}),m=()=>{j.mutate()},p=v0({filters:{mutationKey:["mitre-import"]},select:I=>({status:I.state.status,data:I.state.data,error:I.state.error})}),y=p[p.length-1];return i.isLoading||a.isLoading?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Database Statistics"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:c.totalTechniques||0}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Total Techniques"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Last Updated"}),s.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:c.lastUpdated?new Date(c.lastUpdated).toLocaleString():"Never"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Next Update"}),s.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:(C=o.autoUpdate)!=null&&C.nextUpdate?new Date(o.autoUpdate.nextUpdate).toLocaleString():"Not scheduled"})]})]}),c.totalTechniques===0&&s.jsx("div",{className:"mt-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(yi,{className:"h-5 w-5 text-blue-600 mr-2 mt-0.5"}),s.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-300",children:'The MITRE database appears to be empty. Click "Import MITRE Techniques" to download the latest techniques from the official source.'})]})})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Auto Update Settings"}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:u,onChange:I=>h(I.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Enabled"})]})]}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Update Frequency (days)"}),s.jsx("input",{type:"number",min:"1",max:"365",value:d,onChange:I=>g(parseInt(I.target.value)||30),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Automatically check for and import new MITRE ATT&CK techniques every N days"})]})})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Manual Import"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Import MITRE ATT&CK techniques from the official MITRE repository. This will download and process all current techniques and sub-techniques."}),s.jsx("button",{onClick:m,disabled:b,className:"flex items-center gap-2 px-6 py-3 bg-green-600 text-white hover:bg-green-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium",children:b?s.jsxs(s.Fragment,{children:[s.jsx(vi,{className:"h-5 w-5 animate-spin"}),"Importing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Bu,{className:"h-5 w-5"}),"Import MITRE Techniques"]})}),y&&y.status==="success"&&y.data?s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(fh,{className:"h-5 w-5 text-green-600 mr-2"}),s.jsx("h3",{className:"text-lg font-medium text-green-800",children:"Import Successful!"})]}),s.jsxs("div",{className:"mt-2 text-sm text-gray-700",children:[s.jsxs("p",{children:["• ",((O=(M=y.data)==null?void 0:M.result)==null?void 0:O.techniquesImported)||0," new techniques imported"]}),s.jsxs("p",{children:["• ",((R=(U=y.data)==null?void 0:U.result)==null?void 0:R.techniquesUpdated)||0," existing techniques updated"]}),((L=(F=(_=y.data)==null?void 0:_.result)==null?void 0:F.errors)==null?void 0:L.length)>0&&s.jsxs("p",{className:"text-yellow-700",children:["• ",y.data.result.errors.length," techniques had errors"]})]})]}):null,y&&y.status==="error"&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Kt,{className:"h-5 w-5 text-red-600 mr-2"}),s.jsx("h3",{className:"text-lg font-medium text-red-800",children:"Import Failed"})]}),s.jsx("p",{className:"mt-2 text-sm text-red-700",children:((P=y.error)==null?void 0:P.message)||"Failed to import techniques"})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Quick Links"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:()=>n("/mitre-attack"),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg transition-colors",children:[s.jsx(Lo,{className:"h-4 w-4"}),"Browse Techniques"]}),s.jsxs("button",{onClick:()=>window.open("https://attack.mitre.org/","_blank"),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg transition-colors",children:[s.jsx(yi,{className:"h-4 w-4"}),"MITRE ATT&CK Framework"]})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsxs("button",{onClick:f,disabled:l.isPending,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white hover:bg-blue-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(ys,{className:"h-4 w-4"}),l.isPending?"Saving...":"Save Configuration"]})})]})}const ka={async sendMessage(e){const t=localStorage.getItem("auth_token"),r=new AbortController,n=setTimeout(()=>r.abort(),12e4);try{const a=await fetch(`${fe}/chat/message`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(e),signal:r.signal});if(clearTimeout(n),!a.ok){const l=await a.text();throw new Error(`Failed to send message: ${a.statusText} - ${l}`)}return await a.json()}catch(a){throw clearTimeout(n),a.name==="AbortError"?new Error("Request timeout - the AI is taking too long to respond. Please try again."):a}},async getConversations(){const e=localStorage.getItem("auth_token"),t=await fetch(`${fe}/chat/conversations`,{method:"GET",headers:{Authorization:`Bearer ${e}`}});if(!t.ok)throw new Error(`Failed to get conversations: ${t.statusText}`);const r=await t.json();return Array.isArray(r)?r:r.data||[]},async getConversation(e){const t=localStorage.getItem("auth_token"),r=await fetch(`${fe}/chat/conversations/${e}`,{method:"GET",headers:{Authorization:`Bearer ${t}`}});if(!r.ok)throw new Error(`Failed to get conversation: ${r.statusText}`);return await r.json()},async createConversation(){const e=localStorage.getItem("auth_token"),t=await fetch(`${fe}/chat/conversations`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({title:"New Conversation"})});if(!t.ok)throw new Error(`Failed to create conversation: ${t.statusText}`);return t.json()},async deleteConversation(e){const t=localStorage.getItem("auth_token"),r=await fetch(`${fe}/chat/conversations/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}});if(!r.ok)throw new Error(`Failed to delete conversation: ${r.statusText}`)},async archiveConversation(e){const t=localStorage.getItem("auth_token"),r=await fetch(`${fe}/chat/conversations/${e}/archive`,{method:"POST",headers:{Authorization:`Bearer ${t}`}});if(!r.ok)throw new Error(`Failed to archive conversation: ${r.statusText}`)},async getSuggestedFollowups(e){const t=localStorage.getItem("auth_token"),r=await fetch(`${fe}/chat/conversations/${e}/suggested-followups`,{method:"GET",headers:{Authorization:`Bearer ${t}`}});if(!r.ok)throw new Error(`Failed to get suggested followups: ${r.statusText}`);const n=await r.json();return Array.isArray(n)?n:n.suggestions||[]},async submitFeedback(e,t,r){const n=localStorage.getItem("auth_token"),a=await fetch(`${fe}/chat/conversations/${e}/feedback`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({rating:t,comment:r})});if(!a.ok)throw new Error(`Failed to submit feedback: ${a.statusText}`)}};var We=(e=>(e.Pending="Pending",e.Executed="Executed",e.RolledBack="RolledBack",e.Failed="Failed",e.Expired="Expired",e))(We||{}),nr=(e=>(e.BlockIP="BlockIP",e.IsolateHost="IsolateHost",e.QuarantineFile="QuarantineFile",e.AddToWatchlist="AddToWatchlist",e.CreateTicket="CreateTicket",e))(nr||{});const Cl={async suggestAction(e){const t=localStorage.getItem("auth_token"),r=await fetch(`${fe}/actions/suggest`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(e)});if(!r.ok){const n=await r.text();throw new Error(`Failed to suggest action: ${r.statusText} - ${n}`)}return r.json()},async executeAction(e){const t=localStorage.getItem("auth_token"),r=await fetch(`${fe}/actions/${e}/execute`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}});if(!r.ok){const n=await r.text();throw new Error(`Failed to execute action: ${r.statusText} - ${n}`)}return r.json()},async rollbackAction(e,t={}){const r=localStorage.getItem("auth_token"),n=await fetch(`${fe}/actions/${e}/rollback`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)});if(!n.ok){const a=await n.text();throw new Error(`Failed to rollback action: ${n.statusText} - ${a}`)}return n.json()},async getPendingActions(e){const t=localStorage.getItem("auth_token"),r=await fetch(`${fe}/actions/pending?conversationId=${encodeURIComponent(e)}`,{method:"GET",headers:{Authorization:`Bearer ${t}`}});if(!r.ok)throw new Error(`Failed to get pending actions: ${r.statusText}`);const n=await r.json();return Array.isArray(n)?n:[]},async getActionHistory(e){const t=localStorage.getItem("auth_token"),r=await fetch(`${fe}/actions/history?conversationId=${encodeURIComponent(e)}`,{method:"GET",headers:{Authorization:`Bearer ${t}`}});if(!r.ok)throw new Error(`Failed to get action history: ${r.statusText}`);const n=await r.json();return Array.isArray(n)?n:[]},async getAction(e){const t=localStorage.getItem("auth_token"),r=await fetch(`${fe}/actions/${e}`,{method:"GET",headers:{Authorization:`Bearer ${t}`}});if(!r.ok)throw new Error(`Failed to get action: ${r.statusText}`);return r.json()},async canRollback(e){const t=localStorage.getItem("auth_token"),r=await fetch(`${fe}/actions/${e}/can-rollback`,{method:"GET",headers:{Authorization:`Bearer ${t}`}});if(!r.ok)throw new Error(`Failed to check rollback status: ${r.statusText}`);return r.json()},async getStatistics(){const e=localStorage.getItem("auth_token"),t=await fetch(`${fe}/actions/statistics`,{method:"GET",headers:{Authorization:`Bearer ${e}`}});if(!t.ok)throw new Error(`Failed to get action statistics: ${t.statusText}`);return t.json()}};function XN(e,t){const r={};return(e[e.length-1]===""?[...e,""]:e).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}const JN=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,ZN=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,e2={};function M0(e,t){return(e2.jsx?ZN:JN).test(e)}const t2=/[ \t\n\f\r]/g;function r2(e){return typeof e=="object"?e.type==="text"?R0(e.value):!1:R0(e)}function R0(e){return e.replace(t2,"")===""}class Fi{constructor(t,r,n){this.normal=r,this.property=t,n&&(this.space=n)}}Fi.prototype.normal={};Fi.prototype.property={};Fi.prototype.space=void 0;function Qx(e,t){const r={},n={};for(const a of e)Object.assign(r,a.property),Object.assign(n,a.normal);return new Fi(r,n,t)}function Ku(e){return e.toLowerCase()}class Ct{constructor(t,r){this.attribute=r,this.property=t}}Ct.prototype.attribute="";Ct.prototype.booleanish=!1;Ct.prototype.boolean=!1;Ct.prototype.commaOrSpaceSeparated=!1;Ct.prototype.commaSeparated=!1;Ct.prototype.defined=!1;Ct.prototype.mustUseProperty=!1;Ct.prototype.number=!1;Ct.prototype.overloadedBoolean=!1;Ct.prototype.property="";Ct.prototype.spaceSeparated=!1;Ct.prototype.space=void 0;let n2=0;const ee=pa(),Ae=pa(),Yu=pa(),z=pa(),xe=pa(),Ba=pa(),Tt=pa();function pa(){return 2**++n2}const Gu=Object.freeze(Object.defineProperty({__proto__:null,boolean:ee,booleanish:Ae,commaOrSpaceSeparated:Tt,commaSeparated:Ba,number:z,overloadedBoolean:Yu,spaceSeparated:xe},Symbol.toStringTag,{value:"Module"})),xc=Object.keys(Gu);class wh extends Ct{constructor(t,r,n,a){let i=-1;if(super(t,r),D0(this,"space",a),typeof n=="number")for(;++i<xc.length;){const l=xc[i];D0(this,xc[i],(n&Gu[l])===Gu[l])}}}wh.prototype.defined=!0;function D0(e,t,r){r&&(e[t]=r)}function bs(e){const t={},r={};for(const[n,a]of Object.entries(e.properties)){const i=new wh(n,e.transform(e.attributes||{},n),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(n)&&(i.mustUseProperty=!0),t[n]=i,r[Ku(n)]=n,r[Ku(i.attribute)]=n}return new Fi(t,r,e.space)}const Vx=bs({properties:{ariaActiveDescendant:null,ariaAtomic:Ae,ariaAutoComplete:null,ariaBusy:Ae,ariaChecked:Ae,ariaColCount:z,ariaColIndex:z,ariaColSpan:z,ariaControls:xe,ariaCurrent:null,ariaDescribedBy:xe,ariaDetails:null,ariaDisabled:Ae,ariaDropEffect:xe,ariaErrorMessage:null,ariaExpanded:Ae,ariaFlowTo:xe,ariaGrabbed:Ae,ariaHasPopup:null,ariaHidden:Ae,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:xe,ariaLevel:z,ariaLive:null,ariaModal:Ae,ariaMultiLine:Ae,ariaMultiSelectable:Ae,ariaOrientation:null,ariaOwns:xe,ariaPlaceholder:null,ariaPosInSet:z,ariaPressed:Ae,ariaReadOnly:Ae,ariaRelevant:null,ariaRequired:Ae,ariaRoleDescription:xe,ariaRowCount:z,ariaRowIndex:z,ariaRowSpan:z,ariaSelected:Ae,ariaSetSize:z,ariaSort:null,ariaValueMax:z,ariaValueMin:z,ariaValueNow:z,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function Kx(e,t){return t in e?e[t]:t}function Yx(e,t){return Kx(e,t.toLowerCase())}const a2=bs({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Ba,acceptCharset:xe,accessKey:xe,action:null,allow:null,allowFullScreen:ee,allowPaymentRequest:ee,allowUserMedia:ee,alt:null,as:null,async:ee,autoCapitalize:null,autoComplete:xe,autoFocus:ee,autoPlay:ee,blocking:xe,capture:null,charSet:null,checked:ee,cite:null,className:xe,cols:z,colSpan:null,content:null,contentEditable:Ae,controls:ee,controlsList:xe,coords:z|Ba,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ee,defer:ee,dir:null,dirName:null,disabled:ee,download:Yu,draggable:Ae,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ee,formTarget:null,headers:xe,height:z,hidden:Yu,high:z,href:null,hrefLang:null,htmlFor:xe,httpEquiv:xe,id:null,imageSizes:null,imageSrcSet:null,inert:ee,inputMode:null,integrity:null,is:null,isMap:ee,itemId:null,itemProp:xe,itemRef:xe,itemScope:ee,itemType:xe,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ee,low:z,manifest:null,max:null,maxLength:z,media:null,method:null,min:null,minLength:z,multiple:ee,muted:ee,name:null,nonce:null,noModule:ee,noValidate:ee,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ee,optimum:z,pattern:null,ping:xe,placeholder:null,playsInline:ee,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ee,referrerPolicy:null,rel:xe,required:ee,reversed:ee,rows:z,rowSpan:z,sandbox:xe,scope:null,scoped:ee,seamless:ee,selected:ee,shadowRootClonable:ee,shadowRootDelegatesFocus:ee,shadowRootMode:null,shape:null,size:z,sizes:null,slot:null,span:z,spellCheck:Ae,src:null,srcDoc:null,srcLang:null,srcSet:null,start:z,step:null,style:null,tabIndex:z,target:null,title:null,translate:null,type:null,typeMustMatch:ee,useMap:null,value:Ae,width:z,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:xe,axis:null,background:null,bgColor:null,border:z,borderColor:null,bottomMargin:z,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ee,declare:ee,event:null,face:null,frame:null,frameBorder:null,hSpace:z,leftMargin:z,link:null,longDesc:null,lowSrc:null,marginHeight:z,marginWidth:z,noResize:ee,noHref:ee,noShade:ee,noWrap:ee,object:null,profile:null,prompt:null,rev:null,rightMargin:z,rules:null,scheme:null,scrolling:Ae,standby:null,summary:null,text:null,topMargin:z,valueType:null,version:null,vAlign:null,vLink:null,vSpace:z,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ee,disableRemotePlayback:ee,prefix:null,property:null,results:z,security:null,unselectable:null},space:"html",transform:Yx}),s2=bs({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Tt,accentHeight:z,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:z,amplitude:z,arabicForm:null,ascent:z,attributeName:null,attributeType:null,azimuth:z,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:z,by:null,calcMode:null,capHeight:z,className:xe,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:z,diffuseConstant:z,direction:null,display:null,dur:null,divisor:z,dominantBaseline:null,download:ee,dx:null,dy:null,edgeMode:null,editable:null,elevation:z,enableBackground:null,end:null,event:null,exponent:z,externalResourcesRequired:null,fill:null,fillOpacity:z,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Ba,g2:Ba,glyphName:Ba,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:z,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:z,horizOriginX:z,horizOriginY:z,id:null,ideographic:z,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:z,k:z,k1:z,k2:z,k3:z,k4:z,kernelMatrix:Tt,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:z,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:z,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:z,overlineThickness:z,paintOrder:null,panose1:null,path:null,pathLength:z,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:xe,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:z,pointsAtY:z,pointsAtZ:z,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Tt,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Tt,rev:Tt,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Tt,requiredFeatures:Tt,requiredFonts:Tt,requiredFormats:Tt,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:z,specularExponent:z,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:z,strikethroughThickness:z,string:null,stroke:null,strokeDashArray:Tt,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:z,strokeOpacity:z,strokeWidth:null,style:null,surfaceScale:z,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Tt,tabIndex:z,tableValues:null,target:null,targetX:z,targetY:z,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Tt,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:z,underlineThickness:z,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:z,values:null,vAlphabetic:z,vMathematical:z,vectorEffect:null,vHanging:z,vIdeographic:z,version:null,vertAdvY:z,vertOriginX:z,vertOriginY:z,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:z,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Kx}),Gx=bs({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),Xx=bs({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Yx}),Jx=bs({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),i2={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},l2=/[A-Z]/g,L0=/-[a-z]/g,o2=/^data[-\w.:]+$/i;function c2(e,t){const r=Ku(t);let n=t,a=Ct;if(r in e.normal)return e.property[e.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&o2.test(t)){if(t.charAt(4)==="-"){const i=t.slice(5).replace(L0,d2);n="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=t.slice(4);if(!L0.test(i)){let l=i.replace(l2,u2);l.charAt(0)!=="-"&&(l="-"+l),t="data"+l}}a=wh}return new a(n,t)}function u2(e){return"-"+e.toLowerCase()}function d2(e){return e.charAt(1).toUpperCase()}const h2=Qx([Vx,a2,Gx,Xx,Jx],"html"),jh=Qx([Vx,s2,Gx,Xx,Jx],"svg");function f2(e){return e.join(" ").trim()}var Nh={},A0=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,g2=/\n/g,m2=/^\s*/,p2=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,x2=/^:\s*/,y2=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,b2=/^[;\s]*/,v2=/^\s+|\s+$/g,k2=`
`,O0="/",F0="*",Fn="",w2="comment",j2="declaration",N2=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var r=1,n=1;function a(x){var b=x.match(g2);b&&(r+=b.length);var j=x.lastIndexOf(k2);n=~j?x.length-j:n+x.length}function i(){var x={line:r,column:n};return function(b){return b.position=new l(x),u(),b}}function l(x){this.start=x,this.end={line:r,column:n},this.source=t.source}l.prototype.content=e;function o(x){var b=new Error(t.source+":"+r+":"+n+": "+x);if(b.reason=x,b.filename=t.source,b.line=r,b.column=n,b.source=e,!t.silent)throw b}function c(x){var b=x.exec(e);if(b){var j=b[0];return a(j),e=e.slice(j.length),b}}function u(){c(m2)}function h(x){var b;for(x=x||[];b=d();)b!==!1&&x.push(b);return x}function d(){var x=i();if(!(O0!=e.charAt(0)||F0!=e.charAt(1))){for(var b=2;Fn!=e.charAt(b)&&(F0!=e.charAt(b)||O0!=e.charAt(b+1));)++b;if(b+=2,Fn===e.charAt(b-1))return o("End of comment missing");var j=e.slice(2,b-2);return n+=2,a(j),e=e.slice(b),n+=2,x({type:w2,comment:j})}}function g(){var x=i(),b=c(p2);if(b){if(d(),!c(x2))return o("property missing ':'");var j=c(y2),m=x({type:j2,property:$0(b[0].replace(A0,Fn)),value:j?$0(j[0].replace(A0,Fn)):Fn});return c(b2),m}}function f(){var x=[];h(x);for(var b;b=g();)b!==!1&&(x.push(b),h(x));return x}return u(),f()};function $0(e){return e?e.replace(v2,Fn):Fn}var S2=Il&&Il.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Nh,"__esModule",{value:!0});Nh.default=E2;const C2=S2(N2);function E2(e,t){let r=null;if(!e||typeof e!="string")return r;const n=(0,C2.default)(e),a=typeof t=="function";return n.forEach(i=>{if(i.type!=="declaration")return;const{property:l,value:o}=i;a?t(l,o,i):o&&(r=r||{},r[l]=o)}),r}var Oo={};Object.defineProperty(Oo,"__esModule",{value:!0});Oo.camelCase=void 0;var _2=/^--[a-zA-Z0-9_-]+$/,T2=/-([a-z])/g,I2=/^[^-]+$/,P2=/^-(webkit|moz|ms|o|khtml)-/,M2=/^-(ms)-/,R2=function(e){return!e||I2.test(e)||_2.test(e)},D2=function(e,t){return t.toUpperCase()},z0=function(e,t){return"".concat(t,"-")},L2=function(e,t){return t===void 0&&(t={}),R2(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(M2,z0):e=e.replace(P2,z0),e.replace(T2,D2))};Oo.camelCase=L2;var A2=Il&&Il.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},O2=A2(Nh),F2=Oo;function Xu(e,t){var r={};return!e||typeof e!="string"||(0,O2.default)(e,function(n,a){n&&a&&(r[(0,F2.camelCase)(n,t)]=a)}),r}Xu.default=Xu;var $2=Xu;const z2=ld($2),Zx=ey("end"),Sh=ey("start");function ey(e){return t;function t(r){const n=r&&r.position&&r.position[e]||{};if(typeof n.line=="number"&&n.line>0&&typeof n.column=="number"&&n.column>0)return{line:n.line,column:n.column,offset:typeof n.offset=="number"&&n.offset>-1?n.offset:void 0}}}function U2(e){const t=Sh(e),r=Zx(e);if(t&&r)return{start:t,end:r}}function Ys(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?U0(e.position):"start"in e||"end"in e?U0(e):"line"in e||"column"in e?Ju(e):""}function Ju(e){return B0(e&&e.line)+":"+B0(e&&e.column)}function U0(e){return Ju(e&&e.start)+"-"+Ju(e&&e.end)}function B0(e){return e&&typeof e=="number"?e:1}class at extends Error{constructor(t,r,n){super(),typeof r=="string"&&(n=r,r=void 0);let a="",i={},l=!1;if(r&&("line"in r&&"column"in r?i={place:r}:"start"in r&&"end"in r?i={place:r}:"type"in r?i={ancestors:[r],place:r.position}:i={...r}),typeof t=="string"?a=t:!i.cause&&t&&(l=!0,a=t.message,i.cause=t),!i.ruleId&&!i.source&&typeof n=="string"){const c=n.indexOf(":");c===-1?i.ruleId=n:(i.source=n.slice(0,c),i.ruleId=n.slice(c+1))}if(!i.place&&i.ancestors&&i.ancestors){const c=i.ancestors[i.ancestors.length-1];c&&(i.place=c.position)}const o=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=a,this.line=o?o.line:void 0,this.name=Ys(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=l&&i.cause&&typeof i.cause.stack=="string"?i.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}at.prototype.file="";at.prototype.name="";at.prototype.reason="";at.prototype.message="";at.prototype.stack="";at.prototype.column=void 0;at.prototype.line=void 0;at.prototype.ancestors=void 0;at.prototype.cause=void 0;at.prototype.fatal=void 0;at.prototype.place=void 0;at.prototype.ruleId=void 0;at.prototype.source=void 0;const Ch={}.hasOwnProperty,B2=new Map,H2=/[A-Z]/g,q2=new Set(["table","tbody","thead","tfoot","tr"]),W2=new Set(["td","th"]),ty="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Q2(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const r=t.filePath||void 0;let n;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");n=eS(r,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");n=Z2(r,t.jsx,t.jsxs)}const a={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:n,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:r,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?jh:h2,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},i=ry(a,e,void 0);return i&&typeof i!="string"?i:a.create(e,a.Fragment,{children:i||void 0},void 0)}function ry(e,t,r){if(t.type==="element")return V2(e,t,r);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return K2(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return G2(e,t,r);if(t.type==="mdxjsEsm")return Y2(e,t);if(t.type==="root")return X2(e,t,r);if(t.type==="text")return J2(e,t)}function V2(e,t,r){const n=e.schema;let a=n;t.tagName.toLowerCase()==="svg"&&n.space==="html"&&(a=jh,e.schema=a),e.ancestors.push(t);const i=ay(e,t.tagName,!1),l=tS(e,t);let o=_h(e,t);return q2.has(t.tagName)&&(o=o.filter(function(c){return typeof c=="string"?!r2(c):!0})),ny(e,l,i,t),Eh(l,o),e.ancestors.pop(),e.schema=n,e.create(t,i,l,r)}function K2(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}ji(e,t.position)}function Y2(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);ji(e,t.position)}function G2(e,t,r){const n=e.schema;let a=n;t.name==="svg"&&n.space==="html"&&(a=jh,e.schema=a),e.ancestors.push(t);const i=t.name===null?e.Fragment:ay(e,t.name,!0),l=rS(e,t),o=_h(e,t);return ny(e,l,i,t),Eh(l,o),e.ancestors.pop(),e.schema=n,e.create(t,i,l,r)}function X2(e,t,r){const n={};return Eh(n,_h(e,t)),e.create(t,e.Fragment,n,r)}function J2(e,t){return t.value}function ny(e,t,r,n){typeof r!="string"&&r!==e.Fragment&&e.passNode&&(t.node=n)}function Eh(e,t){if(t.length>0){const r=t.length>1?t:t[0];r&&(e.children=r)}}function Z2(e,t,r){return n;function n(a,i,l,o){const u=Array.isArray(l.children)?r:t;return o?u(i,l,o):u(i,l)}}function eS(e,t){return r;function r(n,a,i,l){const o=Array.isArray(i.children),c=Sh(n);return t(a,i,l,o,{columnNumber:c?c.column-1:void 0,fileName:e,lineNumber:c?c.line:void 0},void 0)}}function tS(e,t){const r={};let n,a;for(a in t.properties)if(a!=="children"&&Ch.call(t.properties,a)){const i=nS(e,a,t.properties[a]);if(i){const[l,o]=i;e.tableCellAlignToStyle&&l==="align"&&typeof o=="string"&&W2.has(t.tagName)?n=o:r[l]=o}}if(n){const i=r.style||(r.style={});i[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=n}return r}function rS(e,t){const r={};for(const n of t.attributes)if(n.type==="mdxJsxExpressionAttribute")if(n.data&&n.data.estree&&e.evaluater){const i=n.data.estree.body[0];i.type;const l=i.expression;l.type;const o=l.properties[0];o.type,Object.assign(r,e.evaluater.evaluateExpression(o.argument))}else ji(e,t.position);else{const a=n.name;let i;if(n.value&&typeof n.value=="object")if(n.value.data&&n.value.data.estree&&e.evaluater){const o=n.value.data.estree.body[0];o.type,i=e.evaluater.evaluateExpression(o.expression)}else ji(e,t.position);else i=n.value===null?!0:n.value;r[a]=i}return r}function _h(e,t){const r=[];let n=-1;const a=e.passKeys?new Map:B2;for(;++n<t.children.length;){const i=t.children[n];let l;if(e.passKeys){const c=i.type==="element"?i.tagName:i.type==="mdxJsxFlowElement"||i.type==="mdxJsxTextElement"?i.name:void 0;if(c){const u=a.get(c)||0;l=c+"-"+u,a.set(c,u+1)}}const o=ry(e,i,l);o!==void 0&&r.push(o)}return r}function nS(e,t,r){const n=c2(e.schema,t);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=n.commaSeparated?XN(r):f2(r)),n.property==="style"){let a=typeof r=="object"?r:aS(e,String(r));return e.stylePropertyNameCase==="css"&&(a=sS(a)),["style",a]}return[e.elementAttributeNameCase==="react"&&n.space?i2[n.property]||n.property:n.attribute,r]}}function aS(e,t){try{return z2(t,{reactCompat:!0})}catch(r){if(e.ignoreInvalidStyle)return{};const n=r,a=new at("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:n,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=e.filePath||void 0,a.url=ty+"#cannot-parse-style-attribute",a}}function ay(e,t,r){let n;if(!r)n={type:"Literal",value:t};else if(t.includes(".")){const a=t.split(".");let i=-1,l;for(;++i<a.length;){const o=M0(a[i])?{type:"Identifier",name:a[i]}:{type:"Literal",value:a[i]};l=l?{type:"MemberExpression",object:l,property:o,computed:!!(i&&o.type==="Literal"),optional:!1}:o}n=l}else n=M0(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(n.type==="Literal"){const a=n.value;return Ch.call(e.components,a)?e.components[a]:a}if(e.evaluater)return e.evaluater.evaluateExpression(n);ji(e)}function ji(e,t){const r=new at("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=ty+"#cannot-handle-mdx-estrees-without-createevaluater",r}function sS(e){const t={};let r;for(r in e)Ch.call(e,r)&&(t[iS(r)]=e[r]);return t}function iS(e){let t=e.replace(H2,lS);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function lS(e){return"-"+e.toLowerCase()}const yc={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},oS={};function cS(e,t){const r=oS,n=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,a=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return sy(e,n,a)}function sy(e,t,r){if(uS(e)){if("value"in e)return e.type==="html"&&!r?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return H0(e.children,t,r)}return Array.isArray(e)?H0(e,t,r):""}function H0(e,t,r){const n=[];let a=-1;for(;++a<e.length;)n[a]=sy(e[a],t,r);return n.join("")}function uS(e){return!!(e&&typeof e=="object")}const q0=document.createElement("i");function Th(e){const t="&"+e+";";q0.innerHTML=t;const r=q0.textContent;return r.charCodeAt(r.length-1)===59&&e!=="semi"||r===t?!1:r}function kr(e,t,r,n){const a=e.length;let i=0,l;if(t<0?t=-t>a?0:a+t:t=t>a?a:t,r=r>0?r:0,n.length<1e4)l=Array.from(n),l.unshift(t,r),e.splice(...l);else for(r&&e.splice(t,r);i<n.length;)l=n.slice(i,i+1e4),l.unshift(t,0),e.splice(...l),i+=1e4,t+=1e4}function Ht(e,t){return e.length>0?(kr(e,e.length,0,t),e):t}const W0={}.hasOwnProperty;function dS(e){const t={};let r=-1;for(;++r<e.length;)hS(t,e[r]);return t}function hS(e,t){let r;for(r in t){const a=(W0.call(e,r)?e[r]:void 0)||(e[r]={}),i=t[r];let l;if(i)for(l in i){W0.call(a,l)||(a[l]=[]);const o=i[l];fS(a[l],Array.isArray(o)?o:o?[o]:[])}}}function fS(e,t){let r=-1;const n=[];for(;++r<t.length;)(t[r].add==="after"?e:n).push(t[r]);kr(e,0,0,n)}function iy(e,t){const r=Number.parseInt(e,t);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"�":String.fromCodePoint(r)}function Ha(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const mr=Rn(/[A-Za-z]/),Rt=Rn(/[\dA-Za-z]/),gS=Rn(/[#-'*+\--9=?A-Z^-~]/);function Zu(e){return e!==null&&(e<32||e===127)}const ed=Rn(/\d/),mS=Rn(/[\dA-Fa-f]/),pS=Rn(/[!-/:-@[-`{-~]/);function X(e){return e!==null&&e<-2}function St(e){return e!==null&&(e<0||e===32)}function ue(e){return e===-2||e===-1||e===32}const xS=Rn(new RegExp("\\p{P}|\\p{S}","u")),yS=Rn(/\s/);function Rn(e){return t;function t(r){return r!==null&&r>-1&&e.test(String.fromCharCode(r))}}function vs(e){const t=[];let r=-1,n=0,a=0;for(;++r<e.length;){const i=e.charCodeAt(r);let l="";if(i===37&&Rt(e.charCodeAt(r+1))&&Rt(e.charCodeAt(r+2)))a=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(l=String.fromCharCode(i));else if(i>55295&&i<57344){const o=e.charCodeAt(r+1);i<56320&&o>56319&&o<57344?(l=String.fromCharCode(i,o),a=1):l="�"}else l=String.fromCharCode(i);l&&(t.push(e.slice(n,r),encodeURIComponent(l)),n=r+a+1,l=""),a&&(r+=a,a=0)}return t.join("")+e.slice(n)}function be(e,t,r,n){const a=n?n-1:Number.POSITIVE_INFINITY;let i=0;return l;function l(c){return ue(c)?(e.enter(r),o(c)):t(c)}function o(c){return ue(c)&&i++<a?(e.consume(c),o):(e.exit(r),t(c))}}const bS={tokenize:vS};function vS(e){const t=e.attempt(this.parser.constructs.contentInitial,n,a);let r;return t;function n(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),be(e,t,"linePrefix")}function a(o){return e.enter("paragraph"),i(o)}function i(o){const c=e.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=c),r=c,l(o)}function l(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return X(o)?(e.consume(o),e.exit("chunkText"),i):(e.consume(o),l)}}const kS={tokenize:wS},Q0={tokenize:jS};function wS(e){const t=this,r=[];let n=0,a,i,l;return o;function o(y){if(n<r.length){const v=r[n];return t.containerState=v[1],e.attempt(v[0].continuation,c,u)(y)}return u(y)}function c(y){if(n++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,a&&p();const v=t.events.length;let E=v,C;for(;E--;)if(t.events[E][0]==="exit"&&t.events[E][1].type==="chunkFlow"){C=t.events[E][1].end;break}m(n);let M=v;for(;M<t.events.length;)t.events[M][1].end={...C},M++;return kr(t.events,E+1,0,t.events.slice(v)),t.events.length=M,u(y)}return o(y)}function u(y){if(n===r.length){if(!a)return g(y);if(a.currentConstruct&&a.currentConstruct.concrete)return x(y);t.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Q0,h,d)(y)}function h(y){return a&&p(),m(n),g(y)}function d(y){return t.parser.lazy[t.now().line]=n!==r.length,l=t.now().offset,x(y)}function g(y){return t.containerState={},e.attempt(Q0,f,x)(y)}function f(y){return n++,r.push([t.currentConstruct,t.containerState]),g(y)}function x(y){if(y===null){a&&p(),m(0),e.consume(y);return}return a=a||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:i}),b(y)}function b(y){if(y===null){j(e.exit("chunkFlow"),!0),m(0),e.consume(y);return}return X(y)?(e.consume(y),j(e.exit("chunkFlow")),n=0,t.interrupt=void 0,o):(e.consume(y),b)}function j(y,v){const E=t.sliceStream(y);if(v&&E.push(null),y.previous=i,i&&(i.next=y),i=y,a.defineSkip(y.start),a.write(E),t.parser.lazy[y.start.line]){let C=a.events.length;for(;C--;)if(a.events[C][1].start.offset<l&&(!a.events[C][1].end||a.events[C][1].end.offset>l))return;const M=t.events.length;let O=M,U,R;for(;O--;)if(t.events[O][0]==="exit"&&t.events[O][1].type==="chunkFlow"){if(U){R=t.events[O][1].end;break}U=!0}for(m(n),C=M;C<t.events.length;)t.events[C][1].end={...R},C++;kr(t.events,O+1,0,t.events.slice(M)),t.events.length=C}}function m(y){let v=r.length;for(;v-- >y;){const E=r[v];t.containerState=E[1],E[0].exit.call(t,e)}r.length=y}function p(){a.write([null]),i=void 0,a=void 0,t.containerState._closeFlow=void 0}}function jS(e,t,r){return be(e,e.attempt(this.parser.constructs.document,t,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function V0(e){if(e===null||St(e)||yS(e))return 1;if(xS(e))return 2}function Ih(e,t,r){const n=[];let a=-1;for(;++a<e.length;){const i=e[a].resolveAll;i&&!n.includes(i)&&(t=i(t,r),n.push(i))}return t}const td={name:"attention",resolveAll:NS,tokenize:SS};function NS(e,t){let r=-1,n,a,i,l,o,c,u,h;for(;++r<e.length;)if(e[r][0]==="enter"&&e[r][1].type==="attentionSequence"&&e[r][1]._close){for(n=r;n--;)if(e[n][0]==="exit"&&e[n][1].type==="attentionSequence"&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[r][1]).charCodeAt(0)){if((e[n][1]._close||e[r][1]._open)&&(e[r][1].end.offset-e[r][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[r][1].end.offset-e[r][1].start.offset)%3))continue;c=e[n][1].end.offset-e[n][1].start.offset>1&&e[r][1].end.offset-e[r][1].start.offset>1?2:1;const d={...e[n][1].end},g={...e[r][1].start};K0(d,-c),K0(g,c),l={type:c>1?"strongSequence":"emphasisSequence",start:d,end:{...e[n][1].end}},o={type:c>1?"strongSequence":"emphasisSequence",start:{...e[r][1].start},end:g},i={type:c>1?"strongText":"emphasisText",start:{...e[n][1].end},end:{...e[r][1].start}},a={type:c>1?"strong":"emphasis",start:{...l.start},end:{...o.end}},e[n][1].end={...l.start},e[r][1].start={...o.end},u=[],e[n][1].end.offset-e[n][1].start.offset&&(u=Ht(u,[["enter",e[n][1],t],["exit",e[n][1],t]])),u=Ht(u,[["enter",a,t],["enter",l,t],["exit",l,t],["enter",i,t]]),u=Ht(u,Ih(t.parser.constructs.insideSpan.null,e.slice(n+1,r),t)),u=Ht(u,[["exit",i,t],["enter",o,t],["exit",o,t],["exit",a,t]]),e[r][1].end.offset-e[r][1].start.offset?(h=2,u=Ht(u,[["enter",e[r][1],t],["exit",e[r][1],t]])):h=0,kr(e,n-1,r-n+3,u),r=n+u.length-h-2;break}}for(r=-1;++r<e.length;)e[r][1].type==="attentionSequence"&&(e[r][1].type="data");return e}function SS(e,t){const r=this.parser.constructs.attentionMarkers.null,n=this.previous,a=V0(n);let i;return l;function l(c){return i=c,e.enter("attentionSequence"),o(c)}function o(c){if(c===i)return e.consume(c),o;const u=e.exit("attentionSequence"),h=V0(c),d=!h||h===2&&a||r.includes(c),g=!a||a===2&&h||r.includes(n);return u._open=!!(i===42?d:d&&(a||!g)),u._close=!!(i===42?g:g&&(h||!d)),t(c)}}function K0(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const CS={name:"autolink",tokenize:ES};function ES(e,t,r){let n=0;return a;function a(f){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i}function i(f){return mr(f)?(e.consume(f),l):f===64?r(f):u(f)}function l(f){return f===43||f===45||f===46||Rt(f)?(n=1,o(f)):u(f)}function o(f){return f===58?(e.consume(f),n=0,c):(f===43||f===45||f===46||Rt(f))&&n++<32?(e.consume(f),o):(n=0,u(f))}function c(f){return f===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.exit("autolink"),t):f===null||f===32||f===60||Zu(f)?r(f):(e.consume(f),c)}function u(f){return f===64?(e.consume(f),h):gS(f)?(e.consume(f),u):r(f)}function h(f){return Rt(f)?d(f):r(f)}function d(f){return f===46?(e.consume(f),n=0,h):f===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.exit("autolink"),t):g(f)}function g(f){if((f===45||Rt(f))&&n++<63){const x=f===45?g:d;return e.consume(f),x}return r(f)}}const Fo={partial:!0,tokenize:_S};function _S(e,t,r){return n;function n(i){return ue(i)?be(e,a,"linePrefix")(i):a(i)}function a(i){return i===null||X(i)?t(i):r(i)}}const ly={continuation:{tokenize:IS},exit:PS,name:"blockQuote",tokenize:TS};function TS(e,t,r){const n=this;return a;function a(l){if(l===62){const o=n.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(l),e.exit("blockQuoteMarker"),i}return r(l)}function i(l){return ue(l)?(e.enter("blockQuotePrefixWhitespace"),e.consume(l),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(l))}}function IS(e,t,r){const n=this;return a;function a(l){return ue(l)?be(e,i,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):i(l)}function i(l){return e.attempt(ly,t,r)(l)}}function PS(e){e.exit("blockQuote")}const oy={name:"characterEscape",tokenize:MS};function MS(e,t,r){return n;function n(i){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(i),e.exit("escapeMarker"),a}function a(i){return pS(i)?(e.enter("characterEscapeValue"),e.consume(i),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):r(i)}}const cy={name:"characterReference",tokenize:RS};function RS(e,t,r){const n=this;let a=0,i,l;return o;function o(d){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),c}function c(d){return d===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(d),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),i=31,l=Rt,h(d))}function u(d){return d===88||d===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(d),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),i=6,l=mS,h):(e.enter("characterReferenceValue"),i=7,l=ed,h(d))}function h(d){if(d===59&&a){const g=e.exit("characterReferenceValue");return l===Rt&&!Th(n.sliceSerialize(g))?r(d):(e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return l(d)&&a++<i?(e.consume(d),h):r(d)}}const Y0={partial:!0,tokenize:LS},G0={concrete:!0,name:"codeFenced",tokenize:DS};function DS(e,t,r){const n=this,a={partial:!0,tokenize:E};let i=0,l=0,o;return c;function c(C){return u(C)}function u(C){const M=n.events[n.events.length-1];return i=M&&M[1].type==="linePrefix"?M[2].sliceSerialize(M[1],!0).length:0,o=C,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),h(C)}function h(C){return C===o?(l++,e.consume(C),h):l<3?r(C):(e.exit("codeFencedFenceSequence"),ue(C)?be(e,d,"whitespace")(C):d(C))}function d(C){return C===null||X(C)?(e.exit("codeFencedFence"),n.interrupt?t(C):e.check(Y0,b,v)(C)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),g(C))}function g(C){return C===null||X(C)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),d(C)):ue(C)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),be(e,f,"whitespace")(C)):C===96&&C===o?r(C):(e.consume(C),g)}function f(C){return C===null||X(C)?d(C):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),x(C))}function x(C){return C===null||X(C)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),d(C)):C===96&&C===o?r(C):(e.consume(C),x)}function b(C){return e.attempt(a,v,j)(C)}function j(C){return e.enter("lineEnding"),e.consume(C),e.exit("lineEnding"),m}function m(C){return i>0&&ue(C)?be(e,p,"linePrefix",i+1)(C):p(C)}function p(C){return C===null||X(C)?e.check(Y0,b,v)(C):(e.enter("codeFlowValue"),y(C))}function y(C){return C===null||X(C)?(e.exit("codeFlowValue"),p(C)):(e.consume(C),y)}function v(C){return e.exit("codeFenced"),t(C)}function E(C,M,O){let U=0;return R;function R(I){return C.enter("lineEnding"),C.consume(I),C.exit("lineEnding"),_}function _(I){return C.enter("codeFencedFence"),ue(I)?be(C,F,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(I):F(I)}function F(I){return I===o?(C.enter("codeFencedFenceSequence"),L(I)):O(I)}function L(I){return I===o?(U++,C.consume(I),L):U>=l?(C.exit("codeFencedFenceSequence"),ue(I)?be(C,P,"whitespace")(I):P(I)):O(I)}function P(I){return I===null||X(I)?(C.exit("codeFencedFence"),M(I)):O(I)}}}function LS(e,t,r){const n=this;return a;function a(l){return l===null?r(l):(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),i)}function i(l){return n.parser.lazy[n.now().line]?r(l):t(l)}}const bc={name:"codeIndented",tokenize:OS},AS={partial:!0,tokenize:FS};function OS(e,t,r){const n=this;return a;function a(u){return e.enter("codeIndented"),be(e,i,"linePrefix",5)(u)}function i(u){const h=n.events[n.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?l(u):r(u)}function l(u){return u===null?c(u):X(u)?e.attempt(AS,l,c)(u):(e.enter("codeFlowValue"),o(u))}function o(u){return u===null||X(u)?(e.exit("codeFlowValue"),l(u)):(e.consume(u),o)}function c(u){return e.exit("codeIndented"),t(u)}}function FS(e,t,r){const n=this;return a;function a(l){return n.parser.lazy[n.now().line]?r(l):X(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),a):be(e,i,"linePrefix",5)(l)}function i(l){const o=n.events[n.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(l):X(l)?a(l):r(l)}}const $S={name:"codeText",previous:US,resolve:zS,tokenize:BS};function zS(e){let t=e.length-4,r=3,n,a;if((e[r][1].type==="lineEnding"||e[r][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(n=r;++n<t;)if(e[n][1].type==="codeTextData"){e[r][1].type="codeTextPadding",e[t][1].type="codeTextPadding",r+=2,t-=2;break}}for(n=r-1,t++;++n<=t;)a===void 0?n!==t&&e[n][1].type!=="lineEnding"&&(a=n):(n===t||e[n][1].type==="lineEnding")&&(e[a][1].type="codeTextData",n!==a+2&&(e[a][1].end=e[n-1][1].end,e.splice(a+2,n-a-2),t-=n-a-2,n=a+2),a=void 0);return e}function US(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function BS(e,t,r){let n=0,a,i;return l;function l(d){return e.enter("codeText"),e.enter("codeTextSequence"),o(d)}function o(d){return d===96?(e.consume(d),n++,o):(e.exit("codeTextSequence"),c(d))}function c(d){return d===null?r(d):d===32?(e.enter("space"),e.consume(d),e.exit("space"),c):d===96?(i=e.enter("codeTextSequence"),a=0,h(d)):X(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),c):(e.enter("codeTextData"),u(d))}function u(d){return d===null||d===32||d===96||X(d)?(e.exit("codeTextData"),c(d)):(e.consume(d),u)}function h(d){return d===96?(e.consume(d),a++,h):a===n?(e.exit("codeTextSequence"),e.exit("codeText"),t(d)):(i.type="codeTextData",u(d))}}class HS{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,r){const n=r??Number.POSITIVE_INFINITY;return n<this.left.length?this.left.slice(t,n):t>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(t,r,n){const a=r||0;this.setCursor(Math.trunc(t));const i=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return n&&Ps(this.left,n),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Ps(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Ps(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const r=this.left.splice(t,Number.POSITIVE_INFINITY);Ps(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Ps(this.left,r.reverse())}}}function Ps(e,t){let r=0;if(t.length<1e4)e.push(...t);else for(;r<t.length;)e.push(...t.slice(r,r+1e4)),r+=1e4}function uy(e){const t={};let r=-1,n,a,i,l,o,c,u;const h=new HS(e);for(;++r<h.length;){for(;r in t;)r=t[r];if(n=h.get(r),r&&n[1].type==="chunkFlow"&&h.get(r-1)[1].type==="listItemPrefix"&&(c=n[1]._tokenizer.events,i=0,i<c.length&&c[i][1].type==="lineEndingBlank"&&(i+=2),i<c.length&&c[i][1].type==="content"))for(;++i<c.length&&c[i][1].type!=="content";)c[i][1].type==="chunkText"&&(c[i][1]._isInFirstContentOfListItem=!0,i++);if(n[0]==="enter")n[1].contentType&&(Object.assign(t,qS(h,r)),r=t[r],u=!0);else if(n[1]._container){for(i=r,a=void 0;i--;)if(l=h.get(i),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(a&&(h.get(a)[1].type="lineEndingBlank"),l[1].type="lineEnding",a=i);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;a&&(n[1].end={...h.get(a)[1].start},o=h.slice(a,r),o.unshift(n),h.splice(a,r-a+1,o))}}return kr(e,0,Number.POSITIVE_INFINITY,h.slice(0)),!u}function qS(e,t){const r=e.get(t)[1],n=e.get(t)[2];let a=t-1;const i=[];let l=r._tokenizer;l||(l=n.parser[r.contentType](r.start),r._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const o=l.events,c=[],u={};let h,d,g=-1,f=r,x=0,b=0;const j=[b];for(;f;){for(;e.get(++a)[1]!==f;);i.push(a),f._tokenizer||(h=n.sliceStream(f),f.next||h.push(null),d&&l.defineSkip(f.start),f._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(h),f._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),d=f,f=f.next}for(f=r;++g<o.length;)o[g][0]==="exit"&&o[g-1][0]==="enter"&&o[g][1].type===o[g-1][1].type&&o[g][1].start.line!==o[g][1].end.line&&(b=g+1,j.push(b),f._tokenizer=void 0,f.previous=void 0,f=f.next);for(l.events=[],f?(f._tokenizer=void 0,f.previous=void 0):j.pop(),g=j.length;g--;){const m=o.slice(j[g],j[g+1]),p=i.pop();c.push([p,p+m.length-1]),e.splice(p,2,m)}for(c.reverse(),g=-1;++g<c.length;)u[x+c[g][0]]=x+c[g][1],x+=c[g][1]-c[g][0]-1;return u}const WS={resolve:VS,tokenize:KS},QS={partial:!0,tokenize:YS};function VS(e){return uy(e),e}function KS(e,t){let r;return n;function n(o){return e.enter("content"),r=e.enter("chunkContent",{contentType:"content"}),a(o)}function a(o){return o===null?i(o):X(o)?e.check(QS,l,i)(o):(e.consume(o),a)}function i(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function l(o){return e.consume(o),e.exit("chunkContent"),r.next=e.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,a}}function YS(e,t,r){const n=this;return a;function a(l){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),be(e,i,"linePrefix")}function i(l){if(l===null||X(l))return r(l);const o=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(l):e.interrupt(n.parser.constructs.flow,r,t)(l)}}function dy(e,t,r,n,a,i,l,o,c){const u=c||Number.POSITIVE_INFINITY;let h=0;return d;function d(m){return m===60?(e.enter(n),e.enter(a),e.enter(i),e.consume(m),e.exit(i),g):m===null||m===32||m===41||Zu(m)?r(m):(e.enter(n),e.enter(l),e.enter(o),e.enter("chunkString",{contentType:"string"}),b(m))}function g(m){return m===62?(e.enter(i),e.consume(m),e.exit(i),e.exit(a),e.exit(n),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),f(m))}function f(m){return m===62?(e.exit("chunkString"),e.exit(o),g(m)):m===null||m===60||X(m)?r(m):(e.consume(m),m===92?x:f)}function x(m){return m===60||m===62||m===92?(e.consume(m),f):f(m)}function b(m){return!h&&(m===null||m===41||St(m))?(e.exit("chunkString"),e.exit(o),e.exit(l),e.exit(n),t(m)):h<u&&m===40?(e.consume(m),h++,b):m===41?(e.consume(m),h--,b):m===null||m===32||m===40||Zu(m)?r(m):(e.consume(m),m===92?j:b)}function j(m){return m===40||m===41||m===92?(e.consume(m),b):b(m)}}function hy(e,t,r,n,a,i){const l=this;let o=0,c;return u;function u(f){return e.enter(n),e.enter(a),e.consume(f),e.exit(a),e.enter(i),h}function h(f){return o>999||f===null||f===91||f===93&&!c||f===94&&!o&&"_hiddenFootnoteSupport"in l.parser.constructs?r(f):f===93?(e.exit(i),e.enter(a),e.consume(f),e.exit(a),e.exit(n),t):X(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),h):(e.enter("chunkString",{contentType:"string"}),d(f))}function d(f){return f===null||f===91||f===93||X(f)||o++>999?(e.exit("chunkString"),h(f)):(e.consume(f),c||(c=!ue(f)),f===92?g:d)}function g(f){return f===91||f===92||f===93?(e.consume(f),o++,d):d(f)}}function fy(e,t,r,n,a,i){let l;return o;function o(g){return g===34||g===39||g===40?(e.enter(n),e.enter(a),e.consume(g),e.exit(a),l=g===40?41:g,c):r(g)}function c(g){return g===l?(e.enter(a),e.consume(g),e.exit(a),e.exit(n),t):(e.enter(i),u(g))}function u(g){return g===l?(e.exit(i),c(l)):g===null?r(g):X(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),be(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),h(g))}function h(g){return g===l||g===null||X(g)?(e.exit("chunkString"),u(g)):(e.consume(g),g===92?d:h)}function d(g){return g===l||g===92?(e.consume(g),h):h(g)}}function Gs(e,t){let r;return n;function n(a){return X(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),r=!0,n):ue(a)?be(e,n,r?"linePrefix":"lineSuffix")(a):t(a)}}const GS={name:"definition",tokenize:JS},XS={partial:!0,tokenize:ZS};function JS(e,t,r){const n=this;let a;return i;function i(f){return e.enter("definition"),l(f)}function l(f){return hy.call(n,e,o,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(f)}function o(f){return a=Ha(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),f===58?(e.enter("definitionMarker"),e.consume(f),e.exit("definitionMarker"),c):r(f)}function c(f){return St(f)?Gs(e,u)(f):u(f)}function u(f){return dy(e,h,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(f)}function h(f){return e.attempt(XS,d,d)(f)}function d(f){return ue(f)?be(e,g,"whitespace")(f):g(f)}function g(f){return f===null||X(f)?(e.exit("definition"),n.parser.defined.push(a),t(f)):r(f)}}function ZS(e,t,r){return n;function n(o){return St(o)?Gs(e,a)(o):r(o)}function a(o){return fy(e,i,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function i(o){return ue(o)?be(e,l,"whitespace")(o):l(o)}function l(o){return o===null||X(o)?t(o):r(o)}}const eC={name:"hardBreakEscape",tokenize:tC};function tC(e,t,r){return n;function n(i){return e.enter("hardBreakEscape"),e.consume(i),a}function a(i){return X(i)?(e.exit("hardBreakEscape"),t(i)):r(i)}}const rC={name:"headingAtx",resolve:nC,tokenize:aC};function nC(e,t){let r=e.length-2,n=3,a,i;return e[n][1].type==="whitespace"&&(n+=2),r-2>n&&e[r][1].type==="whitespace"&&(r-=2),e[r][1].type==="atxHeadingSequence"&&(n===r-1||r-4>n&&e[r-2][1].type==="whitespace")&&(r-=n+1===r?2:4),r>n&&(a={type:"atxHeadingText",start:e[n][1].start,end:e[r][1].end},i={type:"chunkText",start:e[n][1].start,end:e[r][1].end,contentType:"text"},kr(e,n,r-n+1,[["enter",a,t],["enter",i,t],["exit",i,t],["exit",a,t]])),e}function aC(e,t,r){let n=0;return a;function a(h){return e.enter("atxHeading"),i(h)}function i(h){return e.enter("atxHeadingSequence"),l(h)}function l(h){return h===35&&n++<6?(e.consume(h),l):h===null||St(h)?(e.exit("atxHeadingSequence"),o(h)):r(h)}function o(h){return h===35?(e.enter("atxHeadingSequence"),c(h)):h===null||X(h)?(e.exit("atxHeading"),t(h)):ue(h)?be(e,o,"whitespace")(h):(e.enter("atxHeadingText"),u(h))}function c(h){return h===35?(e.consume(h),c):(e.exit("atxHeadingSequence"),o(h))}function u(h){return h===null||h===35||St(h)?(e.exit("atxHeadingText"),o(h)):(e.consume(h),u)}}const sC=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],X0=["pre","script","style","textarea"],iC={concrete:!0,name:"htmlFlow",resolveTo:cC,tokenize:uC},lC={partial:!0,tokenize:hC},oC={partial:!0,tokenize:dC};function cC(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function uC(e,t,r){const n=this;let a,i,l,o,c;return u;function u(S){return h(S)}function h(S){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(S),d}function d(S){return S===33?(e.consume(S),g):S===47?(e.consume(S),i=!0,b):S===63?(e.consume(S),a=3,n.interrupt?t:w):mr(S)?(e.consume(S),l=String.fromCharCode(S),j):r(S)}function g(S){return S===45?(e.consume(S),a=2,f):S===91?(e.consume(S),a=5,o=0,x):mr(S)?(e.consume(S),a=4,n.interrupt?t:w):r(S)}function f(S){return S===45?(e.consume(S),n.interrupt?t:w):r(S)}function x(S){const Q="CDATA[";return S===Q.charCodeAt(o++)?(e.consume(S),o===Q.length?n.interrupt?t:F:x):r(S)}function b(S){return mr(S)?(e.consume(S),l=String.fromCharCode(S),j):r(S)}function j(S){if(S===null||S===47||S===62||St(S)){const Q=S===47,re=l.toLowerCase();return!Q&&!i&&X0.includes(re)?(a=1,n.interrupt?t(S):F(S)):sC.includes(l.toLowerCase())?(a=6,Q?(e.consume(S),m):n.interrupt?t(S):F(S)):(a=7,n.interrupt&&!n.parser.lazy[n.now().line]?r(S):i?p(S):y(S))}return S===45||Rt(S)?(e.consume(S),l+=String.fromCharCode(S),j):r(S)}function m(S){return S===62?(e.consume(S),n.interrupt?t:F):r(S)}function p(S){return ue(S)?(e.consume(S),p):R(S)}function y(S){return S===47?(e.consume(S),R):S===58||S===95||mr(S)?(e.consume(S),v):ue(S)?(e.consume(S),y):R(S)}function v(S){return S===45||S===46||S===58||S===95||Rt(S)?(e.consume(S),v):E(S)}function E(S){return S===61?(e.consume(S),C):ue(S)?(e.consume(S),E):y(S)}function C(S){return S===null||S===60||S===61||S===62||S===96?r(S):S===34||S===39?(e.consume(S),c=S,M):ue(S)?(e.consume(S),C):O(S)}function M(S){return S===c?(e.consume(S),c=null,U):S===null||X(S)?r(S):(e.consume(S),M)}function O(S){return S===null||S===34||S===39||S===47||S===60||S===61||S===62||S===96||St(S)?E(S):(e.consume(S),O)}function U(S){return S===47||S===62||ue(S)?y(S):r(S)}function R(S){return S===62?(e.consume(S),_):r(S)}function _(S){return S===null||X(S)?F(S):ue(S)?(e.consume(S),_):r(S)}function F(S){return S===45&&a===2?(e.consume(S),B):S===60&&a===1?(e.consume(S),G):S===62&&a===4?(e.consume(S),ae):S===63&&a===3?(e.consume(S),w):S===93&&a===5?(e.consume(S),K):X(S)&&(a===6||a===7)?(e.exit("htmlFlowData"),e.check(lC,oe,L)(S)):S===null||X(S)?(e.exit("htmlFlowData"),L(S)):(e.consume(S),F)}function L(S){return e.check(oC,P,oe)(S)}function P(S){return e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),I}function I(S){return S===null||X(S)?L(S):(e.enter("htmlFlowData"),F(S))}function B(S){return S===45?(e.consume(S),w):F(S)}function G(S){return S===47?(e.consume(S),l="",T):F(S)}function T(S){if(S===62){const Q=l.toLowerCase();return X0.includes(Q)?(e.consume(S),ae):F(S)}return mr(S)&&l.length<8?(e.consume(S),l+=String.fromCharCode(S),T):F(S)}function K(S){return S===93?(e.consume(S),w):F(S)}function w(S){return S===62?(e.consume(S),ae):S===45&&a===2?(e.consume(S),w):F(S)}function ae(S){return S===null||X(S)?(e.exit("htmlFlowData"),oe(S)):(e.consume(S),ae)}function oe(S){return e.exit("htmlFlow"),t(S)}}function dC(e,t,r){const n=this;return a;function a(l){return X(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),i):r(l)}function i(l){return n.parser.lazy[n.now().line]?r(l):t(l)}}function hC(e,t,r){return n;function n(a){return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),e.attempt(Fo,t,r)}}const fC={name:"htmlText",tokenize:gC};function gC(e,t,r){const n=this;let a,i,l;return o;function o(w){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(w),c}function c(w){return w===33?(e.consume(w),u):w===47?(e.consume(w),E):w===63?(e.consume(w),y):mr(w)?(e.consume(w),O):r(w)}function u(w){return w===45?(e.consume(w),h):w===91?(e.consume(w),i=0,x):mr(w)?(e.consume(w),p):r(w)}function h(w){return w===45?(e.consume(w),f):r(w)}function d(w){return w===null?r(w):w===45?(e.consume(w),g):X(w)?(l=d,G(w)):(e.consume(w),d)}function g(w){return w===45?(e.consume(w),f):d(w)}function f(w){return w===62?B(w):w===45?g(w):d(w)}function x(w){const ae="CDATA[";return w===ae.charCodeAt(i++)?(e.consume(w),i===ae.length?b:x):r(w)}function b(w){return w===null?r(w):w===93?(e.consume(w),j):X(w)?(l=b,G(w)):(e.consume(w),b)}function j(w){return w===93?(e.consume(w),m):b(w)}function m(w){return w===62?B(w):w===93?(e.consume(w),m):b(w)}function p(w){return w===null||w===62?B(w):X(w)?(l=p,G(w)):(e.consume(w),p)}function y(w){return w===null?r(w):w===63?(e.consume(w),v):X(w)?(l=y,G(w)):(e.consume(w),y)}function v(w){return w===62?B(w):y(w)}function E(w){return mr(w)?(e.consume(w),C):r(w)}function C(w){return w===45||Rt(w)?(e.consume(w),C):M(w)}function M(w){return X(w)?(l=M,G(w)):ue(w)?(e.consume(w),M):B(w)}function O(w){return w===45||Rt(w)?(e.consume(w),O):w===47||w===62||St(w)?U(w):r(w)}function U(w){return w===47?(e.consume(w),B):w===58||w===95||mr(w)?(e.consume(w),R):X(w)?(l=U,G(w)):ue(w)?(e.consume(w),U):B(w)}function R(w){return w===45||w===46||w===58||w===95||Rt(w)?(e.consume(w),R):_(w)}function _(w){return w===61?(e.consume(w),F):X(w)?(l=_,G(w)):ue(w)?(e.consume(w),_):U(w)}function F(w){return w===null||w===60||w===61||w===62||w===96?r(w):w===34||w===39?(e.consume(w),a=w,L):X(w)?(l=F,G(w)):ue(w)?(e.consume(w),F):(e.consume(w),P)}function L(w){return w===a?(e.consume(w),a=void 0,I):w===null?r(w):X(w)?(l=L,G(w)):(e.consume(w),L)}function P(w){return w===null||w===34||w===39||w===60||w===61||w===96?r(w):w===47||w===62||St(w)?U(w):(e.consume(w),P)}function I(w){return w===47||w===62||St(w)?U(w):r(w)}function B(w){return w===62?(e.consume(w),e.exit("htmlTextData"),e.exit("htmlText"),t):r(w)}function G(w){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(w),e.exit("lineEnding"),T}function T(w){return ue(w)?be(e,K,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(w):K(w)}function K(w){return e.enter("htmlTextData"),l(w)}}const Ph={name:"labelEnd",resolveAll:yC,resolveTo:bC,tokenize:vC},mC={tokenize:kC},pC={tokenize:wC},xC={tokenize:jC};function yC(e){let t=-1;const r=[];for(;++t<e.length;){const n=e[t][1];if(r.push(e[t]),n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd"){const a=n.type==="labelImage"?4:2;n.type="data",t+=a}}return e.length!==r.length&&kr(e,0,e.length,r),e}function bC(e,t){let r=e.length,n=0,a,i,l,o;for(;r--;)if(a=e[r][1],i){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;e[r][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(l){if(e[r][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(i=r,a.type!=="labelLink")){n=2;break}}else a.type==="labelEnd"&&(l=r);const c={type:e[i][1].type==="labelLink"?"link":"image",start:{...e[i][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[i][1].start},end:{...e[l][1].end}},h={type:"labelText",start:{...e[i+n+2][1].end},end:{...e[l-2][1].start}};return o=[["enter",c,t],["enter",u,t]],o=Ht(o,e.slice(i+1,i+n+3)),o=Ht(o,[["enter",h,t]]),o=Ht(o,Ih(t.parser.constructs.insideSpan.null,e.slice(i+n+4,l-3),t)),o=Ht(o,[["exit",h,t],e[l-2],e[l-1],["exit",u,t]]),o=Ht(o,e.slice(l+1)),o=Ht(o,[["exit",c,t]]),kr(e,i,e.length,o),e}function vC(e,t,r){const n=this;let a=n.events.length,i,l;for(;a--;)if((n.events[a][1].type==="labelImage"||n.events[a][1].type==="labelLink")&&!n.events[a][1]._balanced){i=n.events[a][1];break}return o;function o(g){return i?i._inactive?d(g):(l=n.parser.defined.includes(Ha(n.sliceSerialize({start:i.end,end:n.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(g),e.exit("labelMarker"),e.exit("labelEnd"),c):r(g)}function c(g){return g===40?e.attempt(mC,h,l?h:d)(g):g===91?e.attempt(pC,h,l?u:d)(g):l?h(g):d(g)}function u(g){return e.attempt(xC,h,d)(g)}function h(g){return t(g)}function d(g){return i._balanced=!0,r(g)}}function kC(e,t,r){return n;function n(d){return e.enter("resource"),e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),a}function a(d){return St(d)?Gs(e,i)(d):i(d)}function i(d){return d===41?h(d):dy(e,l,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function l(d){return St(d)?Gs(e,c)(d):h(d)}function o(d){return r(d)}function c(d){return d===34||d===39||d===40?fy(e,u,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):h(d)}function u(d){return St(d)?Gs(e,h)(d):h(d)}function h(d){return d===41?(e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),e.exit("resource"),t):r(d)}}function wC(e,t,r){const n=this;return a;function a(o){return hy.call(n,e,i,l,"reference","referenceMarker","referenceString")(o)}function i(o){return n.parser.defined.includes(Ha(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?t(o):r(o)}function l(o){return r(o)}}function jC(e,t,r){return n;function n(i){return e.enter("reference"),e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),a}function a(i){return i===93?(e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),e.exit("reference"),t):r(i)}}const NC={name:"labelStartImage",resolveAll:Ph.resolveAll,tokenize:SC};function SC(e,t,r){const n=this;return a;function a(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),i}function i(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),l):r(o)}function l(o){return o===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(o):t(o)}}const CC={name:"labelStartLink",resolveAll:Ph.resolveAll,tokenize:EC};function EC(e,t,r){const n=this;return a;function a(l){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelLink"),i}function i(l){return l===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(l):t(l)}}const vc={name:"lineEnding",tokenize:_C};function _C(e,t){return r;function r(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),be(e,t,"linePrefix")}}const El={name:"thematicBreak",tokenize:TC};function TC(e,t,r){let n=0,a;return i;function i(u){return e.enter("thematicBreak"),l(u)}function l(u){return a=u,o(u)}function o(u){return u===a?(e.enter("thematicBreakSequence"),c(u)):n>=3&&(u===null||X(u))?(e.exit("thematicBreak"),t(u)):r(u)}function c(u){return u===a?(e.consume(u),n++,c):(e.exit("thematicBreakSequence"),ue(u)?be(e,o,"whitespace")(u):o(u))}}const xt={continuation:{tokenize:RC},exit:LC,name:"list",tokenize:MC},IC={partial:!0,tokenize:AC},PC={partial:!0,tokenize:DC};function MC(e,t,r){const n=this,a=n.events[n.events.length-1];let i=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,l=0;return o;function o(f){const x=n.containerState.type||(f===42||f===43||f===45?"listUnordered":"listOrdered");if(x==="listUnordered"?!n.containerState.marker||f===n.containerState.marker:ed(f)){if(n.containerState.type||(n.containerState.type=x,e.enter(x,{_container:!0})),x==="listUnordered")return e.enter("listItemPrefix"),f===42||f===45?e.check(El,r,u)(f):u(f);if(!n.interrupt||f===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),c(f)}return r(f)}function c(f){return ed(f)&&++l<10?(e.consume(f),c):(!n.interrupt||l<2)&&(n.containerState.marker?f===n.containerState.marker:f===41||f===46)?(e.exit("listItemValue"),u(f)):r(f)}function u(f){return e.enter("listItemMarker"),e.consume(f),e.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||f,e.check(Fo,n.interrupt?r:h,e.attempt(IC,g,d))}function h(f){return n.containerState.initialBlankLine=!0,i++,g(f)}function d(f){return ue(f)?(e.enter("listItemPrefixWhitespace"),e.consume(f),e.exit("listItemPrefixWhitespace"),g):r(f)}function g(f){return n.containerState.size=i+n.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(f)}}function RC(e,t,r){const n=this;return n.containerState._closeFlow=void 0,e.check(Fo,a,i);function a(o){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,be(e,t,"listItemIndent",n.containerState.size+1)(o)}function i(o){return n.containerState.furtherBlankLines||!ue(o)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,l(o)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,e.attempt(PC,t,l)(o))}function l(o){return n.containerState._closeFlow=!0,n.interrupt=void 0,be(e,e.attempt(xt,t,r),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function DC(e,t,r){const n=this;return be(e,a,"listItemIndent",n.containerState.size+1);function a(i){const l=n.events[n.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===n.containerState.size?t(i):r(i)}}function LC(e){e.exit(this.containerState.type)}function AC(e,t,r){const n=this;return be(e,a,"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(i){const l=n.events[n.events.length-1];return!ue(i)&&l&&l[1].type==="listItemPrefixWhitespace"?t(i):r(i)}}const J0={name:"setextUnderline",resolveTo:OC,tokenize:FC};function OC(e,t){let r=e.length,n,a,i;for(;r--;)if(e[r][0]==="enter"){if(e[r][1].type==="content"){n=r;break}e[r][1].type==="paragraph"&&(a=r)}else e[r][1].type==="content"&&e.splice(r,1),!i&&e[r][1].type==="definition"&&(i=r);const l={type:"setextHeading",start:{...e[n][1].start},end:{...e[e.length-1][1].end}};return e[a][1].type="setextHeadingText",i?(e.splice(a,0,["enter",l,t]),e.splice(i+1,0,["exit",e[n][1],t]),e[n][1].end={...e[i][1].end}):e[n][1]=l,e.push(["exit",l,t]),e}function FC(e,t,r){const n=this;let a;return i;function i(u){let h=n.events.length,d;for(;h--;)if(n.events[h][1].type!=="lineEnding"&&n.events[h][1].type!=="linePrefix"&&n.events[h][1].type!=="content"){d=n.events[h][1].type==="paragraph";break}return!n.parser.lazy[n.now().line]&&(n.interrupt||d)?(e.enter("setextHeadingLine"),a=u,l(u)):r(u)}function l(u){return e.enter("setextHeadingLineSequence"),o(u)}function o(u){return u===a?(e.consume(u),o):(e.exit("setextHeadingLineSequence"),ue(u)?be(e,c,"lineSuffix")(u):c(u))}function c(u){return u===null||X(u)?(e.exit("setextHeadingLine"),t(u)):r(u)}}const $C={tokenize:zC};function zC(e){const t=this,r=e.attempt(Fo,n,e.attempt(this.parser.constructs.flowInitial,a,be(e,e.attempt(this.parser.constructs.flow,a,e.attempt(WS,a)),"linePrefix")));return r;function n(i){if(i===null){e.consume(i);return}return e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),t.currentConstruct=void 0,r}function a(i){if(i===null){e.consume(i);return}return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t.currentConstruct=void 0,r}}const UC={resolveAll:my()},BC=gy("string"),HC=gy("text");function gy(e){return{resolveAll:my(e==="text"?qC:void 0),tokenize:t};function t(r){const n=this,a=this.parser.constructs[e],i=r.attempt(a,l,o);return l;function l(h){return u(h)?i(h):o(h)}function o(h){if(h===null){r.consume(h);return}return r.enter("data"),r.consume(h),c}function c(h){return u(h)?(r.exit("data"),i(h)):(r.consume(h),c)}function u(h){if(h===null)return!0;const d=a[h];let g=-1;if(d)for(;++g<d.length;){const f=d[g];if(!f.previous||f.previous.call(n,n.previous))return!0}return!1}}}function my(e){return t;function t(r,n){let a=-1,i;for(;++a<=r.length;)i===void 0?r[a]&&r[a][1].type==="data"&&(i=a,a++):(!r[a]||r[a][1].type!=="data")&&(a!==i+2&&(r[i][1].end=r[a-1][1].end,r.splice(i+2,a-i-2),a=i+2),i=void 0);return e?e(r,n):r}}function qC(e,t){let r=0;for(;++r<=e.length;)if((r===e.length||e[r][1].type==="lineEnding")&&e[r-1][1].type==="data"){const n=e[r-1][1],a=t.sliceStream(n);let i=a.length,l=-1,o=0,c;for(;i--;){const u=a[i];if(typeof u=="string"){for(l=u.length;u.charCodeAt(l-1)===32;)o++,l--;if(l)break;l=-1}else if(u===-2)c=!0,o++;else if(u!==-1){i++;break}}if(t._contentTypeTextTrailing&&r===e.length&&(o=0),o){const u={type:r===e.length||c||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:i?l:n.start._bufferIndex+l,_index:n.start._index+i,line:n.end.line,column:n.end.column-o,offset:n.end.offset-o},end:{...n.end}};n.end={...u.start},n.start.offset===n.end.offset?Object.assign(n,u):(e.splice(r,0,["enter",u,t],["exit",u,t]),r+=2)}r++}return e}const WC={42:xt,43:xt,45:xt,48:xt,49:xt,50:xt,51:xt,52:xt,53:xt,54:xt,55:xt,56:xt,57:xt,62:ly},QC={91:GS},VC={[-2]:bc,[-1]:bc,32:bc},KC={35:rC,42:El,45:[J0,El],60:iC,61:J0,95:El,96:G0,126:G0},YC={38:cy,92:oy},GC={[-5]:vc,[-4]:vc,[-3]:vc,33:NC,38:cy,42:td,60:[CS,fC],91:CC,92:[eC,oy],93:Ph,95:td,96:$S},XC={null:[td,UC]},JC={null:[42,95]},ZC={null:[]},e4=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:JC,contentInitial:QC,disable:ZC,document:WC,flow:KC,flowInitial:VC,insideSpan:XC,string:YC,text:GC},Symbol.toStringTag,{value:"Module"}));function t4(e,t,r){let n={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0};const a={},i=[];let l=[],o=[];const c={attempt:M(E),check:M(C),consume:p,enter:y,exit:v,interrupt:M(C,{interrupt:!0})},u={code:null,containerState:{},defineSkip:b,events:[],now:x,parser:e,previous:null,sliceSerialize:g,sliceStream:f,write:d};let h=t.tokenize.call(u,c);return t.resolveAll&&i.push(t),u;function d(_){return l=Ht(l,_),j(),l[l.length-1]!==null?[]:(O(t,0),u.events=Ih(i,u.events,u),u.events)}function g(_,F){return n4(f(_),F)}function f(_){return r4(l,_)}function x(){const{_bufferIndex:_,_index:F,line:L,column:P,offset:I}=n;return{_bufferIndex:_,_index:F,line:L,column:P,offset:I}}function b(_){a[_.line]=_.column,R()}function j(){let _;for(;n._index<l.length;){const F=l[n._index];if(typeof F=="string")for(_=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===_&&n._bufferIndex<F.length;)m(F.charCodeAt(n._bufferIndex));else m(F)}}function m(_){h=h(_)}function p(_){X(_)?(n.line++,n.column=1,n.offset+=_===-3?2:1,R()):_!==-1&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===l[n._index].length&&(n._bufferIndex=-1,n._index++)),u.previous=_}function y(_,F){const L=F||{};return L.type=_,L.start=x(),u.events.push(["enter",L,u]),o.push(L),L}function v(_){const F=o.pop();return F.end=x(),u.events.push(["exit",F,u]),F}function E(_,F){O(_,F.from)}function C(_,F){F.restore()}function M(_,F){return L;function L(P,I,B){let G,T,K,w;return Array.isArray(P)?oe(P):"tokenize"in P?oe([P]):ae(P);function ae(ce){return Et;function Et(qr){const xa=qr!==null&&ce[qr],ya=qr!==null&&ce.null,Ui=[...Array.isArray(xa)?xa:xa?[xa]:[],...Array.isArray(ya)?ya:ya?[ya]:[]];return oe(Ui)(qr)}}function oe(ce){return G=ce,T=0,ce.length===0?B:S(ce[T])}function S(ce){return Et;function Et(qr){return w=U(),K=ce,ce.partial||(u.currentConstruct=ce),ce.name&&u.parser.constructs.disable.null.includes(ce.name)?re():ce.tokenize.call(F?Object.assign(Object.create(u),F):u,c,Q,re)(qr)}}function Q(ce){return _(K,w),I}function re(ce){return w.restore(),++T<G.length?S(G[T]):B}}}function O(_,F){_.resolveAll&&!i.includes(_)&&i.push(_),_.resolve&&kr(u.events,F,u.events.length-F,_.resolve(u.events.slice(F),u)),_.resolveTo&&(u.events=_.resolveTo(u.events,u))}function U(){const _=x(),F=u.previous,L=u.currentConstruct,P=u.events.length,I=Array.from(o);return{from:P,restore:B};function B(){n=_,u.previous=F,u.currentConstruct=L,u.events.length=P,o=I,R()}}function R(){n.line in a&&n.column<2&&(n.column=a[n.line],n.offset+=a[n.line]-1)}}function r4(e,t){const r=t.start._index,n=t.start._bufferIndex,a=t.end._index,i=t.end._bufferIndex;let l;if(r===a)l=[e[r].slice(n,i)];else{if(l=e.slice(r,a),n>-1){const o=l[0];typeof o=="string"?l[0]=o.slice(n):l.shift()}i>0&&l.push(e[a].slice(0,i))}return l}function n4(e,t){let r=-1;const n=[];let a;for(;++r<e.length;){const i=e[r];let l;if(typeof i=="string")l=i;else switch(i){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=t?" ":"	";break}case-1:{if(!t&&a)continue;l=" ";break}default:l=String.fromCharCode(i)}a=i===-2,n.push(l)}return n.join("")}function a4(e){const n={constructs:dS([e4,...(e||{}).extensions||[]]),content:a(bS),defined:[],document:a(kS),flow:a($C),lazy:{},string:a(BC),text:a(HC)};return n;function a(i){return l;function l(o){return t4(n,i,o)}}}function s4(e){for(;!uy(e););return e}const Z0=/[\0\t\n\r]/g;function i4(){let e=1,t="",r=!0,n;return a;function a(i,l,o){const c=[];let u,h,d,g,f;for(i=t+(typeof i=="string"?i.toString():new TextDecoder(l||void 0).decode(i)),d=0,t="",r&&(i.charCodeAt(0)===65279&&d++,r=void 0);d<i.length;){if(Z0.lastIndex=d,u=Z0.exec(i),g=u&&u.index!==void 0?u.index:i.length,f=i.charCodeAt(g),!u){t=i.slice(d);break}if(f===10&&d===g&&n)c.push(-3),n=void 0;else switch(n&&(c.push(-5),n=void 0),d<g&&(c.push(i.slice(d,g)),e+=g-d),f){case 0:{c.push(65533),e++;break}case 9:{for(h=Math.ceil(e/4)*4,c.push(-2);e++<h;)c.push(-1);break}case 10:{c.push(-4),e=1;break}default:n=!0,e=1}d=g+1}return o&&(n&&c.push(-5),t&&c.push(t),c.push(null)),c}}const l4=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function o4(e){return e.replace(l4,c4)}function c4(e,t,r){if(t)return t;if(r.charCodeAt(0)===35){const a=r.charCodeAt(1),i=a===120||a===88;return iy(r.slice(i?2:1),i?16:10)}return Th(r)||e}const py={}.hasOwnProperty;function u4(e,t,r){return typeof t!="string"&&(r=t,t=void 0),d4(r)(s4(a4(r).document().write(i4()(e,t,!0))))}function d4(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(zh),autolinkProtocol:U,autolinkEmail:U,atxHeading:i(Oh),blockQuote:i(ya),characterEscape:U,characterReference:U,codeFenced:i(Ui),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:i(Ui,l),codeText:i(Ry,l),codeTextData:U,data:U,codeFlowValue:U,definition:i(Dy),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:i(Ly),hardBreakEscape:i(Fh),hardBreakTrailing:i(Fh),htmlFlow:i($h,l),htmlFlowData:U,htmlText:i($h,l),htmlTextData:U,image:i(Ay),label:l,link:i(zh),listItem:i(Oy),listItemValue:g,listOrdered:i(Uh,d),listUnordered:i(Uh),paragraph:i(Fy),reference:S,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:i(Oh),strong:i($y),thematicBreak:i(Uy)},exit:{atxHeading:c(),atxHeadingSequence:E,autolink:c(),autolinkEmail:xa,autolinkProtocol:qr,blockQuote:c(),characterEscapeValue:R,characterReferenceMarkerHexadecimal:re,characterReferenceMarkerNumeric:re,characterReferenceValue:ce,characterReference:Et,codeFenced:c(j),codeFencedFence:b,codeFencedFenceInfo:f,codeFencedFenceMeta:x,codeFlowValue:R,codeIndented:c(m),codeText:c(I),codeTextData:R,data:R,definition:c(),definitionDestinationString:v,definitionLabelString:p,definitionTitleString:y,emphasis:c(),hardBreakEscape:c(F),hardBreakTrailing:c(F),htmlFlow:c(L),htmlFlowData:R,htmlText:c(P),htmlTextData:R,image:c(G),label:K,labelText:T,lineEnding:_,link:c(B),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:Q,resourceDestinationString:w,resourceTitleString:ae,resource:oe,setextHeading:c(O),setextHeadingLineSequence:M,setextHeadingText:C,strong:c(),thematicBreak:c()}};xy(t,(e||{}).mdastExtensions||[]);const r={};return n;function n(A){let H={type:"root",children:[]};const J={stack:[H],tokenStack:[],config:t,enter:o,exit:u,buffer:l,resume:h,data:r},se=[];let me=-1;for(;++me<A.length;)if(A[me][1].type==="listOrdered"||A[me][1].type==="listUnordered")if(A[me][0]==="enter")se.push(me);else{const Yt=se.pop();me=a(A,Yt,me)}for(me=-1;++me<A.length;){const Yt=t[A[me][0]];py.call(Yt,A[me][1].type)&&Yt[A[me][1].type].call(Object.assign({sliceSerialize:A[me][2].sliceSerialize},J),A[me][1])}if(J.tokenStack.length>0){const Yt=J.tokenStack[J.tokenStack.length-1];(Yt[1]||eg).call(J,void 0,Yt[0])}for(H.position={start:Qr(A.length>0?A[0][1].start:{line:1,column:1,offset:0}),end:Qr(A.length>0?A[A.length-2][1].end:{line:1,column:1,offset:0})},me=-1;++me<t.transforms.length;)H=t.transforms[me](H)||H;return H}function a(A,H,J){let se=H-1,me=-1,Yt=!1,Dn,wr,ks,ws;for(;++se<=J;){const _t=A[se];switch(_t[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{_t[0]==="enter"?me++:me--,ws=void 0;break}case"lineEndingBlank":{_t[0]==="enter"&&(Dn&&!ws&&!me&&!ks&&(ks=se),ws=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:ws=void 0}if(!me&&_t[0]==="enter"&&_t[1].type==="listItemPrefix"||me===-1&&_t[0]==="exit"&&(_t[1].type==="listUnordered"||_t[1].type==="listOrdered")){if(Dn){let ba=se;for(wr=void 0;ba--;){const jr=A[ba];if(jr[1].type==="lineEnding"||jr[1].type==="lineEndingBlank"){if(jr[0]==="exit")continue;wr&&(A[wr][1].type="lineEndingBlank",Yt=!0),jr[1].type="lineEnding",wr=ba}else if(!(jr[1].type==="linePrefix"||jr[1].type==="blockQuotePrefix"||jr[1].type==="blockQuotePrefixWhitespace"||jr[1].type==="blockQuoteMarker"||jr[1].type==="listItemIndent"))break}ks&&(!wr||ks<wr)&&(Dn._spread=!0),Dn.end=Object.assign({},wr?A[wr][1].start:_t[1].end),A.splice(wr||se,0,["exit",Dn,_t[2]]),se++,J++}if(_t[1].type==="listItemPrefix"){const ba={type:"listItem",_spread:!1,start:Object.assign({},_t[1].start),end:void 0};Dn=ba,A.splice(se,0,["enter",ba,_t[2]]),se++,J++,ks=void 0,ws=!0}}}return A[H][1]._spread=Yt,J}function i(A,H){return J;function J(se){o.call(this,A(se),se),H&&H.call(this,se)}}function l(){this.stack.push({type:"fragment",children:[]})}function o(A,H,J){this.stack[this.stack.length-1].children.push(A),this.stack.push(A),this.tokenStack.push([H,J||void 0]),A.position={start:Qr(H.start),end:void 0}}function c(A){return H;function H(J){A&&A.call(this,J),u.call(this,J)}}function u(A,H){const J=this.stack.pop(),se=this.tokenStack.pop();if(se)se[0].type!==A.type&&(H?H.call(this,A,se[0]):(se[1]||eg).call(this,A,se[0]));else throw new Error("Cannot close `"+A.type+"` ("+Ys({start:A.start,end:A.end})+"): it’s not open");J.position.end=Qr(A.end)}function h(){return cS(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function g(A){if(this.data.expectingFirstListItemValue){const H=this.stack[this.stack.length-2];H.start=Number.parseInt(this.sliceSerialize(A),10),this.data.expectingFirstListItemValue=void 0}}function f(){const A=this.resume(),H=this.stack[this.stack.length-1];H.lang=A}function x(){const A=this.resume(),H=this.stack[this.stack.length-1];H.meta=A}function b(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function j(){const A=this.resume(),H=this.stack[this.stack.length-1];H.value=A.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function m(){const A=this.resume(),H=this.stack[this.stack.length-1];H.value=A.replace(/(\r?\n|\r)$/g,"")}function p(A){const H=this.resume(),J=this.stack[this.stack.length-1];J.label=H,J.identifier=Ha(this.sliceSerialize(A)).toLowerCase()}function y(){const A=this.resume(),H=this.stack[this.stack.length-1];H.title=A}function v(){const A=this.resume(),H=this.stack[this.stack.length-1];H.url=A}function E(A){const H=this.stack[this.stack.length-1];if(!H.depth){const J=this.sliceSerialize(A).length;H.depth=J}}function C(){this.data.setextHeadingSlurpLineEnding=!0}function M(A){const H=this.stack[this.stack.length-1];H.depth=this.sliceSerialize(A).codePointAt(0)===61?1:2}function O(){this.data.setextHeadingSlurpLineEnding=void 0}function U(A){const J=this.stack[this.stack.length-1].children;let se=J[J.length-1];(!se||se.type!=="text")&&(se=zy(),se.position={start:Qr(A.start),end:void 0},J.push(se)),this.stack.push(se)}function R(A){const H=this.stack.pop();H.value+=this.sliceSerialize(A),H.position.end=Qr(A.end)}function _(A){const H=this.stack[this.stack.length-1];if(this.data.atHardBreak){const J=H.children[H.children.length-1];J.position.end=Qr(A.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(H.type)&&(U.call(this,A),R.call(this,A))}function F(){this.data.atHardBreak=!0}function L(){const A=this.resume(),H=this.stack[this.stack.length-1];H.value=A}function P(){const A=this.resume(),H=this.stack[this.stack.length-1];H.value=A}function I(){const A=this.resume(),H=this.stack[this.stack.length-1];H.value=A}function B(){const A=this.stack[this.stack.length-1];if(this.data.inReference){const H=this.data.referenceType||"shortcut";A.type+="Reference",A.referenceType=H,delete A.url,delete A.title}else delete A.identifier,delete A.label;this.data.referenceType=void 0}function G(){const A=this.stack[this.stack.length-1];if(this.data.inReference){const H=this.data.referenceType||"shortcut";A.type+="Reference",A.referenceType=H,delete A.url,delete A.title}else delete A.identifier,delete A.label;this.data.referenceType=void 0}function T(A){const H=this.sliceSerialize(A),J=this.stack[this.stack.length-2];J.label=o4(H),J.identifier=Ha(H).toLowerCase()}function K(){const A=this.stack[this.stack.length-1],H=this.resume(),J=this.stack[this.stack.length-1];if(this.data.inReference=!0,J.type==="link"){const se=A.children;J.children=se}else J.alt=H}function w(){const A=this.resume(),H=this.stack[this.stack.length-1];H.url=A}function ae(){const A=this.resume(),H=this.stack[this.stack.length-1];H.title=A}function oe(){this.data.inReference=void 0}function S(){this.data.referenceType="collapsed"}function Q(A){const H=this.resume(),J=this.stack[this.stack.length-1];J.label=H,J.identifier=Ha(this.sliceSerialize(A)).toLowerCase(),this.data.referenceType="full"}function re(A){this.data.characterReferenceType=A.type}function ce(A){const H=this.sliceSerialize(A),J=this.data.characterReferenceType;let se;J?(se=iy(H,J==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):se=Th(H);const me=this.stack[this.stack.length-1];me.value+=se}function Et(A){const H=this.stack.pop();H.position.end=Qr(A.end)}function qr(A){R.call(this,A);const H=this.stack[this.stack.length-1];H.url=this.sliceSerialize(A)}function xa(A){R.call(this,A);const H=this.stack[this.stack.length-1];H.url="mailto:"+this.sliceSerialize(A)}function ya(){return{type:"blockquote",children:[]}}function Ui(){return{type:"code",lang:null,meta:null,value:""}}function Ry(){return{type:"inlineCode",value:""}}function Dy(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ly(){return{type:"emphasis",children:[]}}function Oh(){return{type:"heading",depth:0,children:[]}}function Fh(){return{type:"break"}}function $h(){return{type:"html",value:""}}function Ay(){return{type:"image",title:null,url:"",alt:null}}function zh(){return{type:"link",title:null,url:"",children:[]}}function Uh(A){return{type:"list",ordered:A.type==="listOrdered",start:null,spread:A._spread,children:[]}}function Oy(A){return{type:"listItem",spread:A._spread,checked:null,children:[]}}function Fy(){return{type:"paragraph",children:[]}}function $y(){return{type:"strong",children:[]}}function zy(){return{type:"text",value:""}}function Uy(){return{type:"thematicBreak"}}}function Qr(e){return{line:e.line,column:e.column,offset:e.offset}}function xy(e,t){let r=-1;for(;++r<t.length;){const n=t[r];Array.isArray(n)?xy(e,n):h4(e,n)}}function h4(e,t){let r;for(r in t)if(py.call(t,r))switch(r){case"canContainEols":{const n=t[r];n&&e[r].push(...n);break}case"transforms":{const n=t[r];n&&e[r].push(...n);break}case"enter":case"exit":{const n=t[r];n&&Object.assign(e[r],n);break}}}function eg(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Ys({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Ys({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Ys({start:t.start,end:t.end})+") is still open")}function f4(e){const t=this;t.parser=r;function r(n){return u4(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function g4(e,t){const r={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,r),e.applyData(t,r)}function m4(e,t){const r={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,r),[e.applyData(t,r),{type:"text",value:`
`}]}function p4(e,t){const r=t.value?t.value+`
`:"",n={};t.lang&&(n.className=["language-"+t.lang]);let a={type:"element",tagName:"code",properties:n,children:[{type:"text",value:r}]};return t.meta&&(a.data={meta:t.meta}),e.patch(t,a),a=e.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(t,a),a}function x4(e,t){const r={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function y4(e,t){const r={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function b4(e,t){const r=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=String(t.identifier).toUpperCase(),a=vs(n.toLowerCase()),i=e.footnoteOrder.indexOf(n);let l,o=e.footnoteCounts.get(n);o===void 0?(o=0,e.footnoteOrder.push(n),l=e.footnoteOrder.length):l=i+1,o+=1,e.footnoteCounts.set(n,o);const c={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+a,id:r+"fnref-"+a+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};e.patch(t,c);const u={type:"element",tagName:"sup",properties:{},children:[c]};return e.patch(t,u),e.applyData(t,u)}function v4(e,t){const r={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function k4(e,t){if(e.options.allowDangerousHtml){const r={type:"raw",value:t.value};return e.patch(t,r),e.applyData(t,r)}}function yy(e,t){const r=t.referenceType;let n="]";if(r==="collapsed"?n+="[]":r==="full"&&(n+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+n}];const a=e.all(t),i=a[0];i&&i.type==="text"?i.value="["+i.value:a.unshift({type:"text",value:"["});const l=a[a.length-1];return l&&l.type==="text"?l.value+=n:a.push({type:"text",value:n}),a}function w4(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return yy(e,t);const a={src:vs(n.url||""),alt:t.alt};n.title!==null&&n.title!==void 0&&(a.title=n.title);const i={type:"element",tagName:"img",properties:a,children:[]};return e.patch(t,i),e.applyData(t,i)}function j4(e,t){const r={src:vs(t.url)};t.alt!==null&&t.alt!==void 0&&(r.alt=t.alt),t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,n),e.applyData(t,n)}function N4(e,t){const r={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,r);const n={type:"element",tagName:"code",properties:{},children:[r]};return e.patch(t,n),e.applyData(t,n)}function S4(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return yy(e,t);const a={href:vs(n.url||"")};n.title!==null&&n.title!==void 0&&(a.title=n.title);const i={type:"element",tagName:"a",properties:a,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function C4(e,t){const r={href:vs(t.url)};t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function E4(e,t,r){const n=e.all(t),a=r?_4(r):by(t),i={},l=[];if(typeof t.checked=="boolean"){const h=n[0];let d;h&&h.type==="element"&&h.tagName==="p"?d=h:(d={type:"element",tagName:"p",properties:{},children:[]},n.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let o=-1;for(;++o<n.length;){const h=n[o];(a||o!==0||h.type!=="element"||h.tagName!=="p")&&l.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!a?l.push(...h.children):l.push(h)}const c=n[n.length-1];c&&(a||c.type!=="element"||c.tagName!=="p")&&l.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:i,children:l};return e.patch(t,u),e.applyData(t,u)}function _4(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const r=e.children;let n=-1;for(;!t&&++n<r.length;)t=by(r[n])}return t}function by(e){const t=e.spread;return t??e.children.length>1}function T4(e,t){const r={},n=e.all(t);let a=-1;for(typeof t.start=="number"&&t.start!==1&&(r.start=t.start);++a<n.length;){const l=n[a];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}const i={type:"element",tagName:t.ordered?"ol":"ul",properties:r,children:e.wrap(n,!0)};return e.patch(t,i),e.applyData(t,i)}function I4(e,t){const r={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function P4(e,t){const r={type:"root",children:e.wrap(e.all(t))};return e.patch(t,r),e.applyData(t,r)}function M4(e,t){const r={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function R4(e,t){const r=e.all(t),n=r.shift(),a=[];if(n){const l={type:"element",tagName:"thead",properties:{},children:e.wrap([n],!0)};e.patch(t.children[0],l),a.push(l)}if(r.length>0){const l={type:"element",tagName:"tbody",properties:{},children:e.wrap(r,!0)},o=Sh(t.children[1]),c=Zx(t.children[t.children.length-1]);o&&c&&(l.position={start:o,end:c}),a.push(l)}const i={type:"element",tagName:"table",properties:{},children:e.wrap(a,!0)};return e.patch(t,i),e.applyData(t,i)}function D4(e,t,r){const n=r?r.children:void 0,i=(n?n.indexOf(t):1)===0?"th":"td",l=r&&r.type==="table"?r.align:void 0,o=l?l.length:t.children.length;let c=-1;const u=[];for(;++c<o;){const d=t.children[c],g={},f=l?l[c]:void 0;f&&(g.align=f);let x={type:"element",tagName:i,properties:g,children:[]};d&&(x.children=e.all(d),e.patch(d,x),x=e.applyData(d,x)),u.push(x)}const h={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,h),e.applyData(t,h)}function L4(e,t){const r={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}const tg=9,rg=32;function A4(e){const t=String(e),r=/\r?\n|\r/g;let n=r.exec(t),a=0;const i=[];for(;n;)i.push(ng(t.slice(a,n.index),a>0,!0),n[0]),a=n.index+n[0].length,n=r.exec(t);return i.push(ng(t.slice(a),a>0,!1)),i.join("")}function ng(e,t,r){let n=0,a=e.length;if(t){let i=e.codePointAt(n);for(;i===tg||i===rg;)n++,i=e.codePointAt(n)}if(r){let i=e.codePointAt(a-1);for(;i===tg||i===rg;)a--,i=e.codePointAt(a-1)}return a>n?e.slice(n,a):""}function O4(e,t){const r={type:"text",value:A4(String(t.value))};return e.patch(t,r),e.applyData(t,r)}function F4(e,t){const r={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,r),e.applyData(t,r)}const $4={blockquote:g4,break:m4,code:p4,delete:x4,emphasis:y4,footnoteReference:b4,heading:v4,html:k4,imageReference:w4,image:j4,inlineCode:N4,linkReference:S4,link:C4,listItem:E4,list:T4,paragraph:I4,root:P4,strong:M4,table:R4,tableCell:L4,tableRow:D4,text:O4,thematicBreak:F4,toml:cl,yaml:cl,definition:cl,footnoteDefinition:cl};function cl(){}const vy=-1,$o=0,Xs=1,uo=2,Mh=3,Rh=4,Dh=5,Lh=6,ky=7,wy=8,ag=typeof self=="object"?self:globalThis,z4=(e,t)=>{const r=(a,i)=>(e.set(i,a),a),n=a=>{if(e.has(a))return e.get(a);const[i,l]=t[a];switch(i){case $o:case vy:return r(l,a);case Xs:{const o=r([],a);for(const c of l)o.push(n(c));return o}case uo:{const o=r({},a);for(const[c,u]of l)o[n(c)]=n(u);return o}case Mh:return r(new Date(l),a);case Rh:{const{source:o,flags:c}=l;return r(new RegExp(o,c),a)}case Dh:{const o=r(new Map,a);for(const[c,u]of l)o.set(n(c),n(u));return o}case Lh:{const o=r(new Set,a);for(const c of l)o.add(n(c));return o}case ky:{const{name:o,message:c}=l;return r(new ag[o](c),a)}case wy:return r(BigInt(l),a);case"BigInt":return r(Object(BigInt(l)),a);case"ArrayBuffer":return r(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:o}=new Uint8Array(l);return r(new DataView(o),l)}}return r(new ag[i](l),a)};return n},sg=e=>z4(new Map,e)(0),wa="",{toString:U4}={},{keys:B4}=Object,Ms=e=>{const t=typeof e;if(t!=="object"||!e)return[$o,t];const r=U4.call(e).slice(8,-1);switch(r){case"Array":return[Xs,wa];case"Object":return[uo,wa];case"Date":return[Mh,wa];case"RegExp":return[Rh,wa];case"Map":return[Dh,wa];case"Set":return[Lh,wa];case"DataView":return[Xs,r]}return r.includes("Array")?[Xs,r]:r.includes("Error")?[ky,r]:[uo,r]},ul=([e,t])=>e===$o&&(t==="function"||t==="symbol"),H4=(e,t,r,n)=>{const a=(l,o)=>{const c=n.push(l)-1;return r.set(o,c),c},i=l=>{if(r.has(l))return r.get(l);let[o,c]=Ms(l);switch(o){case $o:{let h=l;switch(c){case"bigint":o=wy,h=l.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+c);h=null;break;case"undefined":return a([vy],l)}return a([o,h],l)}case Xs:{if(c){let g=l;return c==="DataView"?g=new Uint8Array(l.buffer):c==="ArrayBuffer"&&(g=new Uint8Array(l)),a([c,[...g]],l)}const h=[],d=a([o,h],l);for(const g of l)h.push(i(g));return d}case uo:{if(c)switch(c){case"BigInt":return a([c,l.toString()],l);case"Boolean":case"Number":case"String":return a([c,l.valueOf()],l)}if(t&&"toJSON"in l)return i(l.toJSON());const h=[],d=a([o,h],l);for(const g of B4(l))(e||!ul(Ms(l[g])))&&h.push([i(g),i(l[g])]);return d}case Mh:return a([o,l.toISOString()],l);case Rh:{const{source:h,flags:d}=l;return a([o,{source:h,flags:d}],l)}case Dh:{const h=[],d=a([o,h],l);for(const[g,f]of l)(e||!(ul(Ms(g))||ul(Ms(f))))&&h.push([i(g),i(f)]);return d}case Lh:{const h=[],d=a([o,h],l);for(const g of l)(e||!ul(Ms(g)))&&h.push(i(g));return d}}const{message:u}=l;return a([o,{name:c,message:u}],l)};return i},ig=(e,{json:t,lossy:r}={})=>{const n=[];return H4(!(t||r),!!t,new Map,n)(e),n},ho=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?sg(ig(e,t)):structuredClone(e):(e,t)=>sg(ig(e,t));function q4(e,t){const r=[{type:"text",value:"↩"}];return t>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),r}function W4(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function Q4(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=e.options.footnoteBackContent||q4,n=e.options.footnoteBackLabel||W4,a=e.options.footnoteLabel||"Footnotes",i=e.options.footnoteLabelTagName||"h2",l=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let c=-1;for(;++c<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[c]);if(!u)continue;const h=e.all(u),d=String(u.identifier).toUpperCase(),g=vs(d.toLowerCase());let f=0;const x=[],b=e.footnoteCounts.get(d);for(;b!==void 0&&++f<=b;){x.length>0&&x.push({type:"text",value:" "});let p=typeof r=="string"?r:r(c,f);typeof p=="string"&&(p={type:"text",value:p}),x.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+g+(f>1?"-"+f:""),dataFootnoteBackref:"",ariaLabel:typeof n=="string"?n:n(c,f),className:["data-footnote-backref"]},children:Array.isArray(p)?p:[p]})}const j=h[h.length-1];if(j&&j.type==="element"&&j.tagName==="p"){const p=j.children[j.children.length-1];p&&p.type==="text"?p.value+=" ":j.children.push({type:"text",value:" "}),j.children.push(...x)}else h.push(...x);const m={type:"element",tagName:"li",properties:{id:t+"fn-"+g},children:e.wrap(h,!0)};e.patch(u,m),o.push(m)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{...ho(l),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:`
`}]}}const jy=function(e){if(e==null)return G4;if(typeof e=="function")return zo(e);if(typeof e=="object")return Array.isArray(e)?V4(e):K4(e);if(typeof e=="string")return Y4(e);throw new Error("Expected function, string, or object as test")};function V4(e){const t=[];let r=-1;for(;++r<e.length;)t[r]=jy(e[r]);return zo(n);function n(...a){let i=-1;for(;++i<t.length;)if(t[i].apply(this,a))return!0;return!1}}function K4(e){const t=e;return zo(r);function r(n){const a=n;let i;for(i in e)if(a[i]!==t[i])return!1;return!0}}function Y4(e){return zo(t);function t(r){return r&&r.type===e}}function zo(e){return t;function t(r,n,a){return!!(X4(r)&&e.call(this,r,typeof n=="number"?n:void 0,a||void 0))}}function G4(){return!0}function X4(e){return e!==null&&typeof e=="object"&&"type"in e}const Ny=[],J4=!0,lg=!1,Z4="skip";function eE(e,t,r,n){let a;typeof t=="function"&&typeof r!="function"?(n=r,r=t):a=t;const i=jy(a),l=n?-1:1;o(e,void 0,[])();function o(c,u,h){const d=c&&typeof c=="object"?c:{};if(typeof d.type=="string"){const f=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(c.type+(f?"<"+f+">":""))+")"})}return g;function g(){let f=Ny,x,b,j;if((!t||i(c,u,h[h.length-1]||void 0))&&(f=tE(r(c,h)),f[0]===lg))return f;if("children"in c&&c.children){const m=c;if(m.children&&f[0]!==Z4)for(b=(n?m.children.length:-1)+l,j=h.concat(m);b>-1&&b<m.children.length;){const p=m.children[b];if(x=o(p,b,j)(),x[0]===lg)return x;b=typeof x[1]=="number"?x[1]:b+l}}return f}}}function tE(e){return Array.isArray(e)?e:typeof e=="number"?[J4,e]:e==null?Ny:[e]}function Sy(e,t,r,n){let a,i,l;typeof t=="function"&&typeof r!="function"?(i=void 0,l=t,a=r):(i=t,l=r,a=n),eE(e,i,o,a);function o(c,u){const h=u[u.length-1],d=h?h.children.indexOf(c):void 0;return l(c,d,h)}}const rd={}.hasOwnProperty,rE={};function nE(e,t){const r=t||rE,n=new Map,a=new Map,i=new Map,l={...$4,...r.handlers},o={all:u,applyData:sE,definitionById:n,footnoteById:a,footnoteCounts:i,footnoteOrder:[],handlers:l,one:c,options:r,patch:aE,wrap:lE};return Sy(e,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const d=h.type==="definition"?n:a,g=String(h.identifier).toUpperCase();d.has(g)||d.set(g,h)}}),o;function c(h,d){const g=h.type,f=o.handlers[g];if(rd.call(o.handlers,g)&&f)return f(o,h,d);if(o.options.passThrough&&o.options.passThrough.includes(g)){if("children"in h){const{children:b,...j}=h,m=ho(j);return m.children=o.all(h),m}return ho(h)}return(o.options.unknownHandler||iE)(o,h,d)}function u(h){const d=[];if("children"in h){const g=h.children;let f=-1;for(;++f<g.length;){const x=o.one(g[f],h);if(x){if(f&&g[f-1].type==="break"&&(!Array.isArray(x)&&x.type==="text"&&(x.value=og(x.value)),!Array.isArray(x)&&x.type==="element")){const b=x.children[0];b&&b.type==="text"&&(b.value=og(b.value))}Array.isArray(x)?d.push(...x):d.push(x)}}}return d}}function aE(e,t){e.position&&(t.position=U2(e))}function sE(e,t){let r=t;if(e&&e.data){const n=e.data.hName,a=e.data.hChildren,i=e.data.hProperties;if(typeof n=="string")if(r.type==="element")r.tagName=n;else{const l="children"in r?r.children:[r];r={type:"element",tagName:n,properties:{},children:l}}r.type==="element"&&i&&Object.assign(r.properties,ho(i)),"children"in r&&r.children&&a!==null&&a!==void 0&&(r.children=a)}return r}function iE(e,t){const r=t.data||{},n="value"in t&&!(rd.call(r,"hProperties")||rd.call(r,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function lE(e,t){const r=[];let n=-1;for(t&&r.push({type:"text",value:`
`});++n<e.length;)n&&r.push({type:"text",value:`
`}),r.push(e[n]);return t&&e.length>0&&r.push({type:"text",value:`
`}),r}function og(e){let t=0,r=e.charCodeAt(t);for(;r===9||r===32;)t++,r=e.charCodeAt(t);return e.slice(t)}function cg(e,t){const r=nE(e,t),n=r.one(e,void 0),a=Q4(r),i=Array.isArray(n)?{type:"root",children:n}:n||{type:"root",children:[]};return a&&i.children.push({type:"text",value:`
`},a),i}function oE(e,t){return e&&"run"in e?async function(r,n){const a=cg(r,{file:n,...t});await e.run(a,n)}:function(r,n){return cg(r,{file:n,...e||t})}}function ug(e){if(e)throw e}var _l=Object.prototype.hasOwnProperty,Cy=Object.prototype.toString,dg=Object.defineProperty,hg=Object.getOwnPropertyDescriptor,fg=function(t){return typeof Array.isArray=="function"?Array.isArray(t):Cy.call(t)==="[object Array]"},gg=function(t){if(!t||Cy.call(t)!=="[object Object]")return!1;var r=_l.call(t,"constructor"),n=t.constructor&&t.constructor.prototype&&_l.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!r&&!n)return!1;var a;for(a in t);return typeof a>"u"||_l.call(t,a)},mg=function(t,r){dg&&r.name==="__proto__"?dg(t,r.name,{enumerable:!0,configurable:!0,value:r.newValue,writable:!0}):t[r.name]=r.newValue},pg=function(t,r){if(r==="__proto__")if(_l.call(t,r)){if(hg)return hg(t,r).value}else return;return t[r]},cE=function e(){var t,r,n,a,i,l,o=arguments[0],c=1,u=arguments.length,h=!1;for(typeof o=="boolean"&&(h=o,o=arguments[1]||{},c=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});c<u;++c)if(t=arguments[c],t!=null)for(r in t)n=pg(o,r),a=pg(t,r),o!==a&&(h&&a&&(gg(a)||(i=fg(a)))?(i?(i=!1,l=n&&fg(n)?n:[]):l=n&&gg(n)?n:{},mg(o,{name:r,newValue:e(h,l,a)})):typeof a<"u"&&mg(o,{name:r,newValue:a}));return o};const kc=ld(cE);function nd(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function uE(){const e=[],t={run:r,use:n};return t;function r(...a){let i=-1;const l=a.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);o(null,...a);function o(c,...u){const h=e[++i];let d=-1;if(c){l(c);return}for(;++d<a.length;)(u[d]===null||u[d]===void 0)&&(u[d]=a[d]);a=u,h?dE(h,o)(...u):l(null,...u)}}function n(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return e.push(a),t}}function dE(e,t){let r;return n;function n(...l){const o=e.length>l.length;let c;o&&l.push(a);try{c=e.apply(this,l)}catch(u){const h=u;if(o&&r)throw h;return a(h)}o||(c&&c.then&&typeof c.then=="function"?c.then(i,a):c instanceof Error?a(c):i(c))}function a(l,...o){r||(r=!0,t(l,...o))}function i(l){a(null,l)}}const ur={basename:hE,dirname:fE,extname:gE,join:mE,sep:"/"};function hE(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');$i(e);let r=0,n=-1,a=e.length,i;if(t===void 0||t.length===0||t.length>e.length){for(;a--;)if(e.codePointAt(a)===47){if(i){r=a+1;break}}else n<0&&(i=!0,n=a+1);return n<0?"":e.slice(r,n)}if(t===e)return"";let l=-1,o=t.length-1;for(;a--;)if(e.codePointAt(a)===47){if(i){r=a+1;break}}else l<0&&(i=!0,l=a+1),o>-1&&(e.codePointAt(a)===t.codePointAt(o--)?o<0&&(n=a):(o=-1,n=l));return r===n?n=l:n<0&&(n=e.length),e.slice(r,n)}function fE(e){if($i(e),e.length===0)return".";let t=-1,r=e.length,n;for(;--r;)if(e.codePointAt(r)===47){if(n){t=r;break}}else n||(n=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function gE(e){$i(e);let t=e.length,r=-1,n=0,a=-1,i=0,l;for(;t--;){const o=e.codePointAt(t);if(o===47){if(l){n=t+1;break}continue}r<0&&(l=!0,r=t+1),o===46?a<0?a=t:i!==1&&(i=1):a>-1&&(i=-1)}return a<0||r<0||i===0||i===1&&a===r-1&&a===n+1?"":e.slice(a,r)}function mE(...e){let t=-1,r;for(;++t<e.length;)$i(e[t]),e[t]&&(r=r===void 0?e[t]:r+"/"+e[t]);return r===void 0?".":pE(r)}function pE(e){$i(e);const t=e.codePointAt(0)===47;let r=xE(e,!t);return r.length===0&&!t&&(r="."),r.length>0&&e.codePointAt(e.length-1)===47&&(r+="/"),t?"/"+r:r}function xE(e,t){let r="",n=0,a=-1,i=0,l=-1,o,c;for(;++l<=e.length;){if(l<e.length)o=e.codePointAt(l);else{if(o===47)break;o=47}if(o===47){if(!(a===l-1||i===1))if(a!==l-1&&i===2){if(r.length<2||n!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if(c=r.lastIndexOf("/"),c!==r.length-1){c<0?(r="",n=0):(r=r.slice(0,c),n=r.length-1-r.lastIndexOf("/")),a=l,i=0;continue}}else if(r.length>0){r="",n=0,a=l,i=0;continue}}t&&(r=r.length>0?r+"/..":"..",n=2)}else r.length>0?r+="/"+e.slice(a+1,l):r=e.slice(a+1,l),n=l-a-1;a=l,i=0}else o===46&&i>-1?i++:i=-1}return r}function $i(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const yE={cwd:bE};function bE(){return"/"}function ad(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function vE(e){if(typeof e=="string")e=new URL(e);else if(!ad(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return kE(e)}function kE(e){if(e.hostname!==""){const n=new TypeError('File URL host must be "localhost" or empty on darwin');throw n.code="ERR_INVALID_FILE_URL_HOST",n}const t=e.pathname;let r=-1;for(;++r<t.length;)if(t.codePointAt(r)===37&&t.codePointAt(r+1)===50){const n=t.codePointAt(r+2);if(n===70||n===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(t)}const wc=["history","path","basename","stem","extname","dirname"];class Ey{constructor(t){let r;t?ad(t)?r={path:t}:typeof t=="string"||wE(t)?r={value:t}:r=t:r={},this.cwd="cwd"in r?"":yE.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n=-1;for(;++n<wc.length;){const i=wc[n];i in r&&r[i]!==void 0&&r[i]!==null&&(this[i]=i==="history"?[...r[i]]:r[i])}let a;for(a in r)wc.includes(a)||(this[a]=r[a])}get basename(){return typeof this.path=="string"?ur.basename(this.path):void 0}set basename(t){Nc(t,"basename"),jc(t,"basename"),this.path=ur.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?ur.dirname(this.path):void 0}set dirname(t){xg(this.basename,"dirname"),this.path=ur.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?ur.extname(this.path):void 0}set extname(t){if(jc(t,"extname"),xg(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ur.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){ad(t)&&(t=vE(t)),Nc(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?ur.basename(this.path,this.extname):void 0}set stem(t){Nc(t,"stem"),jc(t,"stem"),this.path=ur.join(this.dirname||"",t+(this.extname||""))}fail(t,r,n){const a=this.message(t,r,n);throw a.fatal=!0,a}info(t,r,n){const a=this.message(t,r,n);return a.fatal=void 0,a}message(t,r,n){const a=new at(t,r,n);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function jc(e,t){if(e&&e.includes(ur.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+ur.sep+"`")}function Nc(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function xg(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function wE(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const jE=function(e){const n=this.constructor.prototype,a=n[e],i=function(){return a.apply(i,arguments)};return Object.setPrototypeOf(i,n),i},NE={}.hasOwnProperty;class Ah extends jE{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=uE()}copy(){const t=new Ah;let r=-1;for(;++r<this.attachers.length;){const n=this.attachers[r];t.use(...n)}return t.data(kc(!0,{},this.namespace)),t}data(t,r){return typeof t=="string"?arguments.length===2?(Ec("data",this.frozen),this.namespace[t]=r,this):NE.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Ec("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...n]=this.attachers[this.freezeIndex];if(n[0]===!1)continue;n[0]===!0&&(n[0]=void 0);const a=r.call(t,...n);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const r=dl(t),n=this.parser||this.Parser;return Sc("parse",n),n(String(r),r)}process(t,r){const n=this;return this.freeze(),Sc("process",this.parser||this.Parser),Cc("process",this.compiler||this.Compiler),r?a(void 0,r):new Promise(a);function a(i,l){const o=dl(t),c=n.parse(o);n.run(c,o,function(h,d,g){if(h||!d||!g)return u(h);const f=d,x=n.stringify(f,g);EE(x)?g.value=x:g.result=x,u(h,g)});function u(h,d){h||!d?l(h):i?i(d):r(void 0,d)}}}processSync(t){let r=!1,n;return this.freeze(),Sc("processSync",this.parser||this.Parser),Cc("processSync",this.compiler||this.Compiler),this.process(t,a),bg("processSync","process",r),n;function a(i,l){r=!0,ug(i),n=l}}run(t,r,n){yg(t),this.freeze();const a=this.transformers;return!n&&typeof r=="function"&&(n=r,r=void 0),n?i(void 0,n):new Promise(i);function i(l,o){const c=dl(r);a.run(t,c,u);function u(h,d,g){const f=d||t;h?o(h):l?l(f):n(void 0,f,g)}}}runSync(t,r){let n=!1,a;return this.run(t,r,i),bg("runSync","run",n),a;function i(l,o){ug(l),a=o,n=!0}}stringify(t,r){this.freeze();const n=dl(r),a=this.compiler||this.Compiler;return Cc("stringify",a),yg(t),a(t,n)}use(t,...r){const n=this.attachers,a=this.namespace;if(Ec("use",this.frozen),t!=null)if(typeof t=="function")c(t,r);else if(typeof t=="object")Array.isArray(t)?o(t):l(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function i(u){if(typeof u=="function")c(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[h,...d]=u;c(h,d)}else l(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function l(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(u.plugins),u.settings&&(a.settings=kc(!0,a.settings,u.settings))}function o(u){let h=-1;if(u!=null)if(Array.isArray(u))for(;++h<u.length;){const d=u[h];i(d)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function c(u,h){let d=-1,g=-1;for(;++d<n.length;)if(n[d][0]===u){g=d;break}if(g===-1)n.push([u,...h]);else if(h.length>0){let[f,...x]=h;const b=n[g][1];nd(b)&&nd(f)&&(f=kc(!0,b,f)),n[g]=[u,f,...x]}}}}const SE=new Ah().freeze();function Sc(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Cc(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Ec(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function yg(e){if(!nd(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function bg(e,t,r){if(!r)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function dl(e){return CE(e)?e:new Ey(e)}function CE(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function EE(e){return typeof e=="string"||_E(e)}function _E(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const TE="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",vg=[],kg={allowDangerousHtml:!0},IE=/^(https?|ircs?|mailto|xmpp)$/i,PE=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function ME(e){const t=RE(e),r=DE(e);return LE(t.runSync(t.parse(r),r),e)}function RE(e){const t=e.rehypePlugins||vg,r=e.remarkPlugins||vg,n=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...kg}:kg;return SE().use(f4).use(r).use(oE,n).use(t)}function DE(e){const t=e.children||"",r=new Ey;return typeof t=="string"&&(r.value=t),r}function LE(e,t){const r=t.allowedElements,n=t.allowElement,a=t.components,i=t.disallowedElements,l=t.skipHtml,o=t.unwrapDisallowed,c=t.urlTransform||AE;for(const h of PE)Object.hasOwn(t,h.from)&&(""+h.from+(h.to?"use `"+h.to+"` instead":"remove it")+TE+h.id,void 0);return Sy(e,u),Q2(e,{Fragment:s.Fragment,components:a,ignoreInvalidStyle:!0,jsx:s.jsx,jsxs:s.jsxs,passKeys:!0,passNode:!0});function u(h,d,g){if(h.type==="raw"&&g&&typeof d=="number")return l?g.children.splice(d,1):g.children[d]={type:"text",value:h.value},d;if(h.type==="element"){let f;for(f in yc)if(Object.hasOwn(yc,f)&&Object.hasOwn(h.properties,f)){const x=h.properties[f],b=yc[f];(b===null||b.includes(h.tagName))&&(h.properties[f]=c(String(x||""),f,h))}}if(h.type==="element"){let f=r?!r.includes(h.tagName):i?i.includes(h.tagName):!1;if(!f&&n&&typeof d=="number"&&(f=!n(h,d,g)),f&&g&&typeof d=="number")return o&&h.children?g.children.splice(d,1,...h.children):g.children.splice(d,1),d}}}function AE(e){const t=e.indexOf(":"),r=e.indexOf("?"),n=e.indexOf("#"),a=e.indexOf("/");return t===-1||a!==-1&&t>a||r!==-1&&t>r||n!==-1&&t>n||IE.test(e.slice(0,t))?e:""}function fo(e){"@babel/helpers - typeof";return fo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fo(e)}function ua(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function je(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function ve(e){je(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||fo(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function OE(e,t){je(2,arguments);var r=ve(e).getTime(),n=ua(t);return new Date(r+n)}var FE={};function zi(){return FE}function sd(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function Tl(e,t){je(2,arguments);var r=ve(e),n=ve(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function $E(e){return je(1,arguments),e instanceof Date||fo(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function zE(e){if(je(1,arguments),!$E(e)&&typeof e!="number")return!1;var t=ve(e);return!isNaN(Number(t))}function UE(e,t){je(2,arguments);var r=ve(e),n=ve(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function BE(e,t){return je(2,arguments),ve(e).getTime()-ve(t).getTime()}var HE={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},qE="trunc";function WE(e){return HE[qE]}function QE(e){je(1,arguments);var t=ve(e);return t.setHours(23,59,59,999),t}function VE(e){je(1,arguments);var t=ve(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function KE(e){je(1,arguments);var t=ve(e);return QE(t).getTime()===VE(t).getTime()}function YE(e,t){je(2,arguments);var r=ve(e),n=ve(t),a=Tl(r,n),i=Math.abs(UE(r,n)),l;if(i<1)l=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);var o=Tl(r,n)===-a;KE(ve(e))&&i===1&&Tl(e,n)===1&&(o=!1),l=a*(i-Number(o))}return l===0?0:l}function GE(e,t,r){je(2,arguments);var n=BE(e,t)/1e3;return WE()(n)}function XE(e,t){je(2,arguments);var r=ua(t);return OE(e,-r)}var JE=864e5;function ZE(e){je(1,arguments);var t=ve(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),a=r-n;return Math.floor(a/JE)+1}function go(e){je(1,arguments);var t=1,r=ve(e),n=r.getUTCDay(),a=(n<t?7:0)+n-t;return r.setUTCDate(r.getUTCDate()-a),r.setUTCHours(0,0,0,0),r}function _y(e){je(1,arguments);var t=ve(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var a=go(n),i=new Date(0);i.setUTCFullYear(r,0,4),i.setUTCHours(0,0,0,0);var l=go(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=l.getTime()?r:r-1}function e_(e){je(1,arguments);var t=_y(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var n=go(r);return n}var t_=6048e5;function r_(e){je(1,arguments);var t=ve(e),r=go(t).getTime()-e_(t).getTime();return Math.round(r/t_)+1}function mo(e,t){var r,n,a,i,l,o,c,u;je(1,arguments);var h=zi(),d=ua((r=(n=(a=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(l=t.locale)===null||l===void 0||(o=l.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&a!==void 0?a:h.weekStartsOn)!==null&&n!==void 0?n:(c=h.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=ve(e),f=g.getUTCDay(),x=(f<d?7:0)+f-d;return g.setUTCDate(g.getUTCDate()-x),g.setUTCHours(0,0,0,0),g}function Ty(e,t){var r,n,a,i,l,o,c,u;je(1,arguments);var h=ve(e),d=h.getUTCFullYear(),g=zi(),f=ua((r=(n=(a=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(l=t.locale)===null||l===void 0||(o=l.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&a!==void 0?a:g.firstWeekContainsDate)!==null&&n!==void 0?n:(c=g.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var x=new Date(0);x.setUTCFullYear(d+1,0,f),x.setUTCHours(0,0,0,0);var b=mo(x,t),j=new Date(0);j.setUTCFullYear(d,0,f),j.setUTCHours(0,0,0,0);var m=mo(j,t);return h.getTime()>=b.getTime()?d+1:h.getTime()>=m.getTime()?d:d-1}function n_(e,t){var r,n,a,i,l,o,c,u;je(1,arguments);var h=zi(),d=ua((r=(n=(a=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(l=t.locale)===null||l===void 0||(o=l.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&a!==void 0?a:h.firstWeekContainsDate)!==null&&n!==void 0?n:(c=h.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1),g=Ty(e,t),f=new Date(0);f.setUTCFullYear(g,0,d),f.setUTCHours(0,0,0,0);var x=mo(f,t);return x}var a_=6048e5;function s_(e,t){je(1,arguments);var r=ve(e),n=mo(r,t).getTime()-n_(r,t).getTime();return Math.round(n/a_)+1}function he(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}var Vr={y:function(t,r){var n=t.getUTCFullYear(),a=n>0?n:1-n;return he(r==="yy"?a%100:a,r.length)},M:function(t,r){var n=t.getUTCMonth();return r==="M"?String(n+1):he(n+1,2)},d:function(t,r){return he(t.getUTCDate(),r.length)},a:function(t,r){var n=t.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(t,r){return he(t.getUTCHours()%12||12,r.length)},H:function(t,r){return he(t.getUTCHours(),r.length)},m:function(t,r){return he(t.getUTCMinutes(),r.length)},s:function(t,r){return he(t.getUTCSeconds(),r.length)},S:function(t,r){var n=r.length,a=t.getUTCMilliseconds(),i=Math.floor(a*Math.pow(10,n-3));return he(i,r.length)}},ja={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},i_={G:function(t,r,n){var a=t.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){var a=t.getUTCFullYear(),i=a>0?a:1-a;return n.ordinalNumber(i,{unit:"year"})}return Vr.y(t,r)},Y:function(t,r,n,a){var i=Ty(t,a),l=i>0?i:1-i;if(r==="YY"){var o=l%100;return he(o,2)}return r==="Yo"?n.ordinalNumber(l,{unit:"year"}):he(l,r.length)},R:function(t,r){var n=_y(t);return he(n,r.length)},u:function(t,r){var n=t.getUTCFullYear();return he(n,r.length)},Q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return he(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return he(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,r,n){var a=t.getUTCMonth();switch(r){case"M":case"MM":return Vr.M(t,r);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(t,r,n){var a=t.getUTCMonth();switch(r){case"L":return String(a+1);case"LL":return he(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(t,r,n,a){var i=s_(t,a);return r==="wo"?n.ordinalNumber(i,{unit:"week"}):he(i,r.length)},I:function(t,r,n){var a=r_(t);return r==="Io"?n.ordinalNumber(a,{unit:"week"}):he(a,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):Vr.d(t,r)},D:function(t,r,n){var a=ZE(t);return r==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):he(a,r.length)},E:function(t,r,n){var a=t.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(t,r,n,a){var i=t.getUTCDay(),l=(i-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(l);case"ee":return he(l,2);case"eo":return n.ordinalNumber(l,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,r,n,a){var i=t.getUTCDay(),l=(i-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(l);case"cc":return he(l,r.length);case"co":return n.ordinalNumber(l,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,r,n){var a=t.getUTCDay(),i=a===0?7:a;switch(r){case"i":return String(i);case"ii":return he(i,r.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(t,r,n){var a=t.getUTCHours(),i=a/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,r,n){var a=t.getUTCHours(),i;switch(a===12?i=ja.noon:a===0?i=ja.midnight:i=a/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,r,n){var a=t.getUTCHours(),i;switch(a>=17?i=ja.evening:a>=12?i=ja.afternoon:a>=4?i=ja.morning:i=ja.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){var a=t.getUTCHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return Vr.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Vr.H(t,r)},K:function(t,r,n){var a=t.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(a,{unit:"hour"}):he(a,r.length)},k:function(t,r,n){var a=t.getUTCHours();return a===0&&(a=24),r==="ko"?n.ordinalNumber(a,{unit:"hour"}):he(a,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Vr.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Vr.s(t,r)},S:function(t,r){return Vr.S(t,r)},X:function(t,r,n,a){var i=a._originalDate||t,l=i.getTimezoneOffset();if(l===0)return"Z";switch(r){case"X":return jg(l);case"XXXX":case"XX":return On(l);case"XXXXX":case"XXX":default:return On(l,":")}},x:function(t,r,n,a){var i=a._originalDate||t,l=i.getTimezoneOffset();switch(r){case"x":return jg(l);case"xxxx":case"xx":return On(l);case"xxxxx":case"xxx":default:return On(l,":")}},O:function(t,r,n,a){var i=a._originalDate||t,l=i.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+wg(l,":");case"OOOO":default:return"GMT"+On(l,":")}},z:function(t,r,n,a){var i=a._originalDate||t,l=i.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+wg(l,":");case"zzzz":default:return"GMT"+On(l,":")}},t:function(t,r,n,a){var i=a._originalDate||t,l=Math.floor(i.getTime()/1e3);return he(l,r.length)},T:function(t,r,n,a){var i=a._originalDate||t,l=i.getTime();return he(l,r.length)}};function wg(e,t){var r=e>0?"-":"+",n=Math.abs(e),a=Math.floor(n/60),i=n%60;if(i===0)return r+String(a);var l=t;return r+String(a)+l+he(i,2)}function jg(e,t){if(e%60===0){var r=e>0?"-":"+";return r+he(Math.abs(e)/60,2)}return On(e,t)}function On(e,t){var r=t||"",n=e>0?"-":"+",a=Math.abs(e),i=he(Math.floor(a/60),2),l=he(a%60,2);return n+i+r+l}var Ng=function(t,r){switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},Iy=function(t,r){switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},l_=function(t,r){var n=t.match(/(P+)(p+)?/)||[],a=n[1],i=n[2];if(!i)return Ng(t,r);var l;switch(a){case"P":l=r.dateTime({width:"short"});break;case"PP":l=r.dateTime({width:"medium"});break;case"PPP":l=r.dateTime({width:"long"});break;case"PPPP":default:l=r.dateTime({width:"full"});break}return l.replace("{{date}}",Ng(a,r)).replace("{{time}}",Iy(i,r))},o_={p:Iy,P:l_},c_=["D","DD"],u_=["YY","YYYY"];function d_(e){return c_.indexOf(e)!==-1}function h_(e){return u_.indexOf(e)!==-1}function Sg(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var f_={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},g_=function(t,r,n){var a,i=f_[t];return typeof i=="string"?a=i:r===1?a=i.one:a=i.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function _c(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}var m_={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},p_={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},x_={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},y_={date:_c({formats:m_,defaultWidth:"full"}),time:_c({formats:p_,defaultWidth:"full"}),dateTime:_c({formats:x_,defaultWidth:"full"})},b_={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},v_=function(t,r,n,a){return b_[t]};function Rs(e){return function(t,r){var n=r!=null&&r.context?String(r.context):"standalone",a;if(n==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):i;a=e.formattingValues[l]||e.formattingValues[i]}else{var o=e.defaultWidth,c=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[c]||e.values[o]}var u=e.argumentCallback?e.argumentCallback(t):t;return a[u]}}var k_={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},w_={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},j_={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},N_={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},S_={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},C_={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},E_=function(t,r){var n=Number(t),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},__={ordinalNumber:E_,era:Rs({values:k_,defaultWidth:"wide"}),quarter:Rs({values:w_,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Rs({values:j_,defaultWidth:"wide"}),day:Rs({values:N_,defaultWidth:"wide"}),dayPeriod:Rs({values:S_,defaultWidth:"wide",formattingValues:C_,defaultFormattingWidth:"wide"})};function Ds(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;var l=i[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(o)?I_(o,function(d){return d.test(l)}):T_(o,function(d){return d.test(l)}),u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;var h=t.slice(l.length);return{value:u,rest:h}}}function T_(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function I_(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function P_(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var a=n[0],i=t.match(e.parsePattern);if(!i)return null;var l=e.valueCallback?e.valueCallback(i[0]):i[0];l=r.valueCallback?r.valueCallback(l):l;var o=t.slice(a.length);return{value:l,rest:o}}}var M_=/^(\d+)(th|st|nd|rd)?/i,R_=/\d+/i,D_={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},L_={any:[/^b/i,/^(a|c)/i]},A_={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},O_={any:[/1/i,/2/i,/3/i,/4/i]},F_={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},$_={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},z_={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},U_={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},B_={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},H_={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},q_={ordinalNumber:P_({matchPattern:M_,parsePattern:R_,valueCallback:function(t){return parseInt(t,10)}}),era:Ds({matchPatterns:D_,defaultMatchWidth:"wide",parsePatterns:L_,defaultParseWidth:"any"}),quarter:Ds({matchPatterns:A_,defaultMatchWidth:"wide",parsePatterns:O_,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Ds({matchPatterns:F_,defaultMatchWidth:"wide",parsePatterns:$_,defaultParseWidth:"any"}),day:Ds({matchPatterns:z_,defaultMatchWidth:"wide",parsePatterns:U_,defaultParseWidth:"any"}),dayPeriod:Ds({matchPatterns:B_,defaultMatchWidth:"any",parsePatterns:H_,defaultParseWidth:"any"})},Py={code:"en-US",formatDistance:g_,formatLong:y_,formatRelative:v_,localize:__,match:q_,options:{weekStartsOn:0,firstWeekContainsDate:1}},W_=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Q_=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,V_=/^'([^]*?)'?$/,K_=/''/g,Y_=/[a-zA-Z]/;function G_(e,t,r){var n,a,i,l,o,c,u,h,d,g,f,x,b,j;je(2,arguments);var m=String(t),p=zi(),y=(n=(a=void 0)!==null&&a!==void 0?a:p.locale)!==null&&n!==void 0?n:Py,v=ua((i=(l=(o=(c=void 0)!==null&&c!==void 0?c:void 0)!==null&&o!==void 0?o:p.firstWeekContainsDate)!==null&&l!==void 0?l:(u=p.locale)===null||u===void 0||(h=u.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(v>=1&&v<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var E=ua((d=(g=(f=(x=void 0)!==null&&x!==void 0?x:void 0)!==null&&f!==void 0?f:p.weekStartsOn)!==null&&g!==void 0?g:(b=p.locale)===null||b===void 0||(j=b.options)===null||j===void 0?void 0:j.weekStartsOn)!==null&&d!==void 0?d:0);if(!(E>=0&&E<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!y.localize)throw new RangeError("locale must contain localize property");if(!y.formatLong)throw new RangeError("locale must contain formatLong property");var C=ve(e);if(!zE(C))throw new RangeError("Invalid time value");var M=sd(C),O=XE(C,M),U={firstWeekContainsDate:v,weekStartsOn:E,locale:y,_originalDate:C},R=m.match(Q_).map(function(_){var F=_[0];if(F==="p"||F==="P"){var L=o_[F];return L(_,y.formatLong)}return _}).join("").match(W_).map(function(_){if(_==="''")return"'";var F=_[0];if(F==="'")return X_(_);var L=i_[F];if(L)return h_(_)&&Sg(_,t,String(e)),d_(_)&&Sg(_,t,String(e)),L(O,_,y.localize,U);if(F.match(Y_))throw new RangeError("Format string contains an unescaped latin alphabet character `"+F+"`");return _}).join("");return R}function X_(e){var t=e.match(V_);return t?t[1].replace(K_,"'"):e}function My(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}function J_(e){return My({},e)}var Cg=1440,Z_=2520,Tc=43200,eT=86400;function tT(e,t,r){var n,a;je(2,arguments);var i=zi(),l=(n=(a=r==null?void 0:r.locale)!==null&&a!==void 0?a:i.locale)!==null&&n!==void 0?n:Py;if(!l.formatDistance)throw new RangeError("locale must contain formatDistance property");var o=Tl(e,t);if(isNaN(o))throw new RangeError("Invalid time value");var c=My(J_(r),{addSuffix:!!(r!=null&&r.addSuffix),comparison:o}),u,h;o>0?(u=ve(t),h=ve(e)):(u=ve(e),h=ve(t));var d=GE(h,u),g=(sd(h)-sd(u))/1e3,f=Math.round((d-g)/60),x;if(f<2)return r!=null&&r.includeSeconds?d<5?l.formatDistance("lessThanXSeconds",5,c):d<10?l.formatDistance("lessThanXSeconds",10,c):d<20?l.formatDistance("lessThanXSeconds",20,c):d<40?l.formatDistance("halfAMinute",0,c):d<60?l.formatDistance("lessThanXMinutes",1,c):l.formatDistance("xMinutes",1,c):f===0?l.formatDistance("lessThanXMinutes",1,c):l.formatDistance("xMinutes",f,c);if(f<45)return l.formatDistance("xMinutes",f,c);if(f<90)return l.formatDistance("aboutXHours",1,c);if(f<Cg){var b=Math.round(f/60);return l.formatDistance("aboutXHours",b,c)}else{if(f<Z_)return l.formatDistance("xDays",1,c);if(f<Tc){var j=Math.round(f/Cg);return l.formatDistance("xDays",j,c)}else if(f<eT)return x=Math.round(f/Tc),l.formatDistance("aboutXMonths",x,c)}if(x=YE(h,u),x<12){var m=Math.round(f/Tc);return l.formatDistance("xMonths",m,c)}else{var p=x%12,y=Math.floor(x/12);return p<3?l.formatDistance("aboutXYears",y,c):p<9?l.formatDistance("overXYears",y,c):l.formatDistance("almostXYears",y+1,c)}}function rT(e,t){return je(1,arguments),tT(e,Date.now(),t)}function nT({action:e,execution:t,isExecuting:r,mode:n,onConfirm:a,onCancel:i}){var f,x,b;const[l,o]=k.useState(""),c=()=>{n==="rollback"?a(l||void 0):a()},h=(()=>{var p,y;if(n==="rollback")return{title:"Confirm Rollback",message:"Are you sure you want to undo this action? This will attempt to reverse the changes made.",actionLabel:"Rollback",actionClass:"bg-orange-600 hover:bg-orange-700"};const j=(y=(p=e.parameters)==null?void 0:p.severity)==null?void 0:y.toLowerCase(),m=j==="critical"||j==="high";return{title:"Confirm Action Execution",message:m?"This is a critical action that will make immediate changes to your system. Please review carefully before proceeding.":"This action will make changes to your system. You can undo it later if needed.",actionLabel:"Execute",actionClass:m?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700"}})(),d=(x=(f=e.parameters)==null?void 0:f.severity)==null?void 0:x.toLowerCase(),g=d==="critical"||d==="high";return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-lg w-full border border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[g&&n==="execute"&&s.jsx(dt,{className:"w-5 h-5 text-red-600 dark:text-red-400"}),n==="rollback"&&s.jsx(yi,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"}),h.title]}),s.jsx("button",{onClick:i,disabled:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 disabled:opacity-50",children:s.jsx(ga,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsx("div",{className:`p-3 rounded-lg ${g&&n==="execute"?"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800":"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800"}`,children:s.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:h.message})}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Action:"}),s.jsx("span",{className:"ml-2 text-gray-900 dark:text-gray-100",children:e.label})]}),s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Description:"}),s.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:e.description})]}),((b=e.parameters)==null?void 0:b.severity)&&s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Severity:"}),s.jsx("span",{className:`ml-2 px-2 py-0.5 rounded text-xs font-medium ${d==="critical"?"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200":d==="high"?"bg-orange-100 dark:bg-orange-900 text-orange-800 dark:text-orange-200":d==="medium"?"bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200":"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200"}`,children:e.parameters.severity})]}),e.confidence!==void 0&&s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Confidence:"}),s.jsxs("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:[Math.round(e.confidence*100),"%"]})]})]}),e.parameters&&Object.keys(e.parameters).length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Parameters:"}),s.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 rounded p-3 space-y-1",children:Object.entries(e.parameters).map(([j,m])=>s.jsxs("div",{className:"text-xs flex justify-between",children:[s.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[j,":"]}),s.jsx("span",{className:"text-gray-900 dark:text-gray-100 font-mono",children:typeof m=="object"?JSON.stringify(m):String(m)})]},j))})]}),n==="rollback"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Reason for Rollback (Optional):"}),s.jsx("textarea",{value:l,onChange:j=>o(j.target.value),disabled:r,placeholder:"Enter a reason for rolling back this action...",rows:3,className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"})]}),n==="rollback"&&t&&t.executedAt&&s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 space-y-0.5 border-t border-gray-200 dark:border-gray-700 pt-3",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Originally executed by:"})," ",t.executedBy||"Unknown"]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Executed at:"})," ",new Date(t.executedAt).toLocaleString()]})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 p-4 border-t border-gray-200 dark:border-gray-700",children:[s.jsx("button",{onClick:i,disabled:r,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Cancel"}),s.jsx("button",{onClick:c,disabled:r,className:`px-4 py-2 text-sm font-medium text-white rounded-md disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 ${h.actionClass}`,children:r?s.jsxs(s.Fragment,{children:[s.jsx(qu,{className:"w-4 h-4 animate-spin"}),s.jsx("span",{children:"Processing..."})]}):s.jsx("span",{children:h.actionLabel})})]})]})})}function aT({action:e,execution:t,onExecute:r,onRollback:n}){var y;const[a,i]=k.useState(!1),[l,o]=k.useState(!1),c=()=>{switch(e.type){case"block_ip":case nr.BlockIP:return Sx;case"isolate_host":case nr.IsolateHost:return Tx;case"quarantine_file":case nr.QuarantineFile:return Ix;case"add_to_watchlist":case nr.AddToWatchlist:return xs;case"create_ticket":case nr.CreateTicket:return Ox;default:return Kt}},u=()=>{if(!t)return{icon:vr,color:"text-blue-600 dark:text-blue-400",bgColor:"bg-blue-100 dark:bg-blue-900",borderColor:"border-blue-300 dark:border-blue-700",label:"Pending"};switch(t.status){case We.Executed:return{icon:nt,color:"text-green-600 dark:text-green-400",bgColor:"bg-green-100 dark:bg-green-900",borderColor:"border-green-300 dark:border-green-700",label:"Executed"};case We.RolledBack:return{icon:oo,color:"text-gray-600 dark:text-gray-400",bgColor:"bg-gray-100 dark:bg-gray-900",borderColor:"border-gray-300 dark:border-gray-700",label:"Rolled Back"};case We.Failed:return{icon:xr,color:"text-red-600 dark:text-red-400",bgColor:"bg-red-100 dark:bg-red-900",borderColor:"border-red-300 dark:border-red-700",label:"Failed"};case We.Expired:return{icon:vr,color:"text-gray-600 dark:text-gray-400",bgColor:"bg-gray-100 dark:bg-gray-900",borderColor:"border-gray-300 dark:border-gray-700",label:"Expired"};default:return{icon:vr,color:"text-blue-600 dark:text-blue-400",bgColor:"bg-blue-100 dark:bg-blue-900",borderColor:"border-blue-300 dark:border-blue-700",label:"Pending"}}},h=v=>{switch(v==null?void 0:v.toLowerCase()){case"critical":return"bg-red-50 dark:bg-red-900/20 border-red-300 dark:border-red-700";case"high":return"bg-orange-50 dark:bg-orange-900/20 border-orange-300 dark:border-orange-700";case"medium":return"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-300 dark:border-yellow-700";case"low":return"bg-green-50 dark:bg-green-900/20 border-green-300 dark:border-green-700";default:return"bg-gray-50 dark:bg-gray-800 border-gray-300 dark:border-gray-700"}},d=async()=>{o(!0);try{await r(e),i(!1)}catch(v){console.error("Failed to execute action:",v)}finally{o(!1)}},g=async v=>{if(!(!t||!n)){o(!0);try{await n(t.id,v),i(!1)}catch(E){console.error("Failed to rollback action:",E)}finally{o(!1)}}},f=c(),x=u(),b=x.icon,j=h((y=e.parameters)==null?void 0:y.severity),m=!t||t.status===We.Pending,p=(t==null?void 0:t.status)===We.Executed&&n;return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:`w-full p-3 rounded-lg border transition-all ${j}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(f,{className:"w-5 h-5 text-gray-700 dark:text-gray-300"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:e.label}),s.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400 mt-0.5",children:e.description})]}),s.jsxs("div",{className:`flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${x.bgColor} ${x.color}`,children:[s.jsx(b,{className:"w-3 h-3"}),s.jsx("span",{children:x.label})]})]}),e.confidence!==void 0&&s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Confidence: ",Math.round(e.confidence*100),"%"]}),s.jsxs("div",{className:"flex gap-2 mt-3",children:[m&&s.jsx("button",{onClick:()=>i(!0),disabled:l,className:"px-3 py-1.5 text-xs font-medium rounded-md bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-1",children:l?s.jsxs(s.Fragment,{children:[s.jsx(qu,{className:"w-3 h-3 animate-spin"}),s.jsx("span",{children:"Executing..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(nt,{className:"w-3 h-3"}),s.jsx("span",{children:"Execute"})]})}),p&&s.jsx("button",{onClick:()=>i(!0),disabled:l,className:"px-3 py-1.5 text-xs font-medium rounded-md bg-gray-600 text-white hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-1",children:l?s.jsxs(s.Fragment,{children:[s.jsx(qu,{className:"w-3 h-3 animate-spin"}),s.jsx("span",{children:"Rolling back..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(oo,{className:"w-3 h-3"}),s.jsx("span",{children:"Undo"})]})}),t&&t.status!==We.Pending&&s.jsx("button",{onClick:()=>{},className:"px-3 py-1.5 text-xs font-medium rounded-md bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"View Details"})]}),t&&t.executedAt&&s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 space-y-0.5",children:[s.jsxs("div",{children:["Executed by: ",t.executedBy||"Unknown"]}),s.jsxs("div",{children:["Executed at: ",new Date(t.executedAt).toLocaleString()]}),t.rolledBackAt&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:["Rolled back by: ",t.rolledBackBy||"Unknown"]}),s.jsxs("div",{children:["Rolled back at: ",new Date(t.rolledBackAt).toLocaleString()]}),t.rollbackReason&&s.jsxs("div",{className:"italic",children:["Reason: ",t.rollbackReason]})]})]})]})]})}),a&&s.jsx(nT,{action:e,execution:t,isExecuting:l,mode:p?"rollback":"execute",onConfirm:p?g:d,onCancel:()=>i(!1)})]})}function sT({message:e,conversationId:t,actionExecutions:r,onActionExecute:n,onActionRollback:a,onCitationClick:i}){const[l,o]=k.useState(!1),c=e.role==="user",u=async()=>{await navigator.clipboard.writeText(e.content),o(!0),setTimeout(()=>o(!1),2e3)};return s.jsx("div",{className:`flex ${c?"justify-end":"justify-start"} mb-4`,children:s.jsxs("div",{className:`max-w-[80%] ${c?"order-2":"order-1"}`,children:[s.jsxs("div",{className:`rounded-lg p-4 ${c?"bg-blue-600 text-white":"bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 border border-gray-200 dark:border-gray-700"}`,children:[!c&&s.jsxs("div",{className:"flex items-center justify-between mb-2 pb-2 border-b border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Be,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),s.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:"CastellanAI"}),e.intent&&s.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200",children:e.intent})]}),s.jsx("button",{onClick:u,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors",title:"Copy message",children:l?s.jsx(nt,{className:"w-4 h-4 text-green-600"}):s.jsx(j0,{className:"w-4 h-4"})})]}),s.jsx("div",{className:`prose ${c?"prose-invert":"dark:prose-invert"} prose-sm max-w-none`,children:s.jsx(ME,{components:{a:({node:h,...d})=>s.jsx("a",{...d,className:"text-blue-600 dark:text-blue-400 hover:underline",target:"_blank",rel:"noopener noreferrer"}),code:({node:h,...d})=>d.className?s.jsx("code",{...d,className:"block px-4 py-3 rounded bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-gray-200 font-mono text-sm overflow-x-auto"}):s.jsx("code",{...d,className:"px-1.5 py-0.5 rounded bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200 font-mono text-sm"})},children:e.content})}),c&&s.jsx("div",{className:"flex justify-end mt-2 pt-2 border-t border-blue-500",children:s.jsx("button",{onClick:u,className:"text-blue-100 hover:text-white transition-colors text-sm flex items-center gap-1",title:"Copy message",children:l?s.jsxs(s.Fragment,{children:[s.jsx(nt,{className:"w-3 h-3"}),s.jsx("span",{children:"Copied"})]}):s.jsxs(s.Fragment,{children:[s.jsx(j0,{className:"w-3 h-3"}),s.jsx("span",{children:"Copy"})]})})})]}),e.citations&&e.citations.length>0&&s.jsxs("div",{className:"mt-2 space-y-1",children:[s.jsx("div",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400 mb-1",children:"Sources:"}),e.citations.map((h,d)=>s.jsx("button",{onClick:()=>i==null?void 0:i(h),className:"w-full text-left p-2 rounded-lg bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 hover:border-blue-300 dark:hover:border-blue-600 transition-all group",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(J1,{className:"w-3 h-3 mt-0.5 text-gray-400 group-hover:text-blue-600 dark:group-hover:text-blue-400"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-xs font-medium text-gray-900 dark:text-gray-100 truncate",children:h.displayText||h.sourceId}),h.url&&s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:h.url})]}),s.jsxs("span",{className:"text-xs text-gray-400",children:[Math.round(h.relevance*100),"%"]})]})},d))]}),e.suggestedActions&&e.suggestedActions.length>0&&t&&s.jsxs("div",{className:"mt-3 space-y-2",children:[s.jsx("div",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400 mb-1",children:"Suggested Actions:"}),e.suggestedActions.map((h,d)=>{const g=`${e.id}-${h.type}`,f=r==null?void 0:r.get(g);return s.jsx(aT,{action:h,execution:f,conversationId:t,messageId:e.id,onExecute:async x=>{n&&await n(x,e.id)},onRollback:f&&a?async(x,b)=>{await a(x,g,b)}:void 0},d)})]}),e.visualizations&&e.visualizations.length>0&&s.jsx("div",{className:"mt-3 space-y-3",children:e.visualizations.map((h,d)=>s.jsxs("div",{className:"p-4 rounded-lg bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700",children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100 mb-2",children:h.title}),s.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:["Visualization: ",h.type]}),s.jsx("pre",{className:"mt-2 text-xs bg-gray-50 dark:bg-gray-900 p-2 rounded overflow-x-auto",children:JSON.stringify(h.data,null,2)})]},d))}),s.jsx("div",{className:`text-xs text-gray-500 dark:text-gray-400 mt-1 ${c?"text-right":"text-left"}`,children:G_(new Date(e.timestamp),"MMM d, yyyy h:mm a")})]})})}function iT({message:e="CastellanAI is thinking...",showProgress:t=!1,estimatedTimeMs:r=3e3}){const[n,a]=k.useState(0),[i,l]=k.useState("");return k.useEffect(()=>{const o=setInterval(()=>{l(c=>c.length>=3?"":c+".")},500);return()=>clearInterval(o)},[]),k.useEffect(()=>{if(!t)return;const o=100/(r/100),c=setInterval(()=>{a(u=>{const h=u+o;return h>=90?Math.min(u+o/4,95):Math.min(h,95)})},100);return()=>{clearInterval(c),a(0)}},[t,r]),s.jsxs("div",{className:"flex justify-start mb-4",children:[s.jsxs("div",{className:"max-w-[80%]",children:[s.jsxs("div",{className:"rounded-lg p-4 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx(K1,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),s.jsx(En,{className:"w-3 h-3 text-blue-600 dark:text-blue-400 animate-spin absolute -top-1 -right-1"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:[e,i]}),t&&s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Analyzing security context..."})]})]}),t&&s.jsx("div",{className:"mt-3",children:s.jsx("div",{className:"h-1.5 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-blue-600 transition-all duration-300 ease-out rounded-full",style:{width:`${n}%`},children:s.jsx("div",{className:"h-full w-full bg-gradient-to-r from-transparent via-white/30 to-transparent animate-shimmer"})})})}),s.jsx("div",{className:"flex items-center gap-1.5 mt-3",children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx("span",{className:"w-2 h-2 bg-blue-600 dark:bg-blue-400 rounded-full animate-pulse",style:{animationDelay:"0ms"}}),s.jsx("span",{className:"w-2 h-2 bg-blue-600 dark:bg-blue-400 rounded-full animate-pulse",style:{animationDelay:"150ms"}}),s.jsx("span",{className:"w-2 h-2 bg-blue-600 dark:bg-blue-400 rounded-full animate-pulse",style:{animationDelay:"300ms"}})]})})]}),s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Just now"})]}),s.jsx("style",{children:`
        @keyframes shimmer {
          0% { transform: translateX(-100%); }
          100% { transform: translateX(100%); }
        }
        .animate-shimmer {
          animation: shimmer 1.5s infinite;
        }
      `})]})}function lT({onSendMessage:e,disabled:t=!1,loading:r=!1,placeholder:n="Ask CastellanAI about security events, threats, or investigations...",maxLength:a=2e3,suggestions:i=[],onSuggestionClick:l}){const[o,c]=k.useState(""),[u,h]=k.useState(!1),d=k.useRef(null),g=k.useRef(null);k.useEffect(()=>{const v=d.current;if(!v)return;v.style.height="auto";const E=Math.min(Math.max(v.scrollHeight,60),200);v.style.height=`${E}px`},[o]),k.useEffect(()=>{var v;(v=d.current)==null||v.focus()},[]);const f=()=>{const v=o.trim();!v||t||r||(e(v),c(""),h(!1),d.current&&(d.current.style.height="auto"))},x=v=>{(v.ctrlKey||v.metaKey)&&v.key==="Enter"&&(v.preventDefault(),f())},b=v=>{const E=v.target.value;E.length<=a&&(c(E),E.length>0&&i.length>0?h(!0):h(!1))},j=v=>{var E;c(v),h(!1),l==null||l(v),(E=d.current)==null||E.focus()},m=o.length,p=m>a*.8,y=m>=a;return s.jsxs("div",{className:"relative",ref:g,children:[u&&i.length>0&&s.jsx("div",{className:"absolute bottom-full left-0 right-0 mb-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg max-h-48 overflow-y-auto z-10",children:s.jsxs("div",{className:"p-2",children:[s.jsx("div",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400 px-2 py-1",children:"Suggestions"}),i.map((v,E)=>s.jsx("button",{onClick:()=>j(v),className:"w-full text-left px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 text-sm text-gray-900 dark:text-gray-100 transition-colors",children:v},E))]})}),s.jsxs("div",{className:"flex items-end gap-2 p-4 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx("textarea",{ref:d,value:o,onChange:b,onKeyDown:x,placeholder:n,disabled:t||r,className:`w-full px-4 py-3 pr-16 rounded-lg border resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 transition-all ${t||r?"bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400 cursor-not-allowed":"bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 border-gray-300 dark:border-gray-600"} ${y?"border-red-500 dark:border-red-400":""}`,rows:1,style:{minHeight:"60px",maxHeight:"200px"}}),s.jsxs("div",{className:`absolute bottom-2 right-2 text-xs ${y?"text-red-600 dark:text-red-400 font-semibold":p?"text-orange-600 dark:text-orange-400":"text-gray-400 dark:text-gray-500"}`,children:[m," / ",a]})]}),s.jsx("button",{onClick:f,disabled:!o.trim()||t||r||y,className:`flex items-center justify-center w-12 h-12 rounded-lg transition-all ${!o.trim()||t||r||y?"bg-gray-200 dark:bg-gray-700 text-gray-400 dark:text-gray-500 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white shadow-md hover:shadow-lg transform hover:scale-105"}`,title:"Send message (Ctrl+Enter)",children:r?s.jsx(En,{className:"w-5 h-5 animate-spin"}):s.jsx(sj,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"px-4 pb-2 flex items-center justify-between text-xs text-gray-500 dark:text-gray-400",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{children:"Press"}),s.jsx("kbd",{className:"px-1.5 py-0.5 bg-gray-100 dark:bg-gray-700 rounded border border-gray-300 dark:border-gray-600 font-mono",children:"Ctrl"}),s.jsx("span",{children:"+"}),s.jsx("kbd",{className:"px-1.5 py-0.5 bg-gray-100 dark:bg-gray-700 rounded border border-gray-300 dark:border-gray-600 font-mono",children:"Enter"}),s.jsx("span",{children:"to send"})]}),y&&s.jsxs("div",{className:"flex items-center gap-1 text-red-600 dark:text-red-400",children:[s.jsx(Kt,{className:"w-3 h-3"}),s.jsx("span",{children:"Character limit reached"})]})]})]})}const oT=[{id:"critical-events",text:"Show critical events from last hour",icon:dt,category:"threat"},{id:"summarize-threats",text:"Summarize today's threats",icon:Be,category:"analysis"},{id:"compliance-status",text:"Check compliance status",icon:mh,category:"compliance"},{id:"failed-logins",text:"Find failed login attempts",icon:Rx,category:"investigation"},{id:"network-activity",text:"Show unusual network activity",icon:Lx,category:"threat"},{id:"user-activity",text:"Review user activity patterns",icon:uj,category:"analysis"}],cT=[{id:"active-threats",text:"What active threats are detected?",icon:dt,category:"threat"},{id:"malware-detections",text:"Show recent malware detections",icon:Be,category:"threat"},{id:"external-ips",text:"Find connections from external IPs",icon:Lx,category:"investigation"},{id:"privilege-escalation",text:"Check for privilege escalation attempts",icon:xh,category:"threat"}],uT=[{id:"recent-high-risk",text:"Show recent high-risk events",icon:dt,category:"threat"},{id:"event-timeline",text:"Create timeline of recent events",icon:vr,category:"analysis"},{id:"correlation-patterns",text:"Find correlated event patterns",icon:Cn,category:"analysis"},{id:"search-events",text:"Search events by criteria",icon:fa,category:"investigation"}],dT=[{id:"soc2-report",text:"Generate SOC2 compliance report",icon:mh,category:"compliance"},{id:"access-violations",text:"Find access control violations",icon:Rx,category:"compliance"},{id:"audit-trail",text:"Review audit trail for changes",icon:Cn,category:"compliance"},{id:"policy-violations",text:"Check for policy violations",icon:dt,category:"compliance"}];function hT({onSuggestionClick:e,context:t="default"}){const r=hd.useMemo(()=>{switch(t){case"threat":return cT;case"event":return uT;case"compliance":return dT;default:return oT}},[t]),n=a=>{switch(a){case"threat":return"border-red-200 dark:border-red-800 hover:border-red-400 dark:hover:border-red-600 hover:bg-red-50 dark:hover:bg-red-900/20";case"investigation":return"border-orange-200 dark:border-orange-800 hover:border-orange-400 dark:hover:border-orange-600 hover:bg-orange-50 dark:hover:bg-orange-900/20";case"compliance":return"border-blue-200 dark:border-blue-800 hover:border-blue-400 dark:hover:border-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20";case"analysis":return"border-green-200 dark:border-green-800 hover:border-green-400 dark:hover:border-green-600 hover:bg-green-50 dark:hover:bg-green-900/20";default:return"border-gray-200 dark:border-gray-700 hover:border-gray-400 dark:hover:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800"}};return s.jsxs("div",{className:"p-6 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"mb-3",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100 mb-1",children:"Quick Start"}),s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Try these common security queries"})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2",children:r.map(a=>{const i=a.icon;return s.jsxs("button",{onClick:()=>e(a.text),className:`flex items-start gap-3 p-3 rounded-lg border-2 transition-all text-left ${n(a.category)}`,children:[s.jsx(i,{className:"w-4 h-4 mt-0.5 flex-shrink-0 text-gray-600 dark:text-gray-400"}),s.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100 leading-tight",children:a.text})]},a.id)})}),s.jsxs("div",{className:"mt-4 flex flex-wrap gap-3 text-xs text-gray-600 dark:text-gray-400",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),s.jsx("span",{children:"Threat Hunting"})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-orange-500"}),s.jsx("span",{children:"Investigation"})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),s.jsx("span",{children:"Compliance"})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),s.jsx("span",{children:"Analysis"})]})]})]})}function fT({conversations:e,selectedConversationId:t,onConversationSelect:r,onNewConversation:n,onDeleteConversation:a,onArchiveConversation:i,loading:l=!1}){const[o,c]=k.useState(""),[u,h]=k.useState(null),[d,g]=k.useState(null),f=e.filter(m=>{var y;if(!o)return!0;const p=o.toLowerCase();return m.title.toLowerCase().includes(p)||((y=m.tags)==null?void 0:y.some(v=>v.toLowerCase().includes(p)))}),x=m=>{a(m),g(null),h(null)},b=m=>{i==null||i(m),h(null)},j=(m,p)=>{p.stopPropagation(),h(u===m?null:m)};return s.jsxs("div",{className:"w-80 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 flex flex-col h-full",children:[s.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[s.jsx(N0,{className:"w-5 h-5"}),"Conversations"]}),s.jsx("button",{onClick:n,className:"p-2 rounded-lg bg-blue-600 hover:bg-blue-700 text-white transition-colors shadow-sm hover:shadow-md",title:"New conversation",children:s.jsx(bi,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"relative",children:[s.jsx(fa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx("input",{type:"text",value:o,onChange:m=>c(m.target.value),placeholder:"Search conversations...",className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:l?s.jsxs("div",{className:"p-4 text-center text-gray-500 dark:text-gray-400",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-2 text-sm",children:"Loading conversations..."})]}):f.length===0?s.jsxs("div",{className:"p-4 text-center text-gray-500 dark:text-gray-400",children:[s.jsx(N0,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{className:"text-sm",children:o?"No conversations found":"No conversations yet"}),s.jsx("p",{className:"text-xs mt-1",children:o?"Try a different search":"Start a new conversation"})]}):s.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:f.map(m=>s.jsxs("div",{className:"relative group",onClick:()=>{d!==m.id&&r(m.id)},children:[d===m.id&&s.jsx("div",{className:"absolute inset-0 bg-red-50 dark:bg-red-900/20 z-10 flex items-center justify-center p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm font-semibold text-red-800 dark:text-red-200 mb-3",children:"Delete this conversation?"}),s.jsxs("div",{className:"flex gap-2 justify-center",children:[s.jsx("button",{onClick:p=>{p.stopPropagation(),x(m.id)},className:"px-3 py-1.5 bg-red-600 hover:bg-red-700 text-white text-sm rounded-md transition-colors",children:"Delete"}),s.jsx("button",{onClick:p=>{p.stopPropagation(),g(null)},className:"px-3 py-1.5 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-900 dark:text-gray-100 text-sm rounded-md transition-colors",children:"Cancel"})]})]})}),s.jsxs("div",{className:`p-4 cursor-pointer transition-colors ${t===m.id?"bg-blue-50 dark:bg-blue-900/20 border-l-4 border-blue-600":"hover:bg-gray-50 dark:hover:bg-gray-700 border-l-4 border-transparent"}`,children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:`text-sm font-semibold truncate ${t===m.id?"text-blue-900 dark:text-blue-100":"text-gray-900 dark:text-gray-100"}`,children:m.title}),m.lastMessage&&s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 truncate mt-1",children:m.lastMessage.content}),s.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs text-gray-500 dark:text-gray-400",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(vr,{className:"w-3 h-3"}),s.jsx("span",{children:rT(new Date(m.updatedAt),{addSuffix:!0})})]}),m.messageCount!==void 0&&s.jsxs("span",{children:["• ",m.messageCount," messages"]})]}),m.tags&&m.tags.length>0&&s.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[s.jsx(cj,{className:"w-3 h-3 text-gray-400"}),s.jsxs("div",{className:"flex gap-1 flex-wrap",children:[m.tags.slice(0,2).map((p,y)=>s.jsx("span",{className:"px-1.5 py-0.5 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded text-xs",children:p},y)),m.tags.length>2&&s.jsxs("span",{className:"text-xs text-gray-500",children:["+",m.tags.length-2]})]})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("button",{onClick:p=>j(m.id,p),className:"p-1 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors opacity-0 group-hover:opacity-100",children:s.jsx(X1,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})}),u===m.id&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-20",onClick:p=>{p.stopPropagation(),h(null)}}),s.jsxs("div",{className:"absolute right-0 top-6 z-30 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg py-1 min-w-[160px]",children:[i&&!m.isArchived&&s.jsxs("button",{onClick:p=>{p.stopPropagation(),b(m.id)},className:"w-full px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-2",children:[s.jsx(Q1,{className:"w-4 h-4"}),"Archive"]}),s.jsxs("button",{onClick:p=>{p.stopPropagation(),g(m.id),h(null)},className:"w-full px-4 py-2 text-left text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 flex items-center gap-2",children:[s.jsx(Li,{className:"w-4 h-4"}),"Delete"]})]})]})]})]}),m.isNew&&s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx("span",{className:"px-2 py-0.5 bg-blue-600 text-white text-xs font-semibold rounded-full",children:"New"})})]})]},m.id))})}),s.jsxs("div",{className:"p-3 border-t border-gray-200 dark:border-gray-700 text-xs text-gray-500 dark:text-gray-400 text-center",children:[f.length," conversation",f.length!==1?"s":""]})]})}function gT({action:e,onRollback:t}){const[r,n]=k.useState(!1),[a,i]=k.useState(""),[l,o]=k.useState(!1),c=()=>{switch(e.type){case"BlockIP":return Sx;case"IsolateHost":return Tx;case"QuarantineFile":return Ix;case"AddToWatchlist":return xs;case"CreateTicket":return Ox;default:return Kt}},u=()=>{switch(e.status){case"Executed":return{icon:nt,color:"text-green-600 dark:text-green-400",bgColor:"bg-green-100 dark:bg-green-900",borderColor:"border-green-300 dark:border-green-700",label:"Executed"};case"RolledBack":return{icon:oo,color:"text-gray-600 dark:text-gray-400",bgColor:"bg-gray-100 dark:bg-gray-900",borderColor:"border-gray-300 dark:border-gray-700",label:"Rolled Back"};case"Failed":return{icon:xr,color:"text-red-600 dark:text-red-400",bgColor:"bg-red-100 dark:bg-red-900",borderColor:"border-red-300 dark:border-red-700",label:"Failed"};case"Expired":return{icon:vr,color:"text-gray-600 dark:text-gray-400",bgColor:"bg-gray-100 dark:bg-gray-900",borderColor:"border-gray-300 dark:border-gray-700",label:"Expired"};default:return{icon:vr,color:"text-blue-600 dark:text-blue-400",bgColor:"bg-blue-100 dark:bg-blue-900",borderColor:"border-blue-300 dark:border-blue-700",label:"Pending"}}},h=async()=>{t&&(await t(e.id,a||void 0),o(!1),i(""))},d=c(),g=u(),f=g.icon,x=e.status==="Executed"&&t;let b={};try{b=typeof e.actionData=="string"?JSON.parse(e.actionData):e.actionData}catch{b={}}let j=[];try{j=typeof e.executionLog=="string"?JSON.parse(e.executionLog):e.executionLog}catch{j=[]}return s.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800",children:[s.jsxs("div",{className:"p-3 flex items-start gap-3",children:[s.jsx("div",{className:"flex-shrink-0 mt-1",children:s.jsx(d,{className:"w-5 h-5 text-gray-700 dark:text-gray-300"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[s.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:e.type.replace(/([A-Z])/g," $1").trim()}),s.jsxs("div",{className:`flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium ${g.bgColor} ${g.color}`,children:[s.jsx(f,{className:"w-3 h-3"}),s.jsx("span",{children:g.label})]})]}),s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Suggested: ",new Date(e.suggestedAt).toLocaleString()]}),e.executedAt&&s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Executed: ",new Date(e.executedAt).toLocaleString(),e.executedBy&&` by ${e.executedBy}`]}),e.rolledBackAt&&s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Rolled Back: ",new Date(e.rolledBackAt).toLocaleString(),e.rolledBackBy&&` by ${e.rolledBackBy}`]}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[x&&!l&&s.jsxs("button",{onClick:()=>o(!0),className:"px-2 py-1 text-xs font-medium rounded bg-orange-600 text-white hover:bg-orange-700 transition-colors flex items-center gap-1",children:[s.jsx(oo,{className:"w-3 h-3"}),s.jsx("span",{children:"Undo"})]}),s.jsx("button",{onClick:()=>n(!r),className:"px-2 py-1 text-xs font-medium rounded bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors flex items-center gap-1",children:r?s.jsxs(s.Fragment,{children:[s.jsx(_x,{className:"w-3 h-3"}),s.jsx("span",{children:"Less"})]}):s.jsxs(s.Fragment,{children:[s.jsx(Cx,{className:"w-3 h-3"}),s.jsx("span",{children:"Details"})]})})]}),l&&s.jsxs("div",{className:"mt-3 p-3 bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded",children:[s.jsx("label",{className:"text-xs font-medium text-gray-700 dark:text-gray-300 block mb-1",children:"Reason for rollback (optional):"}),s.jsx("textarea",{value:a,onChange:m=>i(m.target.value),placeholder:"Enter reason...",rows:2,className:"w-full px-2 py-1 text-xs border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-orange-500"}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx("button",{onClick:h,className:"px-2 py-1 text-xs font-medium rounded bg-orange-600 text-white hover:bg-orange-700 transition-colors",children:"Confirm Rollback"}),s.jsx("button",{onClick:()=>{o(!1),i("")},className:"px-2 py-1 text-xs font-medium rounded bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",children:"Cancel"})]})]})]})]}),r&&s.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 p-3 space-y-3",children:[Object.keys(b).length>0&&s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300 mb-1",children:"Parameters:"}),s.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 rounded p-2 space-y-1",children:Object.entries(b).map(([m,p])=>s.jsxs("div",{className:"text-xs flex justify-between",children:[s.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[m,":"]}),s.jsx("span",{className:"text-gray-900 dark:text-gray-100 font-mono",children:typeof p=="object"?JSON.stringify(p):String(p)})]},m))})]}),(e.beforeState||e.afterState)&&s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.beforeState&&s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300 mb-1",children:"Before State:"}),s.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 rounded p-2 text-xs font-mono text-gray-900 dark:text-gray-100 overflow-x-auto",children:e.beforeState})]}),e.afterState&&s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300 mb-1",children:"After State:"}),s.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 rounded p-2 text-xs font-mono text-gray-900 dark:text-gray-100 overflow-x-auto",children:e.afterState})]})]}),j.length>0&&s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300 mb-1",children:"Execution Log:"}),s.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 rounded p-2 space-y-1 max-h-40 overflow-y-auto",children:j.map((m,p)=>s.jsx("div",{className:"text-xs text-gray-700 dark:text-gray-300",children:typeof m=="string"?m:JSON.stringify(m)},p))})]}),e.rollbackReason&&s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300 mb-1",children:"Rollback Reason:"}),s.jsx("div",{className:"bg-orange-50 dark:bg-orange-900/20 rounded p-2 text-xs text-gray-700 dark:text-gray-300 italic",children:e.rollbackReason})]}),s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 space-y-0.5",children:[s.jsxs("div",{children:["Action ID: ",e.id]}),s.jsxs("div",{children:["Conversation ID: ",e.conversationId]}),s.jsxs("div",{children:["Message ID: ",e.chatMessageId]})]})]})]})}function mT({conversationId:e,onClose:t,onRollback:r}){const[n,a]=k.useState("all"),{data:i=[],isLoading:l,refetch:o}=Re({queryKey:["action-history",e],queryFn:()=>Cl.getActionHistory(e),enabled:!!e,refetchInterval:5e3}),c=i.filter(g=>{switch(n){case"pending":return g.status===We.Pending;case"executed":return g.status===We.Executed;case"rolledback":return g.status===We.RolledBack;case"failed":return g.status===We.Failed||g.status===We.Expired;default:return!0}}),u={all:i.length,pending:i.filter(g=>g.status===We.Pending).length,executed:i.filter(g=>g.status===We.Executed).length,rolledback:i.filter(g=>g.status===We.RolledBack).length,failed:i.filter(g=>g.status===We.Failed||g.status===We.Expired).length},h=async(g,f)=>{if(!r)return;const x=i.find(j=>j.id===g);if(!x)return;const b=`${x.chatMessageId}-${x.type}`;await r(g,b,f),o()},d=[{key:"all",label:"All"},{key:"pending",label:"Pending"},{key:"executed",label:"Executed"},{key:"rolledback",label:"Rolled Back"},{key:"failed",label:"Failed"}];return s.jsxs("div",{className:"fixed inset-y-0 right-0 w-96 bg-white dark:bg-gray-800 border-l border-gray-200 dark:border-gray-700 shadow-xl flex flex-col z-50",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Hu,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Action History"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>o(),className:"p-1 rounded hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-400 transition-colors",title:"Refresh",children:s.jsx(vi,{className:"w-4 h-4"})}),s.jsx("button",{onClick:t,className:"p-1 rounded hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-400 transition-colors",title:"Close",children:s.jsx(ga,{className:"w-4 h-4"})})]})]}),s.jsx("div",{className:"flex border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900",children:d.map(g=>s.jsxs("button",{onClick:()=>a(g.key),className:`flex-1 px-3 py-2 text-xs font-medium transition-colors relative ${n===g.key?"text-blue-600 dark:text-blue-400 bg-white dark:bg-gray-800":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:[s.jsx("span",{children:g.label}),u[g.key]>0&&s.jsx("span",{className:`ml-1.5 px-1.5 py-0.5 rounded-full text-[10px] ${n===g.key?"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300":"bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400"}`,children:u[g.key]}),n===g.key&&s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-blue-600 dark:bg-blue-400"})]},g.key))}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:l?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 dark:border-blue-400"})}):c.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[s.jsx(Hu,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{className:"text-sm",children:n==="all"?"No actions yet":`No ${n} actions`})]}):s.jsx("div",{className:"space-y-3",children:c.map(g=>s.jsx(gT,{action:g,onRollback:r?h:void 0},g.id))})}),s.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 p-3 bg-gray-50 dark:bg-gray-900",children:s.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400 space-y-1",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Total Actions:"}),s.jsx("span",{className:"font-medium",children:u.all})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Executed:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:u.executed})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Pending:"}),s.jsx("span",{className:"font-medium text-blue-600 dark:text-blue-400",children:u.pending})]}),u.rolledback>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Rolled Back:"}),s.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:u.rolledback})]}),u.failed>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Failed:"}),s.jsx("span",{className:"font-medium text-red-600 dark:text-red-400",children:u.failed})]})]})})]})}function pT(){const{token:e,loading:t}=mt(),r=gt(),n=Ft(),[a,i]=k.useState(null),[l,o]=k.useState([]),[c,u]=k.useState(new Map),[h,d]=k.useState(!1),g=k.useRef(null);k.useEffect(()=>{!t&&!e&&r("/login")},[e,t,r]);const f=Re({queryKey:["chat-conversations"],queryFn:()=>ka.getConversations(),enabled:!t&&!!e,retry:2,retryDelay:1e3,staleTime:3e4}),x=Re({queryKey:["chat-conversation",a],queryFn:()=>ka.getConversation(a),enabled:!t&&!!e&&!!a,staleTime:0,gcTime:0});k.useEffect(()=>{var L;(L=x.data)!=null&&L.messages?o(x.data.messages):a||o([])},[x.data,a]),k.useEffect(()=>{var L;(L=g.current)==null||L.scrollIntoView({behavior:"smooth"})},[l]);const b=ct({mutationFn:L=>ka.sendMessage(L),onSuccess:L=>{const P={...L.message,id:L.message.id||`msg-${Date.now()}`};o(I=>[...I,P]),a||i(L.conversationId),n.invalidateQueries({queryKey:["chat-conversations"]}),n.invalidateQueries({queryKey:["chat-conversation",a||L.conversationId]})},onError:L=>{console.error("Failed to send message:",L),alert(`Failed to send message: ${L.message||"Unknown error"}`),o(P=>P.slice(0,-1))}}),j=ct({mutationFn:()=>ka.createConversation(),onSuccess:L=>{i(L.id),o([]),n.invalidateQueries({queryKey:["chat-conversations"]})}}),m=ct({mutationFn:L=>ka.deleteConversation(L),onMutate:async L=>{await n.cancelQueries({queryKey:["chat-conversations"]});const P=n.getQueryData(["chat-conversations"]);return n.setQueryData(["chat-conversations"],I=>I?I.filter(B=>B.id!==L):[]),a===L&&(i(null),o([])),{previousConversations:P}},onError:(L,P,I)=>{I!=null&&I.previousConversations&&n.setQueryData(["chat-conversations"],I.previousConversations),console.error("Failed to delete conversation:",L),alert(`Failed to delete conversation: ${L.message||"Unknown error"}`)},onSettled:()=>{n.invalidateQueries({queryKey:["chat-conversations"]})}}),p=L=>{m.mutate(L)},y=L=>{ka.archiveConversation(L).then(()=>{n.invalidateQueries({queryKey:["chat-conversations"]})})},v=async L=>{if(!L.trim())return;const P={id:`msg-${Date.now()}`,conversationId:a||"temp",role:"user",content:L,timestamp:new Date().toISOString()};o(I=>[...I,P]),b.mutate({message:L,conversationId:a||void 0})},E=L=>{L.url&&r(L.url)},C=L=>{switch(L.toLowerCase()){case"block_ip":case"blockip":return nr.BlockIP;case"isolate_host":case"isolatehost":return nr.IsolateHost;case"quarantine_file":case"quarantinefile":return nr.QuarantineFile;case"add_to_watchlist":case"addtowatchlist":return nr.AddToWatchlist;case"create_ticket":case"createticket":return nr.CreateTicket;default:throw new Error(`Unknown action type: ${L}`)}},M=async(L,P)=>{if(!a){alert("No conversation selected");return}try{const I={conversationId:a,chatMessageId:P,type:C(L.type),actionData:L.parameters||{}},B=await Cl.suggestAction(I);u(G=>{const T=new Map(G),K=`${P}-${L.type}`;return T.set(K,B),T}),console.log("Action suggested:",B)}catch(I){console.error("Failed to suggest action:",I),alert(`Failed to suggest action: ${I.message||"Unknown error"}`)}},O=async(L,P)=>{const I=`${P}-${L.type}`,B=c.get(I);if(!B){await M(L,P),setTimeout(async()=>{const G=c.get(I);G&&await U(G.id,I)},500);return}await U(B.id,I)},U=async(L,P)=>{try{const I=await Cl.executeAction(L);u(B=>{const G=new Map(B);return G.set(P,I),G}),console.log("Action executed:",I)}catch(I){console.error("Failed to execute action:",I),alert(`Failed to execute action: ${I.message||"Unknown error"}`)}},R=async(L,P,I)=>{try{const B=await Cl.rollbackAction(L,{reason:I});u(G=>{const T=new Map(G);return T.set(P,B),T}),console.log("Action rolled back:",B)}catch(B){console.error("Failed to rollback action:",B),alert(`Failed to rollback action: ${B.message||"Unknown error"}`)}},_=f.data||[],F=_.find(L=>L.id===a);return s.jsxs("div",{className:"h-screen bg-gray-50 dark:bg-gray-900 flex overflow-hidden",children:[s.jsx(fT,{conversations:_,selectedConversationId:a||void 0,onConversationSelect:i,onNewConversation:()=>j.mutate(),onDeleteConversation:p,onArchiveConversation:y,loading:f.isLoading}),s.jsxs("div",{className:"flex-1 flex flex-col h-full",children:[s.jsx("div",{className:"flex-shrink-0 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"px-8 py-6 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:(F==null?void 0:F.title)||"CastellanAI Chat"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Ask questions about your security events"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[a&&s.jsxs("button",{onClick:()=>d(!h),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${h?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,title:"View action history",children:[s.jsx(Hu,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:"Actions"})]}),s.jsx(Oi,{})]})]})}),!a&&l.length===0&&s.jsx(hT,{onSuggestionClick:v,context:"default"}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-8",children:[!a&&l.length===0&&s.jsxs("div",{className:"text-center py-16",children:[s.jsx(Dx,{className:"h-16 w-16 mx-auto text-gray-400 dark:text-gray-600 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Start a Conversation"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Select a suggestion above or type your security question below"})]}),l.map(L=>s.jsx(sT,{message:L,conversationId:a||void 0,actionExecutions:c,onActionExecute:O,onActionRollback:R,onCitationClick:E},L.id)),b.isPending&&s.jsx(iT,{message:"CastellanAI is analyzing your security query...",showProgress:!0,estimatedTimeMs:3e3}),s.jsx("div",{ref:g})]}),s.jsx(lT,{onSendMessage:v,disabled:b.isPending,loading:b.isPending,placeholder:"Ask CastellanAI about security events, threats, compliance, or investigations...",maxLength:2e3})]}),h&&a&&s.jsx(mT,{conversationId:a,onClose:()=>d(!1),onRollback:R})]})}function xT(){return s.jsx(rN,{children:s.jsxs(s0,{children:[s.jsx(pt,{path:"/login",element:s.jsx(aN,{})}),s.jsx(pt,{path:"/*",element:s.jsx(gj,{children:s.jsxs(s0,{children:[s.jsx(pt,{path:"/",element:s.jsx(nN,{})}),s.jsx(pt,{path:"/security-events",element:s.jsx(iN,{})}),s.jsx(pt,{path:"/security-events/:id",element:s.jsx(oN,{})}),s.jsx(pt,{path:"/timeline",element:s.jsx(uN,{})}),s.jsx(pt,{path:"/mitre-attack",element:s.jsx(pN,{})}),s.jsx(pt,{path:"/malware-rules",element:s.jsx(CN,{})}),s.jsx(pt,{path:"/threat-scanner",element:s.jsx(EN,{})}),s.jsx(pt,{path:"/system-status",element:s.jsx(AN,{})}),s.jsx(pt,{path:"/configuration",element:s.jsx(HN,{})}),s.jsx(pt,{path:"/chat",element:s.jsx(pT,{})})]})})}),s.jsx(pt,{path:"*",element:s.jsx(ow,{to:"/",replace:!0})})]})})}const yT=new Bw({defaultOptions:{queries:{staleTime:5*60*1e3,gcTime:30*60*1e3,refetchOnWindowFocus:!1,retry:1}}});Ic.createRoot(document.getElementById("root")).render(s.jsx(hd.StrictMode,{children:s.jsxs(Hw,{client:yT,children:[s.jsx(pw,{children:s.jsx(xT,{})}),s.jsx(B1,{position:"top-right"})]})}));
